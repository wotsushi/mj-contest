import { calcPoints } from "./point";

describe("calcPoints", () => {
  type TestCase = [scores: number[], kyotaku: number, expected: number[]];
  it.each<TestCase>([
    [[40000, 30000, 20000, 10000], 0, [40, 5, -15, -30]],
    [[40400, 29600, 20500, 9500], 0, [40.4, 4.6, -14.5, -30.5]],
    [[100000, 10000, 0, -10000], 0, [100, -15, -35, -50]],
    [[30000, 30000, 20000, 20000], 0, [17.5, 17.5, -17.5, -17.5]],
    [[30000, 30000, 30000, 10000], 0, [10, 10, 10, -30]],
    [[20000, 40000, 20000, 20000], 0, [-13.3, 40, -13.3, -13.4]],
    [[9000, 20000, 30000, 40000], 1000, [-31, -15, 5, 41]],
    [[0, 19000, 40000, 40000], 1000, [-40, -16, 28, 28]],
    [[30000, 30000, 9000, 30000], 1000, [10.4, 10.3, -31, 10.3]],
    [[30000, 30000, 8000, 30000], 2000, [10.8, 10.6, -32, 10.6]],
    [[30000, 30000, 7000, 30000], 3000, [11, 11, -33, 11]],
  ])(`scores=%p kyotaku=%i expected=%p`, (scores, kyotaku, expected) => {
    expect(calcPoints(scores, kyotaku)).toEqual(expected);
  });
});
