(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function CS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Id={exports:{}},fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function DS(){if(Nv)return fo;Nv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:f,ref:l!==void 0?l:null,props:u}}return fo.Fragment=t,fo.jsx=r,fo.jsxs=r,fo}var Mv;function xS(){return Mv||(Mv=1,Id.exports=DS()),Id.exports}var Q=xS(),Od={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function VS(){if(Uv)return wt;Uv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function P(O,et,ht){this.props=O,this.context=et,this.refs=j,this.updater=ht||D}P.prototype.isReactComponent={},P.prototype.setState=function(O,et){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,et,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=P.prototype;function J(O,et,ht){this.props=O,this.context=et,this.refs=j,this.updater=ht||D}var X=J.prototype=new F;X.constructor=J,N(X,P.prototype),X.isPureReactComponent=!0;var ot=Array.isArray,at={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function V(O,et,ht,lt,st,St){return ht=St.ref,{$$typeof:i,type:O,key:et,ref:ht!==void 0?ht:null,props:St}}function w(O,et){return V(O.type,et,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function I(O){var et={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ht){return et[ht]})}var U=/\/+/g;function k(O,et){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):et.toString(36)}function x(){}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(et){O.status==="pending"&&(O.status="fulfilled",O.value=et)},function(et){O.status==="pending"&&(O.status="rejected",O.reason=et)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function oe(O,et,ht,lt,st){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Tt=!1;if(O===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(O.$$typeof){case i:case t:Tt=!0;break;case E:return Tt=O._init,oe(Tt(O._payload),et,ht,lt,st)}}if(Tt)return st=st(O),Tt=lt===""?"."+k(O,0):lt,ot(st)?(ht="",Tt!=null&&(ht=Tt.replace(U,"$&/")+"/"),oe(st,et,ht,"",function(Ft){return Ft})):st!=null&&(b(st)&&(st=w(st,ht+(st.key==null||O&&O.key===st.key?"":(""+st.key).replace(U,"$&/")+"/")+Tt)),et.push(st)),1;Tt=0;var ee=lt===""?".":lt+":";if(ot(O))for(var Vt=0;Vt<O.length;Vt++)lt=O[Vt],St=ee+k(lt,Vt),Tt+=oe(lt,et,ht,St,st);else if(Vt=R(O),typeof Vt=="function")for(O=Vt.call(O),Vt=0;!(lt=O.next()).done;)lt=lt.value,St=ee+k(lt,Vt++),Tt+=oe(lt,et,ht,St,st);else if(St==="object"){if(typeof O.then=="function")return oe(me(O),et,ht,lt,st);throw et=String(O),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function it(O,et,ht){if(O==null)return O;var lt=[],st=0;return oe(O,lt,"","",function(St){return et.call(ht,St,st++)}),lt}function yt(O){if(O._status===-1){var et=O._result;et=et(),et.then(function(ht){(O._status===0||O._status===-1)&&(O._status=1,O._result=ht)},function(ht){(O._status===0||O._status===-1)&&(O._status=2,O._result=ht)}),O._status===-1&&(O._status=0,O._result=et)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ct(){}return wt.Children={map:it,forEach:function(O,et,ht){it(O,function(){et.apply(this,arguments)},ht)},count:function(O){var et=0;return it(O,function(){et++}),et},toArray:function(O){return it(O,function(et){return et})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},wt.Component=P,wt.Fragment=r,wt.Profiler=l,wt.PureComponent=J,wt.StrictMode=a,wt.Suspense=g,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cloneElement=function(O,et,ht){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=N({},O.props),st=O.key,St=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(St=void 0),et.key!==void 0&&(st=""+et.key),et)!ct.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(lt[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=ht;else if(1<Tt){for(var ee=Array(Tt),Vt=0;Vt<Tt;Vt++)ee[Vt]=arguments[Vt+2];lt.children=ee}return V(O.type,st,void 0,void 0,St,lt)},wt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,et,ht){var lt,st={},St=null;if(et!=null)for(lt in et.key!==void 0&&(St=""+et.key),et)ct.call(et,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(st[lt]=et[lt]);var Tt=arguments.length-2;if(Tt===1)st.children=ht;else if(1<Tt){for(var ee=Array(Tt),Vt=0;Vt<Tt;Vt++)ee[Vt]=arguments[Vt+2];st.children=ee}if(O&&O.defaultProps)for(lt in Tt=O.defaultProps,Tt)st[lt]===void 0&&(st[lt]=Tt[lt]);return V(O,St,void 0,void 0,null,st)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:m,render:O}},wt.isValidElement=b,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:yt}},wt.memo=function(O,et){return{$$typeof:y,type:O,compare:et===void 0?null:et}},wt.startTransition=function(O){var et=at.T,ht={};at.T=ht;try{var lt=O(),st=at.S;st!==null&&st(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ct,mt)}catch(St){mt(St)}finally{at.T=et}},wt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},wt.use=function(O){return at.H.use(O)},wt.useActionState=function(O,et,ht){return at.H.useActionState(O,et,ht)},wt.useCallback=function(O,et){return at.H.useCallback(O,et)},wt.useContext=function(O){return at.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,et){return at.H.useDeferredValue(O,et)},wt.useEffect=function(O,et){return at.H.useEffect(O,et)},wt.useId=function(){return at.H.useId()},wt.useImperativeHandle=function(O,et,ht){return at.H.useImperativeHandle(O,et,ht)},wt.useInsertionEffect=function(O,et){return at.H.useInsertionEffect(O,et)},wt.useLayoutEffect=function(O,et){return at.H.useLayoutEffect(O,et)},wt.useMemo=function(O,et){return at.H.useMemo(O,et)},wt.useOptimistic=function(O,et){return at.H.useOptimistic(O,et)},wt.useReducer=function(O,et,ht){return at.H.useReducer(O,et,ht)},wt.useRef=function(O){return at.H.useRef(O)},wt.useState=function(O){return at.H.useState(O)},wt.useSyncExternalStore=function(O,et,ht){return at.H.useSyncExternalStore(O,et,ht)},wt.useTransition=function(){return at.H.useTransition()},wt.version="19.0.0",wt}var Lv;function Lm(){return Lv||(Lv=1,Od.exports=VS()),Od.exports}var K=Lm();const ks=CS(K);var Nd={exports:{}},mo={},Md={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function IS(){return Pv||(Pv=1,function(i){function t(it,yt){var mt=it.length;it.push(yt);t:for(;0<mt;){var Ct=mt-1>>>1,O=it[Ct];if(0<l(O,yt))it[Ct]=yt,it[mt]=O,mt=Ct;else break t}}function r(it){return it.length===0?null:it[0]}function a(it){if(it.length===0)return null;var yt=it[0],mt=it.pop();if(mt!==yt){it[0]=mt;t:for(var Ct=0,O=it.length,et=O>>>1;Ct<et;){var ht=2*(Ct+1)-1,lt=it[ht],st=ht+1,St=it[st];if(0>l(lt,mt))st<O&&0>l(St,lt)?(it[Ct]=St,it[st]=mt,Ct=st):(it[Ct]=lt,it[ht]=mt,Ct=ht);else if(st<O&&0>l(St,mt))it[Ct]=St,it[st]=mt,Ct=st;else break t}}return yt}function l(it,yt){var mt=it.sortIndex-yt.sortIndex;return mt!==0?mt:it.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,A=null,R=3,D=!1,N=!1,j=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(it){for(var yt=r(y);yt!==null;){if(yt.callback===null)a(y);else if(yt.startTime<=it)a(y),yt.sortIndex=yt.expirationTime,t(g,yt);else break;yt=r(y)}}function ot(it){if(j=!1,X(it),!N)if(r(g)!==null)N=!0,me();else{var yt=r(y);yt!==null&&oe(ot,yt.startTime-it)}}var at=!1,ct=-1,V=5,w=-1;function b(){return!(i.unstable_now()-w<V)}function I(){if(at){var it=i.unstable_now();w=it;var yt=!0;try{t:{N=!1,j&&(j=!1,F(ct),ct=-1),D=!0;var mt=R;try{e:{for(X(it),A=r(g);A!==null&&!(A.expirationTime>it&&b());){var Ct=A.callback;if(typeof Ct=="function"){A.callback=null,R=A.priorityLevel;var O=Ct(A.expirationTime<=it);if(it=i.unstable_now(),typeof O=="function"){A.callback=O,X(it),yt=!0;break e}A===r(g)&&a(g),X(it)}else a(g);A=r(g)}if(A!==null)yt=!0;else{var et=r(y);et!==null&&oe(ot,et.startTime-it),yt=!1}}break t}finally{A=null,R=mt,D=!1}yt=void 0}}finally{yt?U():at=!1}}}var U;if(typeof J=="function")U=function(){J(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,x=k.port2;k.port1.onmessage=I,U=function(){x.postMessage(null)}}else U=function(){P(I,0)};function me(){at||(at=!0,U())}function oe(it,yt){ct=P(function(){it(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(it){it.callback=null},i.unstable_continueExecution=function(){N||D||(N=!0,me())},i.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<it?Math.floor(1e3/it):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return r(g)},i.unstable_next=function(it){switch(R){case 1:case 2:case 3:var yt=3;break;default:yt=R}var mt=R;R=yt;try{return it()}finally{R=mt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(it,yt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var mt=R;R=it;try{return yt()}finally{R=mt}},i.unstable_scheduleCallback=function(it,yt,mt){var Ct=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ct+mt:Ct):mt=Ct,it){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=mt+O,it={id:E++,callback:yt,priorityLevel:it,startTime:mt,expirationTime:O,sortIndex:-1},mt>Ct?(it.sortIndex=mt,t(y,it),r(g)===null&&it===r(y)&&(j?(F(ct),ct=-1):j=!0,oe(ot,mt-Ct))):(it.sortIndex=O,t(g,it),N||D||(N=!0,me())),it},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(it){var yt=R;return function(){var mt=R;R=yt;try{return it.apply(this,arguments)}finally{R=mt}}}}(Ud)),Ud}var zv;function OS(){return zv||(zv=1,Md.exports=IS()),Md.exports}var Ld={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function NS(){if(kv)return We;kv=1;var i=Lm();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,E)},We.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},We.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},We.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},We.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:D}):E==="script"&&a.d.X(g,{crossOrigin:A,integrity:R,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},We.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},We.requestFormReset=function(g){a.d.r(g)},We.unstable_batchedUpdates=function(g,y){return g(y)},We.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},We.useFormStatus=function(){return f.H.useHostTransitionStatus()},We.version="19.0.0",We}var Bv;function MS(){if(Bv)return Ld.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ld.exports=NS(),Ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function US(){if(jv)return mo;jv=1;var i=OS(),t=Lm(),r=MS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ot=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function ct(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,U,k;function x(e){if(U===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);U=n&&n[1]||"",k=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+e+k}var me=!1;function oe(e,n){if(!e||me)return"";me=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch($){var H=$}Reflect.construct(e,[],tt)}else{try{tt.call()}catch($){H=$}e.call(tt.prototype)}}else{try{throw Error()}catch($){H=$}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),L=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===L.length)for(o=C.length-1,h=L.length-1;1<=o&&0<=h&&C[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==L[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{me=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?x(s):""}function it(e){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function yt(e){try{var n="";do n+=it(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function mt(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ct(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(mt(e)!==e)throw Error(a(188))}function et(e){var n=e.alternate;if(!n){if(n=mt(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return O(h),e;if(d===o)return O(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,o=d;break}if(T===o){_=!0,o=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,o=h;break}if(T===o){_=!0,o=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function ht(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ht(e),n!==null)return n;e=e.sibling}return null}var lt=Array.isArray,st=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Tt=[],ee=-1;function Vt(e){return{current:e}}function Ft(e){0>ee||(e.current=Tt[ee],Tt[ee]=null,ee--)}function jt(e,n){ee++,Tt[ee]=e.current,e.current=n}var ve=Vt(null),Ne=Vt(null),bn=Vt(null),Jr=Vt(null);function ti(e,n){switch(jt(bn,n),jt(Ne,e),jt(ve,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ov(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=ov(e),n=uv(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Ft(ve),jt(ve,n)}function Sr(){Ft(ve),Ft(Ne),Ft(bn)}function ll(e){e.memoizedState!==null&&jt(Jr,e);var n=ve.current,s=uv(n,e.type);n!==s&&(jt(Ne,e),jt(ve,s))}function ja(e){Ne.current===e&&(Ft(ve),Ft(Ne)),Jr.current===e&&(Ft(Jr),lo._currentValue=St)}var qa=Object.prototype.hasOwnProperty,Ji=i.unstable_scheduleCallback,Ha=i.unstable_cancelCallback,Oh=i.unstable_shouldYield,ol=i.unstable_requestPaint,on=i.unstable_now,Yo=i.unstable_getCurrentPriorityLevel,be=i.unstable_ImmediatePriority,Me=i.unstable_UserBlockingPriority,Ar=i.unstable_NormalPriority,Xo=i.unstable_LowPriority,ul=i.unstable_IdlePriority,Nh=i.log,ta=i.unstable_setDisableYieldValue,ei=null,Xe=null;function cl(e){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ei,e,void 0,(e.current.flags&128)===128)}catch{}}function Xn(e){if(typeof Nh=="function"&&ta(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ei,e)}catch{}}var nn=Math.clz32?Math.clz32:Wo,hl=Math.log,Zo=Math.LN2;function Wo(e){return e>>>=0,e===0?32:31-(hl(e)/Zo|0)|0}var Zn=128,ni=4194304;function qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rn(e,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?o=qn(s):(d&=T,d!==0?o=qn(d):e||(_=T&~_,_!==0&&(o=qn(_))))):(T=s&~h,T!==0?o=qn(T):d!==0?o=qn(d):e||(_=s&~_,_!==0&&(o=qn(_)))),o===0?0:n!==0&&n!==o&&(n&h)===0&&(h=o&-o,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:o}function ri(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ga(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fl(){var e=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),e}function ii(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function Fa(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jo(e,n,s,o,h,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(s=_&~s;0<s;){var Y=31-nn(s),tt=1<<Y;T[Y]=0,C[Y]=-1;var H=L[Y];if(H!==null)for(L[Y]=null,Y=0;Y<H.length;Y++){var $=H[Y];$!==null&&($.lane&=-536870913)}s&=~tt}o!==0&&ai(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function ai(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-nn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194218}function si(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-nn(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function tu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Cv(e.type))}function li(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Wn=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Wn,Re="__reactProps$"+Wn,br="__reactContainer$"+Wn,ea="__reactEvents$"+Wn,Qa="__reactListeners$"+Wn,Jn="__reactHandles$"+Wn,dl="__reactResources$"+Wn,oi="__reactMarker$"+Wn;function na(e){delete e[Ue],delete e[Re],delete e[ea],delete e[Qa],delete e[Jn]}function Hn(e){var n=e[Ue];if(n)return n;for(var s=e.parentNode;s;){if(n=s[br]||s[Ue]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=fv(e);e!==null;){if(s=e[Ue])return s;e=fv(e)}return n}e=s,s=e.parentNode}return null}function Rr(e){if(e=e[Ue]||e[br]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ui(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[dl];return n||(n=e[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function re(e){e[oi]=!0}var ml=new Set,$a={};function pn(e,n){un(e,n),un(e+"Capture",n)}function un(e,n){for($a[e]=n,e=0;e<n.length;e++)ml.add(n[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},gl={};function nu(e){return qa.call(gl,e)?!0:qa.call(pl,e)?!1:Mh.test(e)?gl[e]=!0:(pl[e]=!0,!1)}function hi(e,n,s){if(nu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function wn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ru(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uh(e){var n=ru(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ra(e){e._valueTracker||(e._valueTracker=Uh(e))}function yl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ru(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function ue(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function di(e,n,s,o,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Ya(e,_,rn(n)):s!=null?Ya(e,_,rn(s)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+rn(T):e.removeAttribute("name")}function ia(e,n,s,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+rn(s):"",n=n!=null?""+rn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ya(e,n,s){n==="number"&&Ka(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function qt(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+rn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function aa(e,n,s){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+rn(s):""}function mi(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(lt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=rn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function Cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Lh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function iu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&vl(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&vl(e,d,n[d])}function _l(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return zh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dn=null;function Xa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cr=null,Dr=null;function xr(e){var n=Rr(e);if(n&&(e=n.stateNode)){var s=e[Re]||null;t:switch(e=n.stateNode,n.type){case"input":if(di(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ue(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Re]||null;if(!h)throw Error(a(90));di(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&yl(o)}break t;case"textarea":aa(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&qt(e,!!s.multiple,n,!1)}}}var El=!1;function au(e,n,s){if(El)return e(n,s);El=!0;try{var o=e(n);return o}finally{if(El=!1,(Cr!==null||Dr!==null)&&(Xu(),Cr&&(n=Cr,e=Dr,Dr=Cr=null,xr(n),e)))for(n=0;n<e.length;n++)xr(e[n])}}function sa(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Re]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var xn=!1;if(gn)try{var la={};Object.defineProperty(la,"passive",{get:function(){xn=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{xn=!1}var er=null,pi=null,Vr=null;function Tl(){if(Vr)return Vr;var e,n=pi,s=n.length,o,h="value"in er?er.value:er.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===h[d-o];o++);return Vr=h.slice(e,1<o?1-o:void 0)}function nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function Sl(){return!1}function Le(e){function n(s,o,h,d,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rr:Sl,this.isPropagationStopped=Sl,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Le(Qt),oa=I({},Qt,{view:0,detail:0}),su=Le(oa),Wa,Ja,ir,ua=I({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&e.type==="mousemove"?(Wa=e.screenX-ir.screenX,Ja=e.screenY-ir.screenY):Ja=Wa=0,ir=e),Wa)},movementY:function(e){return"movementY"in e?e.movementY:Ja}}),Vn=Le(ua),lu=I({},ua,{dataTransfer:0}),kh=Le(lu),ca=I({},oa,{relatedTarget:0}),ts=Le(ca),Al=I({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),es=Le(Al),ou=I({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ns=Le(ou),Bh=I({},Qt,{data:0}),bl=Le(Bh),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=cu[e])?!!n[e]:!1}function fa(){return Rl}var hu=I({},oa,{key:function(e){if(e.key){var n=ha[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fa,charCode:function(e){return e.type==="keypress"?nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rs=Le(hu),fu=I({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wl=Le(fu),Ir=I({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fa}),du=Le(Ir),mu=I({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Le(mu),gu=I({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),is=Le(gu),an=I({},Qt,{newState:0,oldState:0}),yu=Le(an),vu=[9,13,27,32],ar=gn&&"CompositionEvent"in window,c=null;gn&&"documentMode"in document&&(c=document.documentMode);var p=gn&&"TextEvent"in window&&!c,v=gn&&(!ar||c&&8<c&&11>=c),S=" ",B=!1;function G(e,n){switch(e){case"keyup":return vu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lt=!1;function we(e,n){switch(e){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(B=!0,S);case"textInput":return e=n.data,e===S&&B?null:e;default:return null}}function Pt(e,n){if(Lt)return e==="compositionend"||!ar&&G(e,n)?(e=Tl(),Vr=pi=er=null,Lt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Pe[e.type]:n==="textarea"}function Or(e,n,s,o){Cr?Dr?Dr.push(o):Dr=[o]:Cr=o,n=ec(n,"onChange"),0<n.length&&(s=new Za("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var He=null,sr=null;function Cl(e){rv(e,0)}function _u(e){var n=ui(e);if(yl(n))return e}function Op(e,n){if(e==="change")return n}var Np=!1;if(gn){var jh;if(gn){var qh="oninput"in document;if(!qh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),qh=typeof Mp.oninput=="function"}jh=qh}else jh=!1;Np=jh&&(!document.documentMode||9<document.documentMode)}function Up(){He&&(He.detachEvent("onpropertychange",Lp),sr=He=null)}function Lp(e){if(e.propertyName==="value"&&_u(sr)){var n=[];Or(n,sr,e,Xa(e)),au(Cl,n)}}function r1(e,n,s){e==="focusin"?(Up(),He=n,sr=s,He.attachEvent("onpropertychange",Lp)):e==="focusout"&&Up()}function i1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(sr)}function a1(e,n){if(e==="click")return _u(n)}function s1(e,n){if(e==="input"||e==="change")return _u(n)}function l1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:l1;function Dl(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!qa.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zp(e,n){var s=Pp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Pp(s)}}function kp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ka(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ka(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function o1(e,n){var s=Bp(n);n=e.focusedElem;var o=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&kp(n.ownerDocument.documentElement,n)){if(o!==null&&Hh(n)){if(e=o.start,s=o.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var h=n.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!s.extend&&d>o&&(h=o,o=d,d=h),h=zp(n,d);var _=zp(n,o);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),s.removeAllRanges(),d>o?(s.addRange(e),s.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var u1=gn&&"documentMode"in document&&11>=document.documentMode,as=null,Gh=null,xl=null,Fh=!1;function jp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Fh||as==null||as!==Ka(o)||(o=as,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xl&&Dl(xl,o)||(xl=o,o=ec(Gh,"onSelect"),0<o.length&&(n=new Za("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=as)))}function da(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ss={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Qh={},qp={};gn&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function ma(e){if(Qh[e])return Qh[e];if(!ss[e])return e;var n=ss[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in qp)return Qh[e]=n[s];return e}var Hp=ma("animationend"),Gp=ma("animationiteration"),Fp=ma("animationstart"),c1=ma("transitionrun"),h1=ma("transitionstart"),f1=ma("transitioncancel"),Qp=ma("transitionend"),$p=new Map,Kp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gn(e,n){$p.set(e,n),pn(n,[e])}var In=[],ls=0,$h=0;function Eu(){for(var e=ls,n=$h=ls=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Yp(s,h,d)}}function Tu(e,n,s,o){In[ls++]=e,In[ls++]=n,In[ls++]=s,In[ls++]=o,$h|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Kh(e,n,s,o){return Tu(e,n,s,o),Su(e)}function gi(e,n){return Tu(e,null,null,n),Su(e)}function Yp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&n!==null&&e.tag===3&&(d=e.stateNode,h=31-nn(s),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[n]:e.push(n),n.lane=s|536870912)}function Su(e){if(50<to)throw to=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var os={},Xp=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=Xp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:yt(n)},Xp.set(e,n),n)}return{value:e,source:n,stack:yt(n)}}var us=[],cs=0,Au=null,bu=0,Nn=[],Mn=0,pa=null,Nr=1,Mr="";function ga(e,n){us[cs++]=bu,us[cs++]=Au,Au=e,bu=n}function Zp(e,n,s){Nn[Mn++]=Nr,Nn[Mn++]=Mr,Nn[Mn++]=pa,pa=e;var o=Nr;e=Mr;var h=32-nn(o)-1;o&=~(1<<h),s+=1;var d=32-nn(n)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Nr=1<<32-nn(n)+h|s<<h|o,Mr=d+e}else Nr=1<<d|s<<h|o,Mr=e}function Yh(e){e.return!==null&&(ga(e,1),Zp(e,1,0))}function Xh(e){for(;e===Au;)Au=us[--cs],us[cs]=null,bu=us[--cs],us[cs]=null;for(;e===pa;)pa=Nn[--Mn],Nn[Mn]=null,Mr=Nn[--Mn],Nn[Mn]=null,Nr=Nn[--Mn],Nn[Mn]=null}var sn=null,Ge=null,Ht=!1,Fn=null,lr=!1,Zh=Error(a(519));function ya(e){var n=Error(a(418,""));throw Ol(On(n,e)),Zh}function Wp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ue]=e,n[Re]=o,s){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(s=0;s<no.length;s++)Mt(no[s],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ia(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ra(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),mi(n,o.value,o.defaultValue,o.children),ra(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||lv(n.textContent,s)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=nc),n=!0):n=!1,n||ya(e)}function Jp(e){for(sn=e.return;sn;)switch(sn.tag){case 3:case 27:lr=!0;return;case 5:case 13:lr=!1;return;default:sn=sn.return}}function Vl(e){if(e!==sn)return!1;if(!Ht)return Jp(e),Ht=!0,!1;var n=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||vd(e.type,e.memoizedProps)),s=!s),s&&(n=!0),n&&Ge&&ya(e),Jp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Ge=$n(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Ge=null}}else Ge=sn?$n(e.stateNode.nextSibling):null;return!0}function Il(){Ge=sn=null,Ht=!1}function Ol(e){Fn===null?Fn=[e]:Fn.push(e)}var Nl=Error(a(460)),tg=Error(a(474)),Wh={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Ru,Ru),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Nl?Error(a(483)):e;default:if(typeof n.status=="string")n.then(Ru,Ru);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Nl?Error(a(483)):e}throw Ml=n,Nl}}var Ml=null;function rg(){if(Ml===null)throw Error(a(459));var e=Ml;return Ml=null,e}var hs=null,Ul=0;function wu(e){var n=Ul;return Ul+=1,hs===null&&(hs=[]),ng(hs,e,n)}function Ll(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Cu(e,n){throw n.$$typeof===u?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ig(e){var n=e._init;return n(e._payload)}function ag(e){function n(z,M){if(e){var q=z.deletions;q===null?(z.deletions=[M],z.flags|=16):q.push(M)}}function s(z,M){if(!e)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function o(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Di(z,M),z.index=0,z.sibling=null,z}function d(z,M,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<M?(z.flags|=33554434,M):q):(z.flags|=33554434,M)):(z.flags|=1048576,M)}function _(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,M,q,Z){return M===null||M.tag!==6?(M=$f(q,z.mode,Z),M.return=z,M):(M=h(M,q),M.return=z,M)}function C(z,M,q,Z){var ft=q.type;return ft===g?Y(z,M,q.props.children,Z,q.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===J&&ig(ft)===M.type)?(M=h(M,q.props),Ll(M,q),M.return=z,M):(M=Fu(q.type,q.key,q.props,null,z.mode,Z),Ll(M,q),M.return=z,M)}function L(z,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Kf(q,z.mode,Z),M.return=z,M):(M=h(M,q.children||[]),M.return=z,M)}function Y(z,M,q,Z,ft){return M===null||M.tag!==7?(M=Ca(q,z.mode,Z,ft),M.return=z,M):(M=h(M,q),M.return=z,M)}function tt(z,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=$f(""+M,z.mode,q),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return q=Fu(M.type,M.key,M.props,null,z.mode,q),Ll(q,M),q.return=z,q;case m:return M=Kf(M,z.mode,q),M.return=z,M;case J:var Z=M._init;return M=Z(M._payload),tt(z,M,q)}if(lt(M)||ct(M))return M=Ca(M,z.mode,q,null),M.return=z,M;if(typeof M.then=="function")return tt(z,wu(M),q);if(M.$$typeof===D)return tt(z,qu(z,M),q);Cu(z,M)}return null}function H(z,M,q,Z){var ft=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ft!==null?null:T(z,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===ft?C(z,M,q,Z):null;case m:return q.key===ft?L(z,M,q,Z):null;case J:return ft=q._init,q=ft(q._payload),H(z,M,q,Z)}if(lt(q)||ct(q))return ft!==null?null:Y(z,M,q,Z,null);if(typeof q.then=="function")return H(z,M,wu(q),Z);if(q.$$typeof===D)return H(z,M,qu(z,q),Z);Cu(z,q)}return null}function $(z,M,q,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(q)||null,T(M,z,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?q:Z.key)||null,C(M,z,Z,ft);case m:return z=z.get(Z.key===null?q:Z.key)||null,L(M,z,Z,ft);case J:var It=Z._init;return Z=It(Z._payload),$(z,M,q,Z,ft)}if(lt(Z)||ct(Z))return z=z.get(q)||null,Y(M,z,Z,ft,null);if(typeof Z.then=="function")return $(z,M,q,wu(Z),ft);if(Z.$$typeof===D)return $(z,M,q,qu(M,Z),ft);Cu(M,Z)}return null}function dt(z,M,q,Z){for(var ft=null,It=null,pt=M,_t=M=0,Be=null;pt!==null&&_t<q.length;_t++){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var Gt=H(z,pt,q[_t],Z);if(Gt===null){pt===null&&(pt=Be);break}e&&pt&&Gt.alternate===null&&n(z,pt),M=d(Gt,M,_t),It===null?ft=Gt:It.sibling=Gt,It=Gt,pt=Be}if(_t===q.length)return s(z,pt),Ht&&ga(z,_t),ft;if(pt===null){for(;_t<q.length;_t++)pt=tt(z,q[_t],Z),pt!==null&&(M=d(pt,M,_t),It===null?ft=pt:It.sibling=pt,It=pt);return Ht&&ga(z,_t),ft}for(pt=o(pt);_t<q.length;_t++)Be=$(pt,z,_t,q[_t],Z),Be!==null&&(e&&Be.alternate!==null&&pt.delete(Be.key===null?_t:Be.key),M=d(Be,M,_t),It===null?ft=Be:It.sibling=Be,It=Be);return e&&pt.forEach(function(Ui){return n(z,Ui)}),Ht&&ga(z,_t),ft}function bt(z,M,q,Z){if(q==null)throw Error(a(151));for(var ft=null,It=null,pt=M,_t=M=0,Be=null,Gt=q.next();pt!==null&&!Gt.done;_t++,Gt=q.next()){pt.index>_t?(Be=pt,pt=null):Be=pt.sibling;var Ui=H(z,pt,Gt.value,Z);if(Ui===null){pt===null&&(pt=Be);break}e&&pt&&Ui.alternate===null&&n(z,pt),M=d(Ui,M,_t),It===null?ft=Ui:It.sibling=Ui,It=Ui,pt=Be}if(Gt.done)return s(z,pt),Ht&&ga(z,_t),ft;if(pt===null){for(;!Gt.done;_t++,Gt=q.next())Gt=tt(z,Gt.value,Z),Gt!==null&&(M=d(Gt,M,_t),It===null?ft=Gt:It.sibling=Gt,It=Gt);return Ht&&ga(z,_t),ft}for(pt=o(pt);!Gt.done;_t++,Gt=q.next())Gt=$(pt,z,_t,Gt.value,Z),Gt!==null&&(e&&Gt.alternate!==null&&pt.delete(Gt.key===null?_t:Gt.key),M=d(Gt,M,_t),It===null?ft=Gt:It.sibling=Gt,It=Gt);return e&&pt.forEach(function(wS){return n(z,wS)}),Ht&&ga(z,_t),ft}function fe(z,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===g&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:t:{for(var ft=q.key;M!==null;){if(M.key===ft){if(ft=q.type,ft===g){if(M.tag===7){s(z,M.sibling),Z=h(M,q.props.children),Z.return=z,z=Z;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===J&&ig(ft)===M.type){s(z,M.sibling),Z=h(M,q.props),Ll(Z,q),Z.return=z,z=Z;break t}s(z,M);break}else n(z,M);M=M.sibling}q.type===g?(Z=Ca(q.props.children,z.mode,Z,q.key),Z.return=z,z=Z):(Z=Fu(q.type,q.key,q.props,null,z.mode,Z),Ll(Z,q),Z.return=z,z=Z)}return _(z);case m:t:{for(ft=q.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){s(z,M.sibling),Z=h(M,q.children||[]),Z.return=z,z=Z;break t}else{s(z,M);break}else n(z,M);M=M.sibling}Z=Kf(q,z.mode,Z),Z.return=z,z=Z}return _(z);case J:return ft=q._init,q=ft(q._payload),fe(z,M,q,Z)}if(lt(q))return dt(z,M,q,Z);if(ct(q)){if(ft=ct(q),typeof ft!="function")throw Error(a(150));return q=ft.call(q),bt(z,M,q,Z)}if(typeof q.then=="function")return fe(z,M,wu(q),Z);if(q.$$typeof===D)return fe(z,M,qu(z,q),Z);Cu(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(s(z,M.sibling),Z=h(M,q),Z.return=z,z=Z):(s(z,M),Z=$f(q,z.mode,Z),Z.return=z,z=Z),_(z)):s(z,M)}return function(z,M,q,Z){try{Ul=0;var ft=fe(z,M,q,Z);return hs=null,ft}catch(pt){if(pt===Nl)throw pt;var It=zn(29,pt,null,z.mode);return It.lanes=Z,It.return=z,It}finally{}}}var va=ag(!0),sg=ag(!1),fs=Vt(null),Du=Vt(0);function lg(e,n){e=Fr,jt(Du,e),jt(fs,n),Fr=e|n.baseLanes}function Jh(){jt(Du,Fr),jt(fs,fs.current)}function tf(){Fr=Du.current,Ft(fs),Ft(Du)}var Un=Vt(null),or=null;function yi(e){var n=e.alternate;jt(De,De.current&1),jt(Un,e),or===null&&(n===null||fs.current!==null||n.memoizedState!==null)&&(or=e)}function og(e){if(e.tag===22){if(jt(De,De.current),jt(Un,e),or===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(or=e)}}else vi()}function vi(){jt(De,De.current),jt(Un,Un.current)}function Ur(e){Ft(Un),or===e&&(or=null),Ft(De)}var De=Vt(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var d1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},m1=i.unstable_scheduleCallback,p1=i.unstable_NormalPriority,xe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new d1,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&m1(p1,function(){e.controller.abort()})}var zl=null,nf=0,ds=0,ms=null;function g1(e,n){if(zl===null){var s=zl=[];nf=0,ds=ud(),ms={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(ug,ug),n}function ug(){if(--nf===0&&zl!==null){ms!==null&&(ms.status="fulfilled");var e=zl;zl=null,ds=0,ms=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function y1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var cg=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&g1(e,n),cg!==null&&cg(e,n)};var _a=Vt(null);function rf(){var e=_a.current;return e!==null?e:Jt.pooledCache}function Vu(e,n){n===null?jt(_a,_a.current):jt(_a,n.pool)}function hg(){var e=rf();return e===null?null:{parent:xe._currentValue,pool:e}}var _i=0,xt=null,Xt=null,_e=null,Iu=!1,ps=!1,Ea=!1,Ou=0,kl=0,gs=null,v1=0;function ge(){throw Error(a(321))}function af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function sf(e,n,s,o,h,d){return _i=d,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?Ta:Ei,Ea=!1,d=s(o,h),Ea=!1,ps&&(d=dg(n,s,o,h)),fg(e),d}function fg(e){b.H=ur;var n=Xt!==null&&Xt.next!==null;if(_i=0,_e=Xt=xt=null,Iu=!1,kl=0,gs=null,n)throw Error(a(300));e===null||ze||(e=e.dependencies,e!==null&&ju(e)&&(ze=!0))}function dg(e,n,s,o){xt=e;var h=0;do{if(ps&&(gs=null),kl=0,ps=!1,25<=h)throw Error(a(301));if(h+=1,_e=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Sa,d=n(s,o)}while(ps);return d}function _1(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?Bl(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(xt.flags|=1024),n}function lf(){var e=Ou!==0;return Ou=0,e}function of(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function uf(e){if(Iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Iu=!1}_i=0,_e=Xt=xt=null,ps=!1,kl=Ou=0,gs=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?xt.memoizedState=_e=e:_e=_e.next=e,_e}function Ee(){if(Xt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=_e===null?xt.memoizedState:_e.next;if(n!==null)_e=n,Xt=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_e===null?xt.memoizedState=_e=e:_e=_e.next=e}return _e}var Nu;Nu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bl(e){var n=kl;return kl+=1,gs===null&&(gs=[]),e=ng(gs,e,n),n=xt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?Ta:Ei),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bl(e);if(e.$$typeof===D)return Ze(e)}throw Error(a(438,String(e)))}function cf(e){var n=null,s=xt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=xt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Nu(),xt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=ot;return n.index++,s}function Lr(e,n){return typeof n=="function"?n(e):n}function Uu(e){var n=Ee();return hf(n,Xt,e)}function hf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=_=null,C=null,L=n,Y=!1;do{var tt=L.lane&-536870913;if(tt!==L.lane?(zt&tt)===tt:(_i&tt)===tt){var H=L.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),tt===ds&&(Y=!0);else if((_i&H)===H){L=L.next,H===ds&&(Y=!0);continue}else tt={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=tt,_=d):C=C.next=tt,xt.lanes|=H,xi|=H;tt=L.action,Ea&&s(d,tt),d=L.hasEagerState?L.eagerState:s(d,tt)}else H={lane:tt,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=H,_=d):C=C.next=H,xt.lanes|=tt,xi|=tt;L=L.next}while(L!==null&&L!==n);if(C===null?_=d:C.next=T,!yn(d,e.memoizedState)&&(ze=!0,Y&&(s=ms,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ff(e){var n=Ee(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);yn(d,n.memoizedState)||(ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function mg(e,n,s){var o=xt,h=Ee(),d=Ht;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!yn((Xt||h).memoizedState,s);if(_&&(h.memoizedState=s,ze=!0),h=h.queue,pf(yg.bind(null,o,h,e),[e]),h.getSnapshot!==n||_||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,ys(9,gg.bind(null,o,h,s,n),{destroy:void 0},null),Jt===null)throw Error(a(349));d||(_i&60)!==0||pg(o,n,s)}return s}function pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xt.updateQueue,n===null?(n=Nu(),xt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function gg(e,n,s,o){n.value=s,n.getSnapshot=o,vg(n)&&_g(e)}function yg(e,n,s){return s(function(){vg(n)&&_g(e)})}function vg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function _g(e){var n=gi(e,2);n!==null&&ln(n,e,2)}function df(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Ea){Xn(!0);try{s()}finally{Xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},n}function Eg(e,n,s,o){return e.baseState=s,hf(e,Xt,typeof o=="function"?o:Lr)}function E1(e,n,s,o,h){if(zu(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,Tg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function Tg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=b.T,_={};b.T=_;try{var T=s(h,o),C=b.S;C!==null&&C(_,T),Sg(e,n,T)}catch(L){mf(e,n,L)}finally{b.T=d}}else try{d=s(h,o),Sg(e,n,d)}catch(L){mf(e,n,L)}}function Sg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Ag(e,n,o)},function(o){return mf(e,n,o)}):Ag(e,n,s)}function Ag(e,n,s){n.status="fulfilled",n.value=s,bg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Tg(e,s)))}function mf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,bg(n),n=n.next;while(n!==o)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Rg(e,n){return n}function wg(e,n){if(Ht){var s=Jt.formState;if(s!==null){t:{var o=xt;if(Ht){if(Ge){e:{for(var h=Ge,d=lr;h.nodeType!==8;){if(!d){h=null;break e}if(h=$n(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ge=$n(h.nextSibling),o=h.data==="F!";break t}}ya(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},s.queue=o,s=Gg.bind(null,xt,o),o.dispatch=s,o=df(!1),d=Ef.bind(null,xt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=E1.bind(null,xt,h,d,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Cg(e){var n=Ee();return Dg(n,Xt,e)}function Dg(e,n,s){n=hf(e,n,Rg)[0],e=Uu(Lr)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Bl(n):n;var o=Ee(),h=o.queue,d=h.dispatch;return s!==o.memoizedState&&(xt.flags|=2048,ys(9,T1.bind(null,h,s),{destroy:void 0},null)),[n,d,e]}function T1(e,n){e.action=n}function xg(e){var n=Ee(),s=Xt;if(s!==null)return Dg(n,s,e);Ee(),n=n.memoizedState,s=Ee();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ys(e,n,s,o){return e={tag:e,create:n,inst:s,deps:o,next:null},n=xt.updateQueue,n===null&&(n=Nu(),xt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Vg(){return Ee().memoizedState}function Lu(e,n,s,o){var h=cn();xt.flags|=e,h.memoizedState=ys(1|n,s,{destroy:void 0},o===void 0?null:o)}function Pu(e,n,s,o){var h=Ee();o=o===void 0?null:o;var d=h.memoizedState.inst;Xt!==null&&o!==null&&af(o,Xt.memoizedState.deps)?h.memoizedState=ys(n,s,d,o):(xt.flags|=e,h.memoizedState=ys(1|n,s,d,o))}function Ig(e,n){Lu(8390656,8,e,n)}function pf(e,n){Pu(2048,8,e,n)}function Og(e,n){return Pu(4,2,e,n)}function Ng(e,n){return Pu(4,4,e,n)}function Mg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ug(e,n,s){s=s!=null?s.concat([e]):null,Pu(4,4,Mg.bind(null,n,e),s)}function gf(){}function Lg(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Pg(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Ea){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[o,n],o}function yf(e,n,s){return s===void 0||(_i&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=ky(),xt.lanes|=e,xi|=e,s)}function zg(e,n,s,o){return yn(s,n)?s:fs.current!==null?(e=yf(e,s,o),yn(e,n)||(ze=!0),e):(_i&42)===0?(ze=!0,e.memoizedState=s):(e=ky(),xt.lanes|=e,xi|=e,n)}function kg(e,n,s,o,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,Ef(e,!1,n,s);try{var C=h(),L=b.S;if(L!==null&&L(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=y1(C,o);jl(e,n,Y,Tn(e))}else jl(e,n,o,Tn(e))}catch(tt){jl(e,n,{then:function(){},status:"rejected",reason:tt},Tn())}finally{st.p=d,b.T=_}}function S1(){}function vf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Bg(e).queue;kg(e,h,n,St,s===null?S1:function(){return jg(e),s(o)})}function Bg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:St},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function jg(e){var n=Bg(e).next.queue;jl(e,n,{},Tn())}function _f(){return Ze(lo)}function qg(){return Ee().memoizedState}function Hg(){return Ee().memoizedState}function A1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ai(s);var o=bi(n,e,s);o!==null&&(ln(o,n,s),Gl(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function b1(e,n,s){var o=Tn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zu(e)?Fg(n,s):(s=Kh(e,n,s,o),s!==null&&(ln(s,e,o),Qg(s,n,o)))}function Gg(e,n,s){var o=Tn();jl(e,n,s,o)}function jl(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zu(e))Fg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return Tu(e,n,h,0),Jt===null&&Eu(),!1}catch{}finally{}if(s=Kh(e,n,h,o),s!==null)return ln(s,e,o),Qg(s,n,o),!0}return!1}function Ef(e,n,s,o){if(o={lane:2,revertLane:ud(),action:o,hasEagerState:!1,eagerState:null,next:null},zu(e)){if(n)throw Error(a(479))}else n=Kh(e,s,o,2),n!==null&&ln(n,e,2)}function zu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Fg(e,n){ps=Iu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Qg(e,n,s){if((s&4194176)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,si(e,s)}}var ur={readContext:Ze,use:Mu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge};ur.useCacheRefresh=ge,ur.useMemoCache=ge,ur.useHostTransitionStatus=ge,ur.useFormState=ge,ur.useActionState=ge,ur.useOptimistic=ge;var Ta={readContext:Ze,use:Mu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:Ig,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Lu(4194308,4,Mg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Lu(4194308,4,e,n)},useInsertionEffect:function(e,n){Lu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Ea){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Ea){Xn(!0);try{s(n)}finally{Xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=b1.bind(null,xt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=df(e);var n=e.queue,s=Gg.bind(null,xt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:gf,useDeferredValue:function(e,n){var s=cn();return yf(s,e,n)},useTransition:function(){var e=df(!1);return e=kg.bind(null,xt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=xt,h=cn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(zt&60)!==0||pg(o,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Ig(yg.bind(null,o,d,e),[e]),o.flags|=2048,ys(9,gg.bind(null,o,d,s,n),{destroy:void 0},null),s},useId:function(){var e=cn(),n=Jt.identifierPrefix;if(Ht){var s=Mr,o=Nr;s=(o&~(1<<32-nn(o)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ou++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=v1++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return cn().memoizedState=A1.bind(null,xt)}};Ta.useMemoCache=cf,Ta.useHostTransitionStatus=_f,Ta.useFormState=wg,Ta.useActionState=wg,Ta.useOptimistic=function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Ef.bind(null,xt,!0,s),s.dispatch=n,[e,n]};var Ei={readContext:Ze,use:Mu,useCallback:Lg,useContext:Ze,useEffect:pf,useImperativeHandle:Ug,useInsertionEffect:Og,useLayoutEffect:Ng,useMemo:Pg,useReducer:Uu,useRef:Vg,useState:function(){return Uu(Lr)},useDebugValue:gf,useDeferredValue:function(e,n){var s=Ee();return zg(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Uu(Lr)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:Bl(e),n]},useSyncExternalStore:mg,useId:qg};Ei.useCacheRefresh=Hg,Ei.useMemoCache=cf,Ei.useHostTransitionStatus=_f,Ei.useFormState=Cg,Ei.useActionState=Cg,Ei.useOptimistic=function(e,n){var s=Ee();return Eg(s,Xt,e,n)};var Sa={readContext:Ze,use:Mu,useCallback:Lg,useContext:Ze,useEffect:pf,useImperativeHandle:Ug,useInsertionEffect:Og,useLayoutEffect:Ng,useMemo:Pg,useReducer:ff,useRef:Vg,useState:function(){return ff(Lr)},useDebugValue:gf,useDeferredValue:function(e,n){var s=Ee();return Xt===null?yf(s,e,n):zg(s,Xt.memoizedState,e,n)},useTransition:function(){var e=ff(Lr)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:Bl(e),n]},useSyncExternalStore:mg,useId:qg};Sa.useCacheRefresh=Hg,Sa.useMemoCache=cf,Sa.useHostTransitionStatus=_f,Sa.useFormState=xg,Sa.useActionState=xg,Sa.useOptimistic=function(e,n){var s=Ee();return Xt!==null?Eg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])};function Tf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:I({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Sf={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ai(o);h.payload=n,s!=null&&(h.callback=s),n=bi(e,h,o),n!==null&&(ln(n,e,o),Gl(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ai(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bi(e,h,o),n!==null&&(ln(n,e,o),Gl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Ai(s);o.tag=2,n!=null&&(o.callback=n),n=bi(e,o,s),n!==null&&(ln(n,e,s),Gl(n,e,s))}};function $g(e,n,s,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!Dl(s,o)||!Dl(h,d):!0}function Kg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Sf.enqueueReplaceState(n,n.state,null)}function Aa(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=I({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Yg(e){ku(e)}function Xg(e){console.error(e)}function Zg(e){ku(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,s){return s=Ai(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function Jg(e){return e=Ai(e),e.tag=3,e}function ty(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Wg(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Wg(n,s,o),typeof h!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function R1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Hl(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 13:return or===null?id():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Wh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),sd(e,o,h)),!1;case 22:return s.flags|=65536,o===Wh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),sd(e,o,h)),!1}throw Error(a(435,s.tag))}return sd(e,o,h),id(),!1}if(Ht)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),Ol(On(e,s)))):(o!==Zh&&(n=Error(a(423),{cause:o}),Ol(On(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,s),h=Af(e.stateNode,o,h),zf(e,h),he!==4&&(he=2)),!1;var d=Error(a(520),{cause:o});if(d=On(d,s),Wl===null?Wl=[d]:Wl.push(d),he!==4&&(he=2),n===null)return!0;o=On(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Af(s.stateNode,o,e),zf(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vi===null||!Vi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jg(h),ty(h,e,s,o),zf(s,h),!1}s=s.return}while(s!==null);return!1}var ey=Error(a(461)),ze=!1;function Fe(e,n,s,o){n.child=e===null?sg(n,null,s,o):va(n,e.child,s,o)}function ny(e,n,s,o,h){s=s.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return Ra(n),o=sf(e,n,s,_,d,h),T=lf(),e!==null&&!ze?(of(e,n,h),Pr(e,n,h)):(Ht&&T&&Yh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function ry(e,n,s,o,h){if(e===null){var d=s.type;return typeof d=="function"&&!Qf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,iy(e,n,d,o,h)):(e=Fu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Of(e,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(_,o)&&e.ref===n.ref)return Pr(e,n,h)}return n.flags|=1,e=Di(d,o),e.ref=n.ref,e.return=n,n.child=e}function iy(e,n,s,o,h){if(e!==null){var d=e.memoizedProps;if(Dl(d,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=d,Of(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,Pr(e,n,h)}return bf(e,n,s,o,h)}function ay(e,n,s){var o=n.pendingProps,h=o.children,d=(n.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(ql(e,n),o.mode==="hidden"||d){if((n.flags&128)!==0){if(o=_!==null?_.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return sy(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,_!==null?_.cachePool:null),_!==null?lg(n,_):Jh(),og(n);else return n.lanes=n.childLanes=536870912,sy(e,n,_!==null?_.baseLanes|s:s,s)}else _!==null?(Vu(n,_.cachePool),lg(n,_),vi(),n.memoizedState=null):(e!==null&&Vu(n,null),Jh(),vi());return Fe(e,n,h,s),n.child}function sy(e,n,s,o){var h=rf();return h=h===null?null:{parent:xe._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&Vu(n,null),Jh(),og(n),e!==null&&Hl(e,n,o,!0),null}function ql(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=2097664)}}function bf(e,n,s,o,h){return Ra(n),s=sf(e,n,s,o,void 0,h),o=lf(),e!==null&&!ze?(of(e,n,h),Pr(e,n,h)):(Ht&&o&&Yh(n),n.flags|=1,Fe(e,n,s,h),n.child)}function ly(e,n,s,o,h,d){return Ra(n),n.updateQueue=null,s=dg(n,o,s,h),fg(e),o=lf(),e!==null&&!ze?(of(e,n,d),Pr(e,n,d)):(Ht&&o&&Yh(n),n.flags|=1,Fe(e,n,s,d),n.child)}function oy(e,n,s,o,h){if(Ra(n),n.stateNode===null){var d=os,_=s.contextType;typeof _=="object"&&_!==null&&(d=Ze(_)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Lf(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?Ze(_):os,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Tf(n,s,_,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Sf.enqueueReplaceState(d,d.state,null),Ql(n,o,d,h),Fl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=Aa(s,T);d.props=C;var L=d.context,Y=s.contextType;_=os,typeof Y=="object"&&Y!==null&&(_=Ze(Y));var tt=s.getDerivedStateFromProps;Y=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==_)&&Kg(n,d,o,_),Si=!1;var H=n.memoizedState;d.state=H,Ql(n,o,d,h),Fl(),L=n.memoizedState,T||H!==L||Si?(typeof tt=="function"&&(Tf(n,s,tt,o),L=n.memoizedState),(C=Si||$g(n,s,C,o,H,L,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),d.props=o,d.state=L,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Pf(e,n),_=n.memoizedProps,Y=Aa(s,_),d.props=Y,tt=n.pendingProps,H=d.context,L=s.contextType,C=os,typeof L=="object"&&L!==null&&(C=Ze(L)),T=s.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||H!==C)&&Kg(n,d,o,C),Si=!1,H=n.memoizedState,d.state=H,Ql(n,o,d,h),Fl();var $=n.memoizedState;_!==tt||H!==$||Si||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof T=="function"&&(Tf(n,s,T,o),$=n.memoizedState),(Y=Si||$g(n,s,Y,o,H,$,C)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,$,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=$),d.props=o,d.state=$,d.context=C,o=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,ql(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=va(n,e.child,null,h),n.child=va(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=d.state,e=n.child):e=Pr(e,n,h),e}function uy(e,n,s,o){return Il(),n.flags|=256,Fe(e,n,s,o),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0};function wf(e){return{baseLanes:e,cachePool:hg()}}function Cf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=kn),e}function cy(e,n,s){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?yi(n):vi(),Ht){var T=Ge,C;if(C=T){t:{for(C=T,T=lr;C.nodeType!==8;){if(!T){T=null;break t}if(C=$n(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:pa!==null?{id:Nr,overflow:Mr}:null,retryLane:536870912},C=zn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,sn=n,Ge=null,C=!0):C=!1}C||ya(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ur(n)}return T=o.children,o=o.fallback,h?(vi(),h=n.mode,T=xf({mode:"hidden",children:T},h),o=Ca(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=wf(s),h.childLanes=Cf(e,_,s),n.memoizedState=Rf,o):(yi(n),Df(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(yi(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(vi(),n.child=e.child,n.flags|=128,n=null):(vi(),h=o.fallback,T=n.mode,o=xf({mode:"visible",children:o.children},T),h=Ca(h,T,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,va(n,e.child,null,s),o=n.child,o.memoizedState=wf(s),o.childLanes=Cf(e,_,s),n.memoizedState=Rf,n=h);else if(yi(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(a(419)),o.stack="",o.digest=_,Ol({value:o,source:null,stack:null}),n=Vf(e,n,s)}else if(ze||Hl(e,n,s,!1),_=(s&e.childLanes)!==0,ze||_){if(_=Jt,_!==null){if(o=s&-s,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==C.retryLane)throw C.retryLane=o,gi(e,o),ln(_,e,o),ey}T.data==="$?"||id(),n=Vf(e,n,s)}else T.data==="$?"?(n.flags|=128,n.child=e.child,n=B1.bind(null,e),T._reactRetry=n,n=null):(e=C.treeContext,Ge=$n(T.nextSibling),sn=n,Ht=!0,Fn=null,lr=!1,e!==null&&(Nn[Mn++]=Nr,Nn[Mn++]=Mr,Nn[Mn++]=pa,Nr=e.id,Mr=e.overflow,pa=n),n=Df(n,o.children),n.flags|=4096);return n}return h?(vi(),h=o.fallback,T=n.mode,C=e.child,L=C.sibling,o=Di(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&31457280,L!==null?h=Di(L,h):(h=Ca(h,T,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=wf(s):(C=T.cachePool,C!==null?(L=xe._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=hg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=Cf(e,_,s),n.memoizedState=Rf,o):(yi(n),s=e.child,e=s.sibling,s=Di(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function Df(e,n){return n=xf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xf(e,n){return Ly(e,n,0,null)}function Vf(e,n,s){return va(n,e.child,null,s),e=Df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Mf(e.return,n,s)}function If(e,n,s,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function fy(e,n,s){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(Fe(e,n,o.children,s),o=De.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hy(e,s,n);else if(e.tag===19)hy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(jt(De,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),If(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}If(n,!0,s,null,d);break;case"together":If(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Hl(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Di(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Di(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function w1(e,n,s){switch(n.tag){case 3:ti(n,n.stateNode.containerInfo),Ti(n,xe,e.memoizedState.cache),Il();break;case 27:case 5:ll(n);break;case 4:ti(n,n.stateNode.containerInfo);break;case 10:Ti(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(yi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?cy(e,n,s):(yi(n),e=Pr(e,n,s),e!==null?e.sibling:null);yi(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Hl(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return fy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),jt(De,De.current),o)break;return null;case 22:case 23:return n.lanes=0,ay(e,n,s);case 24:Ti(n,xe,e.memoizedState.cache)}return Pr(e,n,s)}function dy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!Of(e,s)&&(n.flags&128)===0)return ze=!1,w1(e,n,s);ze=(e.flags&131072)!==0}else ze=!1,Ht&&(n.flags&1048576)!==0&&Zp(n,bu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Qf(o)?(e=Aa(o,e),n.tag=1,n=oy(null,n,o,e,s)):(n.tag=0,n=bf(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===N){n.tag=11,n=ny(null,n,o,e,s);break t}else if(h===F){n.tag=14,n=ry(null,n,o,e,s);break t}}throw n=w(o)||o,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Aa(o,n.pendingProps),oy(e,n,o,h,s);case 3:t:{if(ti(n,n.stateNode.containerInfo),e===null)throw Error(a(387));var d=n.pendingProps;h=n.memoizedState,o=h.element,Pf(e,n),Ql(n,d,null,s);var _=n.memoizedState;if(d=_.cache,Ti(n,xe,d),d!==h.cache&&Uf(n,[xe],s,!0),Fl(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=uy(e,n,d,s);break t}else if(d!==o){o=On(Error(a(424)),n),Ol(o),n=uy(e,n,d,s);break t}else for(Ge=$n(n.stateNode.containerInfo.firstChild),sn=n,Ht=!0,Fn=null,lr=!0,s=sg(n,null,d,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Il(),d===o){n=Pr(e,n,s);break t}Fe(e,n,d,s)}n=n.child}return n;case 26:return ql(e,n),e===null?(s=gv(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ht||(s=n.type,e=n.pendingProps,o=rc(bn.current).createElement(s),o[Ue]=n,o[Re]=e,Qe(o,s,e),re(o),n.stateNode=o):n.memoizedState=gv(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ll(n),e===null&&Ht&&(o=n.stateNode=dv(n.type,n.pendingProps,bn.current),sn=n,lr=!0,Ge=$n(o.firstChild)),o=n.pendingProps.children,e!==null||Ht?Fe(e,n,o,s):n.child=va(n,null,o,s),ql(e,n),n.child;case 5:return e===null&&Ht&&((h=o=Ge)&&(o=nS(o,n.type,n.pendingProps,lr),o!==null?(n.stateNode=o,sn=n,Ge=$n(o.firstChild),lr=!1,h=!0):h=!1),h||ya(n)),ll(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,vd(h,d)?o=null:_!==null&&vd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=sf(e,n,_1,null,null,s),lo._currentValue=h),ql(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Ht&&((e=s=Ge)&&(s=rS(s,n.pendingProps,lr),s!==null?(n.stateNode=s,sn=n,Ge=null,e=!0):e=!1),e||ya(n)),null;case 13:return cy(e,n,s);case 4:return ti(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=va(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return ny(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ti(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ra(n),h=Ze(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return ry(e,n,n.type,n.pendingProps,s);case 15:return iy(e,n,n.type,n.pendingProps,s);case 19:return fy(e,n,s);case 22:return ay(e,n,s);case 24:return Ra(n),o=Ze(xe),e===null?(h=rf(),h===null&&(h=Jt,d=ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:o,cache:h},Lf(n),Ti(n,xe,h)):((e.lanes&s)!==0&&(Pf(e,n),Ql(n,null,null,s),Fl()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ti(n,xe,o)):(o=d.cache,Ti(n,xe,o),o!==h.cache&&Uf(n,[xe],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Nf=Vt(null),ba=null,zr=null;function Ti(e,n,s){jt(Nf,n._currentValue),n._currentValue=s}function kr(e){e._currentValue=Nf.current,Ft(Nf)}function Mf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Uf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Mf(d.return,s,e),o||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),Mf(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Hl(e,n,s,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Jr.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}h=h.return}e!==null&&Uf(n,e,s,o),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ra(e){ba=e,zr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return my(ba,e)}function qu(e,n){return ba===null&&Ra(e),my(e,n)}function my(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zr===null){if(e===null)throw Error(a(308));zr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zr=zr.next=n;return s}var Si=!1;function Lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ae&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Su(e),Yp(e,null,s),n}return Tu(e,o,n,s),Su(e)}function Gl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,si(e,s)}}function zf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var kf=!1;function Fl(){if(kf){var e=ms;if(e!==null)throw e}}function Ql(e,n,s,o){kf=!1;var h=e.updateQueue;Si=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,L=C.next;C.next=null,_===null?d=L:_.next=L,_=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=L:T.next=L,Y.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;_=0,Y=L=C=null,T=d;do{var H=T.lane&-536870913,$=H!==T.lane;if($?(zt&H)===H:(o&H)===H){H!==0&&H===ds&&(kf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,bt=T;H=n;var fe=s;switch(bt.tag){case 1:if(dt=bt.payload,typeof dt=="function"){tt=dt.call(fe,tt,H);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=bt.payload,H=typeof dt=="function"?dt.call(fe,tt,H):dt,H==null)break t;tt=I({},tt,H);break t;case 2:Si=!0}}H=T.callback,H!==null&&(e.flags|=64,$&&(e.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(L=Y=$,C=tt):Y=Y.next=$,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Y===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),xi|=_,e.lanes=_,e.memoizedState=tt}}function py(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function gy(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)py(s[e],n)}function $l(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==h)}}catch(T){Wt(n,n.return,T)}}function Ri(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=s;try{T()}catch(L){Wt(h,C,L)}}}o=o.next}while(o!==d)}}catch(L){Wt(n,n.return,L)}}function yy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{gy(n,s)}catch(o){Wt(e,e.return,o)}}}function vy(e,n,s){s.props=Aa(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function wa(e,n){try{var s=e.ref;if(s!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(d){Wt(e,n,d)}}function vn(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function _y(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Ey(e,n,s){try{var o=e.stateNode;Z1(o,e.type,s,n),o[Re]=n}catch(h){Wt(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=nc));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(jf(e,n,s),e=e.sibling;e!==null;)jf(e,n,s),e=e.sibling}function Hu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Hu(e,n,s),e=e.sibling;e!==null;)Hu(e,n,s),e=e.sibling}var Br=!1,ce=!1,qf=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,ke=null,Ay=!1;function C1(e,n){if(e=e.containerInfo,gd=uc,e=Bp(e),Hh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,T=-1,C=-1,L=0,Y=0,tt=e,H=null;e:for(;;){for(var $;tt!==s||h!==0&&tt.nodeType!==3||(T=_+h),tt!==d||o!==0&&tt.nodeType!==3||(C=_+o),tt.nodeType===3&&(_+=tt.nodeValue.length),($=tt.firstChild)!==null;)H=tt,tt=$;for(;;){if(tt===e)break e;if(H===s&&++L===h&&(T=_),H===d&&++Y===o&&(C=_),($=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=$}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(yd={focusedElem:e,selectionRange:s},uc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var dt=Aa(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(dt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Wt(s,s.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Td(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Td(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}return dt=Ay,Ay=!1,dt}function by(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qr(e,s),o&4&&$l(5,s);break;case 1:if(qr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(T){Wt(s,s.return,T)}else{var h=Aa(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(s,s.return,T)}}o&64&&yy(s),o&512&&wa(s,s.return);break;case 3:if(qr(e,s),o&64&&(o=s.updateQueue,o!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{gy(o,e)}catch(T){Wt(s,s.return,T)}}break;case 26:qr(e,s),o&512&&wa(s,s.return);break;case 27:case 5:qr(e,s),n===null&&o&4&&_y(s),o&512&&wa(s,s.return);break;case 12:qr(e,s);break;case 13:qr(e,s),o&4&&Cy(e,s);break;case 22:if(h=s.memoizedState!==null||Br,!h){n=n!==null&&n.memoizedState!==null||ce;var d=Br,_=ce;Br=h,(ce=n)&&!_?wi(e,s,(s.subtreeFlags&8772)!==0):qr(e,s),Br=d,ce=_}o&512&&(s.memoizedProps.mode==="manual"?wa(s,s.return):vn(s,s.return));break;default:qr(e,s)}}function Ry(e){var n=e.alternate;n!==null&&(e.alternate=null,Ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,_n=!1;function jr(e,n,s){for(s=s.child;s!==null;)wy(e,n,s),s=s.sibling}function wy(e,n,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ei,s)}catch{}switch(s.tag){case 26:ce||vn(s,n),jr(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||vn(s,n);var o=Te,h=_n;for(Te=s.stateNode,jr(e,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);na(s),Te=o,_n=h;break;case 5:ce||vn(s,n);case 6:h=Te;var d=_n;if(Te=null,jr(e,n,s),Te=h,_n=d,Te!==null)if(_n)try{e=Te,o=s.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(_){Wt(s,n,_)}else try{Te.removeChild(s.stateNode)}catch(_){Wt(s,n,_)}break;case 18:Te!==null&&(_n?(n=Te,s=s.stateNode,n.nodeType===8?Ed(n.parentNode,s):n.nodeType===1&&Ed(n,s),ho(n)):Ed(Te,s.stateNode));break;case 4:o=Te,h=_n,Te=s.stateNode.containerInfo,_n=!0,jr(e,n,s),Te=o,_n=h;break;case 0:case 11:case 14:case 15:ce||Ri(2,s,n),ce||Ri(4,s,n),jr(e,n,s);break;case 1:ce||(vn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&vy(s,n,o)),jr(e,n,s);break;case 21:jr(e,n,s);break;case 22:ce||vn(s,n),ce=(o=ce)||s.memoizedState!==null,jr(e,n,s),ce=o;break;default:jr(e,n,s)}}function Cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ho(e)}catch(s){Wt(n,n.return,s)}}function D1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(a(435,e.tag))}}function Hf(e,n){var s=D1(e);n.forEach(function(o){var h=j1.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function Ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:Te=T.stateNode,_n=!1;break t;case 3:Te=T.stateNode.containerInfo,_n=!0;break t;case 4:Te=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(Te===null)throw Error(a(160));wy(d,_,h),Te=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Dy(n,e),n=n.sibling}var Qn=null;function Dy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(n,e),Pn(e),o&4&&(Ri(3,e,e.return),$l(3,e),Ri(5,e,e.return));break;case 1:Ln(n,e),Pn(e),o&512&&(ce||s===null||vn(s,s.return)),o&64&&Br&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Qn;if(Ln(n,e),Pn(e),o&512&&(ce||s===null||vn(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[Ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Qe(d,o,s),d[Ue]=e,re(d),o=d;break t;case"link":var _=_v("link","href",h).get(o+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(o),Qe(d,o,s),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(o+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}d=h.createElement(o),Qe(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[Ue]=e,re(d),o=d}e.stateNode=o}else Ev(h,e.type,e.stateNode);else e.stateNode=vv(h,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Ev(h,e.type,e.stateNode):vv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ey(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var L=C.nextSibling,Y=C.nodeName;C[oi]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=L}for(var tt=e.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);Qe(h,tt,d),h[Ue]=e,h[Re]=d}catch(dt){Wt(e,e.return,dt)}}case 5:if(Ln(n,e),Pn(e),o&512&&(ce||s===null||vn(s,s.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(dt){Wt(e,e.return,dt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ey(e,h,s!==null?s.memoizedProps:h)),o&1024&&(qf=!0);break;case 6:if(Ln(n,e),Pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(dt){Wt(e,e.return,dt)}}break;case 3:if(sc=null,h=Qn,Qn=ic(n.containerInfo),Ln(n,e),Qn=h,Pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{ho(n.containerInfo)}catch(dt){Wt(e,e.return,dt)}qf&&(qf=!1,xy(e));break;case 4:o=Qn,Qn=ic(e.stateNode.containerInfo),Ln(n,e),Pn(e),Qn=o;break;case 12:Ln(n,e),Pn(e);break;case 13:Ln(n,e),Pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wf=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hf(e,o)));break;case 22:if(o&512&&(ce||s===null||vn(s,s.return)),C=e.memoizedState!==null,L=s!==null&&s.memoizedState!==null,Y=Br,tt=ce,Br=Y||C,ce=tt||L,Ln(n,e),ce=tt,Br=Y,Pn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=Br||ce,s===null||L||n||vs(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){L=s=n;try{if(h=L.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var $=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(dt){Wt(L,L.return,dt)}}}else if(n.tag===6){if(s===null){L=n;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(dt){Wt(L,L.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Hf(e,s))));break;case 19:Ln(n,e),Pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Hf(e,o)));break;case 21:break;default:Ln(n,e),Pn(e)}}function Pn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(Ty(s)){var o=s;break t}s=s.return}throw Error(a(160))}switch(o.tag){case 27:var h=o.stateNode,d=Bf(e);Hu(e,d,h);break;case 5:var _=o.stateNode;o.flags&32&&(Cn(_,""),o.flags&=-33);var T=Bf(e);Hu(e,T,_);break;case 3:case 4:var C=o.stateNode.containerInfo,L=Bf(e);jf(e,L,C);break;default:throw Error(a(161))}}}catch(Y){Wt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function vs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),vs(n);break;case 1:vn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&vy(n,n.return,s),vs(n);break;case 26:case 27:case 5:vn(n,n.return),vs(n);break;case 22:vn(n,n.return),n.memoizedState===null&&vs(n);break;default:vs(n)}e=e.sibling}}function wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:wi(h,d,s),$l(4,d);break;case 1:if(wi(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Wt(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)py(C[h],T)}catch(L){Wt(o,o.return,L)}}s&&_&64&&yy(d),wa(d,d.return);break;case 26:case 27:case 5:wi(h,d,s),s&&o===null&&_&4&&_y(d),wa(d,d.return);break;case 12:wi(h,d,s);break;case 13:wi(h,d,s),s&&_&4&&Cy(h,d);break;case 22:d.memoizedState===null&&wi(h,d,s),wa(d,d.return);break;default:wi(h,d,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pl(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Ci(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,s,o),n=n.sibling}function Vy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(e,n,s,o),h&2048&&$l(9,n);break;case 3:Ci(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Ci(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Wt(n,n.return,C)}}else Ci(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Ci(e,n,s,o):Kl(e,n):d._visibility&4?Ci(e,n,s,o):(d._visibility|=4,_s(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Gf(n.alternate,n);break;case 24:Ci(e,n,s,o),h&2048&&Ff(n.alternate,n);break;default:Ci(e,n,s,o)}}function _s(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=s,C=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:_s(d,_,T,C,h),$l(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?_s(d,_,T,C,h):Kl(d,_):(Y._visibility|=4,_s(d,_,T,C,h)),h&&L&2048&&Gf(_.alternate,_);break;case 24:_s(d,_,T,C,h),h&&L&2048&&Ff(_.alternate,_);break;default:_s(d,_,T,C,h)}n=n.sibling}}function Kl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Kl(s,o),h&2048&&Gf(o.alternate,o);break;case 24:Kl(s,o),h&2048&&Ff(o.alternate,o);break;default:Kl(s,o)}n=n.sibling}}var Yl=8192;function Es(e){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 26:Es(e),e.flags&Yl&&e.memoizedState!==null&&gS(Qn,e.memoizedState,e.memoizedProps);break;case 5:Es(e);break;case 3:case 4:var n=Qn;Qn=ic(e.stateNode.containerInfo),Es(e),Qn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Yl,Yl=16777216,Es(e),Yl=n):Es(e));break;default:Es(e)}}function Oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,My(o,e)}Oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ny(e),e=e.sibling}function Ny(e){switch(e.tag){case 0:case 11:case 15:Xl(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:Xl(e);break;case 12:Xl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Gu(e)):Xl(e);break;default:Xl(e)}}function Gu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,My(o,e)}Oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),Gu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,Gu(n));break;default:Gu(n)}e=e.sibling}}function My(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ri(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,d=o.return;if(Ry(o),o===s){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}function x1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,s,o){return new x1(e,n,s,o)}function Qf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Di(e,n){var s=e.alternate;return s===null?(s=zn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Uy(e,n){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Fu(e,n,s,o,h,d){var _=0;if(o=e,typeof e=="function")Qf(e)&&(_=1);else if(typeof e=="string")_=mS(e,s,ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return Ca(s.children,h,d,n);case y:_=8,h|=24;break;case E:return e=zn(12,s,n,h|2),e.elementType=E,e.lanes=d,e;case j:return e=zn(13,s,n,h),e.elementType=j,e.lanes=d,e;case P:return e=zn(19,s,n,h),e.elementType=P,e.lanes=d,e;case X:return Ly(s,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case D:_=10;break t;case R:_=9;break t;case N:_=11;break t;case F:_=14;break t;case J:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=zn(_,s,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function Ca(e,n,s,o){return e=zn(7,e,o,n),e.lanes=s,e}function Ly(e,n,s,o){e=zn(22,e,o,n),e.elementType=X,e.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=gi(d,2);_!==null&&(h._pendingVisibility|=2,ln(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=gi(d,2);_!==null&&(h._pendingVisibility&=-3,ln(_,d,2))}}};return e.stateNode=h,e}function $f(e,n,s){return e=zn(6,e,null,n),e.lanes=s,e}function Kf(e,n,s){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hr(e){e.flags|=4}function Py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tv(n)){if(n=Un.current,n!==null&&((zt&4194176)===zt?or!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==or))throw Ml=Wh,tg;e.flags|=8192}}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ii():536870912,e.lanes|=n,Ss|=n)}function Zl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function V1(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kr(xe),Sr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Vl(n)?Hr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Fn!==null&&(nd(Fn),Fn=null))),ie(n),null;case 26:return s=n.memoizedState,e===null?(Hr(n),s!==null?(ie(n),Py(n,s)):(ie(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Hr(n),ie(n),Py(n,s)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&Hr(n),ie(n),n.flags&=-16777217),null;case 27:ja(n),s=bn.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=ve.current,Vl(n)?Wp(n):(e=dv(h,o,s),n.stateNode=e,Hr(n))}return ie(n),null;case 5:if(ja(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(e=ve.current,Vl(n))Wp(n);else{switch(h=rc(bn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[Ue]=n,e[Re]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Qe(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hr(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bn.current,Vl(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ue]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||lv(e.nodeValue,s)),e||ya(n)}else e=rc(e).createTextNode(o),e[Ue]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Vl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ue]=n}else Il(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else Fn!==null&&(nd(Fn),Fn=null),h=!0;if(!h)return n.flags&256?(Ur(n),n):(Ur(n),null)}if(Ur(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),ie(n),null;case 4:return Sr(),e===null&&dd(n.stateNode.containerInfo),ie(n),null;case 10:return kr(n.type),ie(n),null;case 19:if(Ft(De),h=n.memoizedState,h===null)return ie(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Zl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=xu(e),d!==null){for(n.flags|=128,Zl(h,!1),e=d.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Uy(s,e),s=s.sibling;return jt(De,De.current&1|2),n.child}e=e.sibling}h.tail!==null&&on()>$u&&(n.flags|=128,o=!0,Zl(h,!1),n.lanes=4194304)}else{if(!o)if(e=xu(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ht)return ie(n),null}else 2*on()-h.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,o=!0,Zl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=on(),n.sibling=null,e=De.current,jt(De,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Ur(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Ft(_a),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kr(xe),ie(n),null;case 25:return null}throw Error(a(156,n.tag))}function I1(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kr(xe),Sr(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ja(n),null;case 13:if(Ur(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Il()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ft(De),null;case 4:return Sr(),null;case 10:return kr(n.type),null;case 22:case 23:return Ur(n),tf(),e!==null&&Ft(_a),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return kr(xe),null;case 25:return null;default:return null}}function zy(e,n){switch(Xh(n),n.tag){case 3:kr(xe),Sr();break;case 26:case 27:case 5:ja(n);break;case 4:Sr();break;case 13:Ur(n);break;case 19:Ft(De);break;case 10:kr(n.type);break;case 22:case 23:Ur(n),tf(),e!==null&&Ft(_a);break;case 24:kr(xe)}}var O1={getCacheForType:function(e){var n=Ze(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},N1=typeof WeakMap=="function"?WeakMap:Map,ae=0,Jt=null,Ot=null,zt=0,te=0,En=null,Gr=!1,Ts=!1,Yf=!1,Fr=0,he=0,xi=0,Da=0,Xf=0,kn=0,Ss=0,Wl=null,cr=null,Zf=!1,Wf=0,$u=1/0,Ku=null,Vi=null,Yu=!1,xa=null,Jl=0,Jf=0,td=null,to=0,ed=null;function Tn(){if((ae&2)!==0&&zt!==0)return zt&-zt;if(b.T!==null){var e=ds;return e!==0?e:ud()}return eu()}function ky(){kn===0&&(kn=(zt&536870912)===0||Ht?fl():536870912);var e=Un.current;return e!==null&&(e.flags|=32),kn}function ln(e,n,s){(e===Jt&&te===2||e.cancelPendingCommit!==null)&&(As(e,0),Qr(e,zt,kn,!1)),pe(e,s),((ae&2)===0||e!==Jt)&&(e===Jt&&((ae&2)===0&&(Da|=s),he===4&&Qr(e,zt,kn,!1)),hr(e))}function By(e,n,s){if((ae&6)!==0)throw Error(a(327));var o=!s&&(n&60)===0&&(n&e.expiredLanes)===0||ri(e,n),h=o?L1(e,n):ad(e,n,!0),d=o;do{if(h===0){Ts&&!o&&Qr(e,n,0,!1);break}else if(h===6)Qr(e,n,0,!Gr);else{if(s=e.current.alternate,d&&!M1(s)){h=ad(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;h=Wl;var C=T.current.memoizedState.isDehydrated;if(C&&(As(T,_).flags|=256),_=ad(T,_,!1),_!==2){if(Yf&&!C){T.errorRecoveryDisabledLanes|=d,Da|=d,h=4;break t}d=cr,cr=h,d!==null&&nd(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){As(e,0),Qr(e,n,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Qr(o,n,kn,!Gr);break t}break;case 2:cr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=s,o.finishedLanes=n,(n&62914560)===n&&(d=Wf+300-on(),10<d)){if(Qr(o,n,kn,!Gr),Rn(o,0)!==0)break t;o.timeoutHandle=cv(jy.bind(null,o,s,cr,Ku,Zf,n,kn,Da,Ss,Gr,2,-0,0),d);break t}jy(o,s,cr,Ku,Zf,n,kn,Da,Ss,Gr,0,-0,0)}}break}while(!0);hr(e)}function nd(e){cr===null?cr=e:cr.push.apply(cr,e)}function jy(e,n,s,o,h,d,_,T,C,L,Y,tt,H){var $=n.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(so={stylesheets:null,count:0,unsuspend:pS},Iy(n),n=yS(),n!==null)){e.cancelPendingCommit=n(Ky.bind(null,e,s,o,h,_,T,C,1,tt,H)),Qr(e,d,_,!L);return}Ky(e,s,o,h,_,T,C,Y,tt,H)}function M1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qr(e,n,s,o){n&=~Xf,n&=~Da,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-nn(h),_=1<<d;o[d]=-1,h&=~_}s!==0&&ai(e,s,n)}function Xu(){return(ae&6)===0?(eo(0),!1):!0}function rd(){if(Ot!==null){if(te===0)var e=Ot.return;else e=Ot,zr=ba=null,uf(e),hs=null,Ul=0,e=Ot;for(;e!==null;)zy(e.alternate,e),e=e.return;Ot=null}}function As(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rd(),Jt=e,Ot=s=Di(e.current,null),zt=n,te=0,En=null,Gr=!1,Ts=ri(e,n),Yf=!1,Ss=kn=Xf=Da=xi=he=0,cr=Wl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-nn(o),d=1<<h;n|=e[h],o&=~d}return Fr=n,Eu(),s}function qy(e,n){xt=null,b.H=ur,n===Nl?(n=rg(),te=3):n===tg?(n=rg(),te=4):te=n===ey?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ot===null&&(he=1,Bu(e,On(n,e.current)))}function Hy(){var e=b.H;return b.H=ur,e===null?ur:e}function Gy(){var e=b.A;return b.A=O1,e}function id(){he=4,Gr||(zt&4194176)!==zt&&Un.current!==null||(Ts=!0),(xi&134217727)===0&&(Da&134217727)===0||Jt===null||Qr(Jt,zt,kn,!1)}function ad(e,n,s){var o=ae;ae|=2;var h=Hy(),d=Gy();(Jt!==e||zt!==n)&&(Ku=null,As(e,n)),n=!1;var _=he;t:do try{if(te!==0&&Ot!==null){var T=Ot,C=En;switch(te){case 8:rd(),_=6;break t;case 3:case 2:case 6:Un.current===null&&(n=!0);var L=te;if(te=0,En=null,bs(e,T,C,L),s&&Ts){_=0;break t}break;default:L=te,te=0,En=null,bs(e,T,C,L)}}U1(),_=he;break}catch(Y){qy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,zr=ba=null,ae=o,b.H=h,b.A=d,Ot===null&&(Jt=null,zt=0,Eu()),_}function U1(){for(;Ot!==null;)Fy(Ot)}function L1(e,n){var s=ae;ae|=2;var o=Hy(),h=Gy();Jt!==e||zt!==n?(Ku=null,$u=on()+500,As(e,n)):Ts=ri(e,n);t:do try{if(te!==0&&Ot!==null){n=Ot;var d=En;e:switch(te){case 1:te=0,En=null,bs(e,n,d,1);break;case 2:if(eg(d)){te=0,En=null,Qy(n);break}n=function(){te===2&&Jt===e&&(te=7),hr(e)},d.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:eg(d)?(te=0,En=null,Qy(n)):(te=0,En=null,bs(e,n,d,7));break;case 5:var _=null;switch(Ot.tag){case 26:_=Ot.memoizedState;case 5:case 27:var T=Ot;if(!_||Tv(_)){te=0,En=null;var C=T.sibling;if(C!==null)Ot=C;else{var L=T.return;L!==null?(Ot=L,Zu(L)):Ot=null}break e}}te=0,En=null,bs(e,n,d,5);break;case 6:te=0,En=null,bs(e,n,d,6);break;case 8:rd(),he=6;break t;default:throw Error(a(462))}}P1();break}catch(Y){qy(e,Y)}while(!0);return zr=ba=null,b.H=o,b.A=h,ae=s,Ot!==null?0:(Jt=null,zt=0,Eu(),he)}function P1(){for(;Ot!==null&&!Oh();)Fy(Ot)}function Fy(e){var n=dy(e.alternate,e,Fr);e.memoizedProps=e.pendingProps,n===null?Zu(e):Ot=n}function Qy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ly(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=ly(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:uf(n);default:zy(s,n),n=Ot=Uy(n,Fr),n=dy(s,n,Fr)}e.memoizedProps=e.pendingProps,n===null?Zu(e):Ot=n}function bs(e,n,s,o){zr=ba=null,uf(n),hs=null,Ul=0;var h=n.return;try{if(R1(e,h,n,s,zt)){he=1,Bu(e,On(s,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;he=1,Bu(e,On(s,e.current)),Ot=null;return}n.flags&32768?(Ht||o===1?e=!0:Ts||(zt&536870912)!==0?e=!1:(Gr=e=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),$y(n,e)):Zu(n)}function Zu(e){var n=e;do{if((n.flags&32768)!==0){$y(n,Gr);return}e=n.return;var s=V1(n.alternate,n,Fr);if(s!==null){Ot=s;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);he===0&&(he=5)}function $y(e,n){do{var s=I1(e.alternate,e);if(s!==null){s.flags&=32767,Ot=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=s}while(e!==null);he=6,Ot=null}function Ky(e,n,s,o,h,d,_,T,C,L){var Y=b.T,tt=st.p;try{st.p=2,b.T=null,z1(e,n,s,o,tt,h,d,_,T,C,L)}finally{b.T=Y,st.p=tt}}function z1(e,n,s,o,h,d,_,T){do Rs();while(xa!==null);if((ae&6)!==0)throw Error(a(327));var C=e.finishedWork;if(o=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=$h,Jo(e,o,L,d,_,T),e===Jt&&(Ot=Jt=null,zt=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Yu||(Yu=!0,Jf=L,td=s,q1(Ar,function(){return Rs(),null})),s=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=st.p,st.p=2,_=ae,ae|=4,C1(e,C),Dy(C,e),o1(yd,e.containerInfo),uc=!!gd,yd=gd=null,e.current=C,by(e,C.alternate,C),ol(),ae=_,st.p=d,b.T=s):e.current=C,Yu?(Yu=!1,xa=e,Jl=o):Yy(e,L),L=e.pendingLanes,L===0&&(Vi=null),cl(C.stateNode),hr(e),n!==null)for(h=e.onRecoverableError,C=0;C<n.length;C++)L=n[C],h(L.value,{componentStack:L.stack});return(Jl&3)!==0&&Rs(),L=e.pendingLanes,(o&4194218)!==0&&(L&42)!==0?e===ed?to++:(to=0,ed=e):to=0,eo(0),null}function Yy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function Rs(){if(xa!==null){var e=xa,n=Jf;Jf=0;var s=tu(Jl),o=b.T,h=st.p;try{if(st.p=32>s?32:s,b.T=null,xa===null)var d=!1;else{s=td,td=null;var _=xa,T=Jl;if(xa=null,Jl=0,(ae&6)!==0)throw Error(a(331));var C=ae;if(ae|=4,Ny(_.current),Vy(_,_.current,T,s),ae=C,eo(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ei,_)}catch{}d=!0}return d}finally{st.p=h,b.T=o,Yy(e,n)}}return!1}function Xy(e,n,s){n=On(s,n),n=Af(e.stateNode,n,2),e=bi(e,n,2),e!==null&&(pe(e,2),hr(e))}function Wt(e,n,s){if(e.tag===3)Xy(e,e,s);else for(;n!==null;){if(n.tag===3){Xy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vi===null||!Vi.has(o))){e=On(s,e),s=Jg(2),o=bi(n,s,2),o!==null&&(ty(s,o,n,e),pe(o,2),hr(o));break}}n=n.return}}function sd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new N1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),e=k1.bind(null,e,n,s),n.then(e,e))}function k1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(zt&s)===s&&(he===4||he===3&&(zt&62914560)===zt&&300>on()-Wf?(ae&2)===0&&As(e,0):Xf|=s,Ss===zt&&(Ss=0)),hr(e)}function Zy(e,n){n===0&&(n=ii()),e=gi(e,n),e!==null&&(pe(e,n),hr(e))}function B1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Zy(e,s)}function j1(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Zy(e,s)}function q1(e,n){return Ji(e,n)}var Wu=null,ws=null,ld=!1,Ju=!1,od=!1,Va=0;function hr(e){e!==ws&&e.next===null&&(ws===null?Wu=ws=e:ws=ws.next=e),Ju=!0,ld||(ld=!0,G1(H1))}function eo(e,n){if(!od&&Ju){od=!0;do for(var s=!1,o=Wu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-nn(42|e)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,tv(o,d))}else d=zt,d=Rn(o,o===Jt?d:0),(d&3)===0||ri(o,d)||(s=!0,tv(o,d));o=o.next}while(s);od=!1}}function H1(){Ju=ld=!1;var e=0;Va!==0&&(W1()&&(e=Va),Va=0);for(var n=on(),s=null,o=Wu;o!==null;){var h=o.next,d=Wy(o,n);d===0?(o.next=null,s===null?Wu=h:s.next=h,h===null&&(ws=s)):(s=o,(e!==0||(d&3)!==0)&&(Ju=!0)),o=h}eo(e)}function Wy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-nn(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&o)!==0)&&(h[_]=Ga(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=Jt,s=zt,s=Rn(e,e===n?s:0),o=e.callbackNode,s===0||e===n&&te===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ha(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ri(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Ha(o),tu(s)){case 2:case 8:s=Me;break;case 32:s=Ar;break;case 268435456:s=ul;break;default:s=Ar}return o=Jy.bind(null,e),s=Ji(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Ha(o),e.callbackPriority=2,e.callbackNode=null,2}function Jy(e,n){var s=e.callbackNode;if(Rs()&&e.callbackNode!==s)return null;var o=zt;return o=Rn(e,e===Jt?o:0),o===0?null:(By(e,o,n),Wy(e,on()),e.callbackNode!=null&&e.callbackNode===s?Jy.bind(null,e):null)}function tv(e,n){if(Rs())return null;By(e,n,!0)}function G1(e){tS(function(){(ae&6)!==0?Ji(be,e):e()})}function ud(){return Va===0&&(Va=fl()),Va}function ev(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function nv(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function F1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var d=ev((h[Re]||null).action),_=o.submitter;_&&(n=(n=_[Re]||null)?ev(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new Za("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Va!==0){var C=_?nv(h,_):new FormData(h);vf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?nv(h,_):new FormData(h),vf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var cd=0;cd<Kp.length;cd++){var hd=Kp[cd],Q1=hd.toLowerCase(),$1=hd[0].toUpperCase()+hd.slice(1);Gn(Q1,"on"+$1)}Gn(Hp,"onAnimationEnd"),Gn(Gp,"onAnimationIteration"),Gn(Fp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(c1,"onTransitionRun"),Gn(h1,"onTransitionStart"),Gn(f1,"onTransitionCancel"),Gn(Qp,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var no="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(no));function rv(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,L=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(Y){ku(Y)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,L=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(Y){ku(Y)}h.currentTarget=null,d=C}}}}function Mt(e,n){var s=n[ea];s===void 0&&(s=n[ea]=new Set);var o=e+"__bubble";s.has(o)||(iv(n,e,2,!1),s.add(o))}function fd(e,n,s){var o=0;n&&(o|=4),iv(s,e,o,n)}var tc="_reactListening"+Math.random().toString(36).slice(2);function dd(e){if(!e[tc]){e[tc]=!0,ml.forEach(function(s){s!=="selectionchange"&&(K1.has(s)||fd(s,!1,e),fd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[tc]||(n[tc]=!0,fd("selectionchange",!1,n))}}function iv(e,n,s,o){switch(Cv(n)){case 2:var h=ES;break;case 8:h=TS;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!xn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function md(e,n,s,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Hn(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue t}T=T.parentNode}}o=o.return}au(function(){var L=d,Y=Xa(s),tt=[];t:{var H=$p.get(e);if(H!==void 0){var $=Za,dt=e;switch(e){case"keypress":if(nr(s)===0)break t;case"keydown":case"keyup":$=rs;break;case"focusin":dt="focus",$=ts;break;case"focusout":dt="blur",$=ts;break;case"beforeblur":case"afterblur":$=ts;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=kh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=du;break;case Hp:case Gp:case Fp:$=es;break;case Qp:$=pu;break;case"scroll":case"scrollend":$=su;break;case"wheel":$=is;break;case"copy":case"cut":case"paste":$=ns;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=wl;break;case"toggle":case"beforetoggle":$=yu}var bt=(n&4)!==0,fe=!bt&&(e==="scroll"||e==="scrollend"),z=bt?H!==null?H+"Capture":null:H;bt=[];for(var M=L,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||z===null||(Z=sa(M,z),Z!=null&&bt.push(ro(M,Z,q))),fe)break;M=M.return}0<bt.length&&(H=new $(H,dt,null,s,Y),tt.push({event:H,listeners:bt}))}}if((n&7)===0){t:{if(H=e==="mouseover"||e==="pointerover",$=e==="mouseout"||e==="pointerout",H&&s!==Dn&&(dt=s.relatedTarget||s.fromElement)&&(Hn(dt)||dt[br]))break t;if(($||H)&&(H=Y.window===Y?Y:(H=Y.ownerDocument)?H.defaultView||H.parentWindow:window,$?(dt=s.relatedTarget||s.toElement,$=L,dt=dt?Hn(dt):null,dt!==null&&(fe=mt(dt),bt=dt.tag,dt!==fe||bt!==5&&bt!==27&&bt!==6)&&(dt=null)):($=null,dt=L),$!==dt)){if(bt=Vn,Z="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(bt=wl,Z="onPointerLeave",z="onPointerEnter",M="pointer"),fe=$==null?H:ui($),q=dt==null?H:ui(dt),H=new bt(Z,M+"leave",$,s,Y),H.target=fe,H.relatedTarget=q,Z=null,Hn(Y)===L&&(bt=new bt(z,M+"enter",dt,s,Y),bt.target=q,bt.relatedTarget=fe,Z=bt),fe=Z,$&&dt)e:{for(bt=$,z=dt,M=0,q=bt;q;q=Cs(q))M++;for(q=0,Z=z;Z;Z=Cs(Z))q++;for(;0<M-q;)bt=Cs(bt),M--;for(;0<q-M;)z=Cs(z),q--;for(;M--;){if(bt===z||z!==null&&bt===z.alternate)break e;bt=Cs(bt),z=Cs(z)}bt=null}else bt=null;$!==null&&av(tt,H,$,bt,!1),dt!==null&&fe!==null&&av(tt,fe,dt,bt,!0)}}t:{if(H=L?ui(L):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var ft=Op;else if(Ce(H))if(Np)ft=s1;else{ft=i1;var It=r1}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&_l(L.elementType)&&(ft=Op):ft=a1;if(ft&&(ft=ft(e,L))){Or(tt,ft,s,Y);break t}It&&It(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ya(H,"number",H.value)}switch(It=L?ui(L):window,e){case"focusin":(Ce(It)||It.contentEditable==="true")&&(as=It,Gh=L,xl=null);break;case"focusout":xl=Gh=as=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,jp(tt,s,Y);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":jp(tt,s,Y)}var pt;if(ar)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Lt?G(e,s)&&(_t="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(v&&s.locale!=="ko"&&(Lt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Lt&&(pt=Tl()):(er=Y,pi="value"in er?er.value:er.textContent,Lt=!0)),It=ec(L,_t),0<It.length&&(_t=new bl(_t,e,null,s,Y),tt.push({event:_t,listeners:It}),pt?_t.data=pt:(pt=rt(s),pt!==null&&(_t.data=pt)))),(pt=p?we(e,s):Pt(e,s))&&(_t=ec(L,"onBeforeInput"),0<_t.length&&(It=new bl("onBeforeInput","beforeinput",null,s,Y),tt.push({event:It,listeners:_t}),It.data=pt)),F1(tt,e,L,s,Y)}rv(tt,n)})}function ro(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ec(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=sa(e,s),h!=null&&o.unshift(ro(e,h,d)),h=sa(e,n),h!=null&&o.push(ro(e,h,d))),e=e.return}return o}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function av(e,n,s,o,h){for(var d=n._reactName,_=[];s!==null&&s!==o;){var T=s,C=T.alternate,L=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||L===null||(C=L,h?(L=sa(s,d),L!=null&&_.unshift(ro(s,L,C))):h||(L=sa(s,d),L!=null&&_.push(ro(s,L,C)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var Y1=/\r\n?/g,X1=/\u0000|\uFFFD/g;function sv(e){return(typeof e=="string"?e:""+e).replace(Y1,`
`).replace(X1,"")}function lv(e,n){return n=sv(n),sv(e)===n}function nc(){}function Zt(e,n,s,o,h,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(e,""+o);break;case"className":fi(e,"class",o);break;case"tabIndex":fi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(e,s,o);break;case"style":iu(e,o,d);break;case"data":if(n!=="object"){fi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=tr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=tr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=nc);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=tr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),hi(e,"popover",o);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ph.get(s)||s,hi(e,s,o))}}function pd(e,n,s,o,h,d){switch(s){case"style":iu(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&Cn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$a.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Re]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):hi(e,s,o)}}}function Qe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,d,_,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Mt("invalid",e);var T=d=_=h=null,C=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":_=Y;break;case"checked":C=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Zt(e,n,o,Y,s,null)}}ia(e,d,T,C,L,_,h,!1),ra(e);return;case"select":Mt("invalid",e),o=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Zt(e,n,h,T,s,null)}n=d,s=_,e.multiple=!!o,n!=null?qt(e,!!o,n,!1):s!=null&&qt(e,!!o,s,!0);return;case"textarea":Mt("invalid",e),d=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Zt(e,n,_,T,s,null)}mi(e,o,h,d),ra(e);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,C,o,s,null)}return;case"dialog":Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<no.length;o++)Mt(no[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,L,o,s,null)}return;default:if(_l(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&pd(e,n,Y,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Zt(e,n,T,o,s,null))}function Z1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,L=null,Y=null;for($ in s){var tt=s[$];if(s.hasOwnProperty($)&&tt!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=tt;default:o.hasOwnProperty($)||Zt(e,n,$,null,o,tt)}}for(var H in o){var $=o[H];if(tt=s[H],o.hasOwnProperty(H)&&($!=null||tt!=null))switch(H){case"type":d=$;break;case"name":h=$;break;case"checked":L=$;break;case"defaultChecked":Y=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:$!==tt&&Zt(e,n,H,$,o,tt)}}di(e,_,T,C,L,Y,d,h);return;case"select":$=_=T=H=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:o.hasOwnProperty(d)||Zt(e,n,d,null,o,C)}for(h in o)if(d=o[h],C=s[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Zt(e,n,h,d,o,C)}n=T,s=_,o=$,H!=null?qt(e,!!s,H,!1):!!o!=!!s&&(n!=null?qt(e,!!s,n,!0):qt(e,!!s,s?[]:"",!1));return;case"textarea":$=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(_ in o)if(h=o[_],d=s[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Zt(e,n,_,h,o,d)}aa(e,H,$);return;case"option":for(var dt in s)if(H=s[dt],s.hasOwnProperty(dt)&&H!=null&&!o.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Zt(e,n,dt,null,o,H)}for(C in o)if(H=o[C],$=s[C],o.hasOwnProperty(C)&&H!==$&&(H!=null||$!=null))switch(C){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Zt(e,n,C,H,o,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)H=s[bt],s.hasOwnProperty(bt)&&H!=null&&!o.hasOwnProperty(bt)&&Zt(e,n,bt,null,o,H);for(L in o)if(H=o[L],$=s[L],o.hasOwnProperty(L)&&H!==$&&(H!=null||$!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Zt(e,n,L,H,o,$)}return;default:if(_l(n)){for(var fe in s)H=s[fe],s.hasOwnProperty(fe)&&H!==void 0&&!o.hasOwnProperty(fe)&&pd(e,n,fe,void 0,o,H);for(Y in o)H=o[Y],$=s[Y],!o.hasOwnProperty(Y)||H===$||H===void 0&&$===void 0||pd(e,n,Y,H,o,$);return}}for(var z in s)H=s[z],s.hasOwnProperty(z)&&H!=null&&!o.hasOwnProperty(z)&&Zt(e,n,z,null,o,H);for(tt in o)H=o[tt],$=s[tt],!o.hasOwnProperty(tt)||H===$||H==null&&$==null||Zt(e,n,tt,H,o,$)}var gd=null,yd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function ov(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function W1(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,J1=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(e){return hv.resolve(null).then(e).catch(eS)}:cv;function eS(e){setTimeout(function(){throw e})}function Ed(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(o===0){e.removeChild(h),ho(n);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=h}while(s);ho(n)}function Td(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Td(s),na(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function nS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=$n(e.nextSibling),e===null)break}return null}function rS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=$n(e.nextSibling),e===null))return null;return e}function $n(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function fv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function dv(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var Bn=new Map,mv=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var $r=st.d;st.d={f:iS,r:aS,D:sS,C:lS,L:oS,m:uS,X:hS,S:cS,M:fS};function iS(){var e=$r.f(),n=Xu();return e||n}function aS(e){var n=Rr(e);n!==null&&n.tag===5&&n.type==="form"?jg(n):$r.r(e)}var Ds=typeof document>"u"?null:document;function pv(e,n,s){var o=Ds;if(o&&typeof n=="string"&&n){var h=ue(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),mv.has(h)||(mv.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Qe(n,"link",e),re(n),o.head.appendChild(n)))}}function sS(e){$r.D(e),pv("dns-prefetch",e,null)}function lS(e,n){$r.C(e,n),pv("preconnect",e,n)}function oS(e,n,s){$r.L(e,n,s);var o=Ds;if(o&&e&&n){var h='link[rel="preload"][as="'+ue(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ue(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ue(s.imageSizes)+'"]')):h+='[href="'+ue(e)+'"]';var d=h;switch(n){case"style":d=xs(e);break;case"script":d=Vs(e)}Bn.has(d)||(e=I({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(io(d))||n==="script"&&o.querySelector(ao(d))||(n=o.createElement("link"),Qe(n,"link",e),re(n),o.head.appendChild(n)))}}function uS(e,n){$r.m(e,n);var s=Ds;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ue(o)+'"][href="'+ue(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Vs(e)}if(!Bn.has(d)&&(e=I({rel:"modulepreload",href:e},n),Bn.set(d,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ao(d)))return}o=s.createElement("link"),Qe(o,"link",e),re(o),s.head.appendChild(o)}}}function cS(e,n,s){$r.S(e,n,s);var o=Ds;if(o&&e){var h=ci(o).hoistableStyles,d=xs(e);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(io(d)))T.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(d))&&Sd(e,s);var C=_=o.createElement("link");re(C),Qe(C,"link",e),C._p=new Promise(function(L,Y){C.onload=L,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ac(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function hS(e,n){$r.X(e,n);var s=Ds;if(s&&e){var o=ci(s).hoistableScripts,h=Vs(e),d=o.get(h);d||(d=s.querySelector(ao(h)),d||(e=I({src:e,async:!0},n),(n=Bn.get(h))&&Ad(e,n),d=s.createElement("script"),re(d),Qe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function fS(e,n){$r.M(e,n);var s=Ds;if(s&&e){var o=ci(s).hoistableScripts,h=Vs(e),d=o.get(h);d||(d=s.querySelector(ao(h)),d||(e=I({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&Ad(e,n),d=s.createElement("script"),re(d),Qe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function gv(e,n,s,o){var h=(h=bn.current)?ic(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=xs(s.href),s=ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=xs(s.href);var d=ci(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(io(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),d||dS(h,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vs(s),s=ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function xs(e){return'href="'+ue(e)+'"'}function io(e){return'link[rel="stylesheet"]['+e+"]"}function yv(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function dS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Qe(n,"link",s),re(n),e.head.appendChild(n))}function Vs(e){return'[src="'+ue(e)+'"]'}function ao(e){return"script[async]"+e}function vv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ue(s.href)+'"]');if(o)return n.instance=o,re(o),o;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),re(o),Qe(o,"style",h),ac(o,s.precedence,e),n.instance=o;case"stylesheet":h=xs(s.href);var d=e.querySelector(io(h));if(d)return n.state.loading|=4,n.instance=d,re(d),d;o=yv(s),(h=Bn.get(h))&&Sd(o,h),d=(e.ownerDocument||e).createElement("link"),re(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Qe(d,"link",o),n.state.loading|=4,ac(d,s.precedence,e),n.instance=d;case"script":return d=Vs(s.src),(h=e.querySelector(ao(d)))?(n.instance=h,re(h),h):(o=s,(h=Bn.get(d))&&(o=I({},s),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),re(h),Qe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ac(o,s.precedence,e));return n.instance}function ac(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var sc=null;function _v(e,n,s){if(sc===null){var o=new Map,h=sc=new Map;h.set(s,o)}else h=sc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[oi]||d[Ue]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function Ev(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function mS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Tv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var so=null;function pS(){}function gS(e,n,s){if(so===null)throw Error(a(475));var o=so;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=xs(s.href),d=e.querySelector(io(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=lc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,re(d);return}d=e.ownerDocument||e,s=yv(s),(h=Bn.get(h))&&Sd(s,h),d=d.createElement("link"),re(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Qe(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=lc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function yS(){if(so===null)throw Error(a(475));var e=so;return e.stylesheets&&e.count===0&&bd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&bd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function lc(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function bd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,n.forEach(vS,e),oc=null,lc.call(e))}function vS(e,n){if(!(n.state.loading&4)){var s=oc.get(e);if(s)var o=s.get(null);else{s=new Map,oc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,h),s.set(_,h),this.count++,o=lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var lo={$$typeof:D,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function _S(e,n,s,o,h,d,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.hiddenUpdates=Fa(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Sv(e,n,s,o,h,d,_,T,C,L,Y,tt){return e=new _S(e,n,s,_,T,C,L,tt),n=1,d===!0&&(n|=24),d=zn(3,null,null,n),e.current=d,d.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Lf(d),e}function Av(e){return e?(e=os,e):os}function bv(e,n,s,o,h,d){h=Av(h),o.context===null?o.context=h:o.pendingContext=h,o=Ai(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=bi(e,o,n),s!==null&&(ln(s,e,n),Gl(s,e,n))}function Rv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Rd(e,n){Rv(e,n),(e=e.alternate)&&Rv(e,n)}function wv(e){if(e.tag===13){var n=gi(e,67108864);n!==null&&ln(n,e,67108864),Rd(e,67108864)}}var uc=!0;function ES(e,n,s,o){var h=b.T;b.T=null;var d=st.p;try{st.p=2,wd(e,n,s,o)}finally{st.p=d,b.T=h}}function TS(e,n,s,o){var h=b.T;b.T=null;var d=st.p;try{st.p=8,wd(e,n,s,o)}finally{st.p=d,b.T=h}}function wd(e,n,s,o){if(uc){var h=Cd(o);if(h===null)md(e,n,o,cc,s),Dv(e,o);else if(AS(h,e,n,s,o))o.stopPropagation();else if(Dv(e,o),n&4&&-1<SS.indexOf(e)){for(;h!==null;){var d=Rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=qn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-nn(_);T.entanglements[1]|=C,_&=~C}hr(d),(ae&6)===0&&($u=on()+500,eo(0))}}break;case 13:T=gi(d,2),T!==null&&ln(T,d,2),Xu(),Rd(d,2)}if(d=Cd(o),d===null&&md(e,n,o,cc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else md(e,n,o,null,s)}}function Cd(e){return e=Xa(e),Dd(e)}var cc=null;function Dd(e){if(cc=null,e=Hn(e),e!==null){var n=mt(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=Ct(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return cc=e,null}function Cv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yo()){case be:return 2;case Me:return 8;case Ar:case Xo:return 32;case ul:return 268435456;default:return 32}default:return 32}}var xd=!1,Ii=null,Oi=null,Ni=null,oo=new Map,uo=new Map,Mi=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(e,n){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(n.pointerId)}}function co(e,n,s,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Rr(n),n!==null&&wv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function AS(e,n,s,o,h){switch(n){case"focusin":return Ii=co(Ii,e,n,s,o,h),!0;case"dragenter":return Oi=co(Oi,e,n,s,o,h),!0;case"mouseover":return Ni=co(Ni,e,n,s,o,h),!0;case"pointerover":var d=h.pointerId;return oo.set(d,co(oo.get(d)||null,e,n,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,uo.set(d,co(uo.get(d)||null,e,n,s,o,h)),!0}return!1}function xv(e){var n=Hn(e.target);if(n!==null){var s=mt(n);if(s!==null){if(n=s.tag,n===13){if(n=Ct(s),n!==null){e.blockedOn=n,li(e.priority,function(){if(s.tag===13){var o=Tn(),h=gi(s,o);h!==null&&ln(h,s,o),Rd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Cd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Dn=o,s.target.dispatchEvent(o),Dn=null}else return n=Rr(s),n!==null&&wv(n),e.blockedOn=s,!1;n.shift()}return!0}function Vv(e,n,s){hc(e)&&s.delete(n)}function bS(){xd=!1,Ii!==null&&hc(Ii)&&(Ii=null),Oi!==null&&hc(Oi)&&(Oi=null),Ni!==null&&hc(Ni)&&(Ni=null),oo.forEach(Vv),uo.forEach(Vv)}function fc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bS)))}var dc=null;function Iv(e){dc!==e&&(dc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Dd(o||s)===null)continue;break}var d=Rr(s);d!==null&&(e.splice(n,3),n-=3,vf(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function ho(e){function n(C){return fc(C,e)}Ii!==null&&fc(Ii,e),Oi!==null&&fc(Oi,e),Ni!==null&&fc(Ni,e),oo.forEach(n),uo.forEach(n);for(var s=0;s<Mi.length;s++){var o=Mi[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mi.length&&(s=Mi[0],s.blockedOn===null);)xv(s),s.blockedOn===null&&Mi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],_=h[Re]||null;if(typeof d=="function")_||Iv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Re]||null)T=_.formAction;else if(Dd(h)!==null)continue}else T=_.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Iv(s)}}}function Vd(e){this._internalRoot=e}mc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();bv(s,o,e,n,null,null)},mc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Rs(),bv(e.current,2,null,e,null,null),Xu(),n[br]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mi.length&&n!==0&&n<Mi[s].priority;s++);Mi.splice(s,0,e),s===0&&xv(e)}};var Ov=t.version;if(Ov!=="19.0.0")throw Error(a(527,Ov,"19.0.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=et(n),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var RS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{ei=pc.inject(RS),Xe=pc}catch{}}return mo.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Yg,d=Xg,_=Zg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Sv(e,1,!1,null,null,s,o,h,d,_,T,null),e[br]=n.current,dd(e.nodeType===8?e.parentNode:e),new Vd(n)},mo.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",d=Yg,_=Xg,T=Zg,C=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),n=Sv(e,1,!0,n,s??null,o,h,d,_,T,C,L),n.context=Av(null),s=n.current,o=Tn(),h=Ai(o),h.callback=null,bi(s,h,o),n.current.lanes=o,pe(n,o),hr(n),e[br]=n.current,dd(e),new mc(n)},mo.version="19.0.0",mo}var qv;function LS(){if(qv)return Nd.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Nd.exports=US(),Nd.exports}var PS=LS();function zS(){const[i,t]=K.useState(0);return Q.jsxs(Q.Fragment,{children:[Q.jsx("h1",{children:"Vite + React"}),Q.jsxs("div",{className:"card",children:[Q.jsxs("button",{onClick:()=>t(r=>r+1),children:["count is ",i]}),Q.jsxs("p",{children:["Edit ",Q.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),Q.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}var po={},Hv;function kS(){if(Hv)return po;Hv=1,Object.defineProperty(po,"__esModule",{value:!0}),po.parse=f,po.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,D){const N=new u,j=R.length;if(j<2)return N;const P=(D==null?void 0:D.decode)||E;let F=0;do{const J=R.indexOf("=",F);if(J===-1)break;const X=R.indexOf(";",F),ot=X===-1?j:X;if(J>ot){F=R.lastIndexOf(";",J-1)+1;continue}const at=m(R,F,J),ct=g(R,J,at),V=R.slice(at,ct);if(N[V]===void 0){let w=m(R,J+1,ot),b=g(R,ot,w);const I=P(R.slice(w,b));N[V]=I}F=ot+1}while(F<j);return N}function m(R,D,N){do{const j=R.charCodeAt(D);if(j!==32&&j!==9)return D}while(++D<N);return N}function g(R,D,N){for(;D>N;){const j=R.charCodeAt(--D);if(j!==32&&j!==9)return D+1}return N}function y(R,D,N){const j=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const P=j(D);if(!t.test(P))throw new TypeError(`argument val is invalid: ${D}`);let F=R+"="+P;if(!N)return F;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);F+="; Max-Age="+N.maxAge}if(N.domain){if(!r.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);F+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);F+="; Path="+N.path}if(N.expires){if(!A(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);F+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(F+="; HttpOnly"),N.secure&&(F+="; Secure"),N.partitioned&&(F+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return F}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return l.call(R)==="[object Date]"}return po}kS();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gv="popstate";function BS(i={}){function t(a,l){let{pathname:u,search:f,hash:m}=a.location;return tm("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:xo(l)}return qS(t,r,null,i)}function se(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Yn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function Fv(i,t){return{usr:i.state,key:i.key,idx:t}}function tm(i,t,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Js(t):t,state:r,key:t&&t.key||a||jS()}}function xo({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Js(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function qS(i,t,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let P=E(),F=P==null?null:P-y;y=P,g&&g({action:m,location:j.location,delta:F})}function R(P,F){m="PUSH";let J=tm(j.location,P,F);y=E()+1;let X=Fv(J,y),ot=j.createHref(J);try{f.pushState(X,"",ot)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;l.location.assign(ot)}u&&g&&g({action:m,location:j.location,delta:1})}function D(P,F){m="REPLACE";let J=tm(j.location,P,F);y=E();let X=Fv(J,y),ot=j.createHref(J);f.replaceState(X,"",ot),u&&g&&g({action:m,location:j.location,delta:0})}function N(P){let F=l.location.origin!=="null"?l.location.origin:l.location.href,J=typeof P=="string"?P:xo(P);return J=J.replace(/ $/,"%20"),se(F,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,F)}let j={get action(){return m},get location(){return i(l,f)},listen(P){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Gv,A),g=P,()=>{l.removeEventListener(Gv,A),g=null}},createHref(P){return t(l,P)},createURL:N,encodeLocation(P){let F=N(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:R,replace:D,go(P){return f.go(P)}};return j}function S0(i,t,r="/"){return HS(i,t,r,!1)}function HS(i,t,r,a){let l=typeof t=="string"?Js(t):t,u=qi(l.pathname||"/",r);if(u==null)return null;let f=A0(i);GS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=eA(u);m=JS(f[g],y,a)}return m}function A0(i,t=[],r=[],a=""){let l=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(se(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Yr([a,g.relativePath]),E=r.concat(g);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),A0(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:ZS(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let g of b0(u.path))l(u,f,g)}),t}function b0(i){let t=i.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=b0(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function GS(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:WS(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var FS=/^:[\w-]+$/,QS=3,$S=2,KS=1,YS=10,XS=-2,Qv=i=>i==="*";function ZS(i,t){let r=i.split("/"),a=r.length;return r.some(Qv)&&(a+=XS),t&&(a+=$S),r.filter(l=>!Qv(l)).reduce((l,u)=>l+(FS.test(u)?QS:u===""?KS:YS),a)}function WS(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function JS(i,t,r=!1){let{routesMeta:a}=i,l={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!A&&y&&r&&!a[a.length-1].route.index&&(A=kc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:Yr([u,A.pathname]),pathnameBase:aA(Yr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=Yr([u,A.pathnameBase]))}return f}function kc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=tA(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},R)=>{if(E==="*"){let N=m[R]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[R];return A&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function tA(i,t=!1,r=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function eA(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function qi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function nA(i,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?Js(i):i;return{pathname:r?r.startsWith("/")?r:rA(r,t):t,search:sA(a),hash:lA(l)}}function rA(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Pd(i,t,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function R0(i){let t=iA(i);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function w0(i,t,r,a=!1){let l;typeof i=="string"?l=Js(i):(l={...i},se(!l.pathname||!l.pathname.includes("?"),Pd("?","pathname","search",l)),se(!l.pathname||!l.pathname.includes("#"),Pd("#","pathname","hash",l)),se(!l.search||!l.search.includes("#"),Pd("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=r;else{let A=t.length-1;if(!a&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;l.pathname=R.join("/")}m=A>=0?t[A]:"/"}let g=nA(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),aA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),sA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function oA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var C0=["POST","PUT","PATCH","DELETE"];new Set(C0);var uA=["GET",...C0];new Set(uA);var tl=K.createContext(null);tl.displayName="DataRouter";var lh=K.createContext(null);lh.displayName="DataRouterState";var D0=K.createContext({isTransitioning:!1});D0.displayName="ViewTransition";var cA=K.createContext(new Map);cA.displayName="Fetchers";var hA=K.createContext(null);hA.displayName="Await";var Er=K.createContext(null);Er.displayName="Navigation";var jo=K.createContext(null);jo.displayName="Location";var Tr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Pm=K.createContext(null);Pm.displayName="RouteError";function fA(i,{relative:t}={}){se(qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=K.useContext(Er),{hash:l,pathname:u,search:f}=Ho(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:Yr([r,u])),a.createHref({pathname:m,search:f,hash:l})}function qo(){return K.useContext(jo)!=null}function Xi(){return se(qo(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(jo).location}var x0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V0(i){K.useContext(Er).static||K.useLayoutEffect(i)}function I0(){let{isDataRoute:i}=K.useContext(Tr);return i?RA():dA()}function dA(){se(qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(tl),{basename:t,navigator:r}=K.useContext(Er),{matches:a}=K.useContext(Tr),{pathname:l}=Xi(),u=JSON.stringify(R0(a)),f=K.useRef(!1);return V0(()=>{f.current=!0}),K.useCallback((g,y={})=>{if(Yn(f.current,x0),!f.current)return;if(typeof g=="number"){r.go(g);return}let E=w0(g,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Yr([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}K.createContext(null);function zm(){let{matches:i}=K.useContext(Tr),t=i[i.length-1];return t?t.params:{}}function Ho(i,{relative:t}={}){let{matches:r}=K.useContext(Tr),{pathname:a}=Xi(),l=JSON.stringify(R0(r));return K.useMemo(()=>w0(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function mA(i,t){return O0(i,t)}function O0(i,t,r,a){var J;se(qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=K.useContext(Er),{matches:f}=K.useContext(Tr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let X=A&&A.path||"";N0(y,!A||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Xi(),D;if(t){let X=typeof t=="string"?Js(t):t;se(E==="/"||((J=X.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=R;let N=D.pathname||"/",j=N;if(E!=="/"){let X=E.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=!u&&r&&r.matches&&r.matches.length>0?r.matches:S0(i,{pathname:j});Yn(A||P!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Yn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=_A(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:Yr([E,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Yr([E,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,r,a);return t&&F?K.createElement(jo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},F):F}function pA(){let i=bA(),t=oA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),r?K.createElement("pre",{style:l},r):null,f)}var gA=K.createElement(pA,null),yA=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?K.createElement(Tr.Provider,{value:this.props.routeContext},K.createElement(Pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vA({routeContext:i,match:t,children:r}){let a=K.useContext(tl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Tr.Provider,{value:i},r)}function _A(i,t=[],r=null,a=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);se(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(r)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:A}=r,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,E)=>{let A,R=!1,D=null,N=null;r&&(A=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||gA,f&&(m<0&&E===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,N=null):m===E&&(R=!0,N=y.route.hydrateFallbackElement||null)));let j=t.concat(l.slice(0,E+1)),P=()=>{let F;return A?F=D:R?F=N:y.route.Component?F=K.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=g,K.createElement(vA,{match:y,routeContext:{outlet:g,matches:j,isDataRoute:r!=null},children:F})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(yA,{location:r.location,revalidation:r.revalidation,component:D,error:A,children:P(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):P()},null)}function km(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EA(i){let t=K.useContext(tl);return se(t,km(i)),t}function TA(i){let t=K.useContext(lh);return se(t,km(i)),t}function SA(i){let t=K.useContext(Tr);return se(t,km(i)),t}function Bm(i){let t=SA(i),r=t.matches[t.matches.length-1];return se(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function AA(){return Bm("useRouteId")}function bA(){var a;let i=K.useContext(Pm),t=TA("useRouteError"),r=Bm("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[r]}function RA(){let{router:i}=EA("useNavigate"),t=Bm("useNavigate"),r=K.useRef(!1);return V0(()=>{r.current=!0}),K.useCallback(async(l,u={})=>{Yn(r.current,x0),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var $v={};function N0(i,t,r){!t&&!$v[i]&&($v[i]=!0,Yn(!1,r))}K.memo(wA);function wA({routes:i,future:t,state:r}){return O0(i,void 0,r,t)}function vo(i){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CA({basename:i="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){se(!qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof r=="string"&&(r=Js(r));let{pathname:g="/",search:y="",hash:E="",state:A=null,key:R="default"}=r,D=K.useMemo(()=>{let N=qi(g,f);return N==null?null:{location:{pathname:N,search:y,hash:E,state:A,key:R},navigationType:a}},[f,g,y,E,A,R,a]);return Yn(D!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:K.createElement(Er.Provider,{value:m},K.createElement(jo.Provider,{children:t,value:D}))}function DA({children:i,location:t}){return mA(em(i),t)}function em(i,t=[]){let r=[];return K.Children.forEach(i,(a,l)=>{if(!K.isValidElement(a))return;let u=[...t,l];if(a.type===K.Fragment){r.push.apply(r,em(a.props.children,u));return}se(a.type===vo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=em(a.props.children,u)),r.push(f)}),r}var wc="get",Cc="application/x-www-form-urlencoded";function oh(i){return i!=null&&typeof i.tagName=="string"}function xA(i){return oh(i)&&i.tagName.toLowerCase()==="button"}function VA(i){return oh(i)&&i.tagName.toLowerCase()==="form"}function IA(i){return oh(i)&&i.tagName.toLowerCase()==="input"}function OA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function NA(i,t){return i.button===0&&(!t||t==="_self")&&!OA(i)}function nm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,r)=>{let a=i[r];return t.concat(Array.isArray(a)?a.map(l=>[r,l]):[[r,a]])},[]))}function MA(i,t){let r=nm(i);return t&&t.forEach((a,l)=>{r.has(l)||t.getAll(l).forEach(u=>{r.append(l,u)})}),r}var gc=null;function UA(){if(gc===null)try{new FormData(document.createElement("form"),0),gc=!1}catch{gc=!0}return gc}var LA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zd(i){return i!=null&&!LA.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):i}function PA(i,t){let r,a,l,u,f;if(VA(i)){let m=i.getAttribute("action");a=m?qi(m,t):null,r=i.getAttribute("method")||wc,l=zd(i.getAttribute("enctype"))||Cc,u=new FormData(i)}else if(xA(i)||IA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(a=g?qi(g,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||wc,l=zd(i.getAttribute("formenctype"))||zd(m.getAttribute("enctype"))||Cc,u=new FormData(m,i),!UA()){let{name:y,type:E,value:A}=i;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,A)}}else{if(oh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wc,a=null,l=Cc,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:f}}function jm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function zA(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function BA(i,t,r){let a=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await zA(u,r);return f.links?f.links():[]}return[]}));return GA(a.flat(1).filter(kA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Kv(i,t,r,a,l,u){let f=(g,y)=>r[y]?g.route.id!==r[y].route.id:!0,m=(g,y)=>{var E;return r[y].pathname!==g.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var A;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function jA(i,t,{includeHydrateFallback:r}={}){return qA(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function qA(i){return[...new Set(i)]}function HA(i){let t={},r=Object.keys(i).sort();for(let a of r)t[a]=i[a];return t}function GA(i,t){let r=new Set;return new Set(t),i.reduce((a,l)=>{let u=JSON.stringify(HA(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function FA(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function QA(){let i=K.useContext(tl);return jm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $A(){let i=K.useContext(lh);return jm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qm=K.createContext(void 0);qm.displayName="FrameworkContext";function M0(){let i=K.useContext(qm);return jm(i,"You must render this element inside a <HydratedRouter> element"),i}function KA(i,t){let r=K.useContext(qm),[a,l]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,R=K.useRef(null);K.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let j=F=>{F.forEach(J=>{f(J.isIntersecting)})},P=new IntersectionObserver(j,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[i]),K.useEffect(()=>{if(a){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[a]);let D=()=>{l(!0)},N=()=>{l(!1),f(!1)};return r?i!=="intent"?[u,R,{}]:[u,R,{onFocus:go(m,D),onBlur:go(g,N),onMouseEnter:go(y,D),onMouseLeave:go(E,N),onTouchStart:go(A,D)}]:[!1,R,{}]}function go(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function YA({page:i,...t}){let{router:r}=QA(),a=K.useMemo(()=>S0(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?K.createElement(ZA,{page:i,matches:a,...t}):null}function XA(i){let{manifest:t,routeModules:r}=M0(),[a,l]=K.useState([]);return K.useEffect(()=>{let u=!1;return BA(i,t,r).then(f=>{u||l(f)}),()=>{u=!0}},[i,t,r]),a}function ZA({page:i,matches:t,...r}){let a=Xi(),{manifest:l,routeModules:u}=M0(),{loaderData:f,matches:m}=$A(),g=K.useMemo(()=>Kv(i,t,m,l,a,"data"),[i,t,m,l,a]),y=K.useMemo(()=>Kv(i,t,m,l,a,"assets"),[i,t,m,l,a]),E=K.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let D=new Set,N=!1;if(t.forEach(P=>{var J;let F=l.routes[P.route.id];!F||!F.hasLoader||(!g.some(X=>X.route.id===P.route.id)&&P.route.id in f&&((J=u[P.route.id])!=null&&J.shouldRevalidate)||F.hasClientLoader?N=!0:D.add(P.route.id))}),D.size===0)return[];let j=FA(i);return N&&D.size>0&&j.searchParams.set("_routes",t.filter(P=>D.has(P.route.id)).map(P=>P.route.id).join(",")),[j.pathname+j.search]},[f,a,l,g,t,i,u]),A=K.useMemo(()=>jA(y,l),[y,l]),R=XA(y);return K.createElement(K.Fragment,null,E.map(D=>K.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...r})),A.map(D=>K.createElement("link",{key:D,rel:"modulepreload",href:D,...r})),R.map(({key:D,link:N})=>K.createElement("link",{key:D,...N})))}function WA(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var U0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{U0&&(window.__reactRouterVersion="7.2.0")}catch{}function JA({basename:i,children:t,window:r}){let a=K.useRef();a.current==null&&(a.current=BS({window:r,v5Compat:!0}));let l=a.current,[u,f]=K.useState({action:l.action,location:l.location}),m=K.useCallback(g=>{K.startTransition(()=>f(g))},[f]);return K.useLayoutEffect(()=>l.listen(m),[l,m]),K.createElement(CA,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var L0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P0=K.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:A,...R},D){let{basename:N}=K.useContext(Er),j=typeof y=="string"&&L0.test(y),P,F=!1;if(typeof y=="string"&&j&&(P=y,U0))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),U=qi(I.pathname,N);I.origin===b.origin&&U!=null?y=U+I.search+I.hash:F=!0}catch{Yn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=fA(y,{relative:l}),[X,ot,at]=KA(a,R),ct=rb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:l,viewTransition:A});function V(b){t&&t(b),b.defaultPrevented||ct(b)}let w=K.createElement("a",{...R,...at,href:P||J,onClick:F||u?t:V,ref:WA(D,ot),target:g,"data-discover":!j&&r==="render"?"true":void 0});return X&&!j?K.createElement(K.Fragment,null,w,K.createElement(YA,{page:J})):w});P0.displayName="Link";var tb=K.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let A=Ho(f,{relative:y.relative}),R=Xi(),D=K.useContext(lh),{navigator:N,basename:j}=K.useContext(Er),P=D!=null&&ub(A)&&m===!0,F=N.encodeLocation?N.encodeLocation(A).pathname:A.pathname,J=R.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(J=J.toLowerCase(),X=X?X.toLowerCase():null,F=F.toLowerCase()),X&&j&&(X=qi(X,j)||X);const ot=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let at=J===F||!l&&J.startsWith(F)&&J.charAt(ot)==="/",ct=X!=null&&(X===F||!l&&X.startsWith(F)&&X.charAt(F.length)==="/"),V={isActive:at,isPending:ct,isTransitioning:P},w=at?t:void 0,b;typeof a=="function"?b=a(V):b=[a,at?"active":null,ct?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(V):u;return K.createElement(P0,{...y,"aria-current":w,className:b,ref:E,style:I,to:f,viewTransition:m},typeof g=="function"?g(V):g)});tb.displayName="NavLink";var eb=K.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:u,method:f=wc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:A,...R},D)=>{let N=lb(),j=ob(m,{relative:y}),P=f.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&L0.test(m),J=X=>{if(g&&g(X),X.defaultPrevented)return;X.preventDefault();let ot=X.nativeEvent.submitter,at=(ot==null?void 0:ot.getAttribute("formmethod"))||f;N(ot||X.currentTarget,{fetcherKey:t,method:at,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return K.createElement("form",{ref:D,method:P,action:j,onSubmit:a?g:J,...R,"data-discover":!F&&i==="render"?"true":void 0})});eb.displayName="Form";function nb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z0(i){let t=K.useContext(tl);return se(t,nb(i)),t}function rb(i,{target:t,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=I0(),g=Xi(),y=Ho(i,{relative:u});return K.useCallback(E=>{if(NA(E,t)){E.preventDefault();let A=r!==void 0?r:xo(g)===xo(y);m(i,{replace:A,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[g,m,y,r,a,t,i,l,u,f])}function ib(i){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=K.useRef(nm(i)),r=K.useRef(!1),a=Xi(),l=K.useMemo(()=>MA(a.search,r.current?null:t.current),[a.search]),u=I0(),f=K.useCallback((m,g)=>{const y=nm(typeof m=="function"?m(l):m);r.current=!0,u("?"+y,g)},[u,l]);return[l,f]}var ab=0,sb=()=>`__${String(++ab)}__`;function lb(){let{router:i}=z0("useSubmit"),{basename:t}=K.useContext(Er),r=AA();return K.useCallback(async(a,l={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=PA(a,t);if(l.navigate===!1){let E=l.fetcherKey||sb();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function ob(i,{relative:t}={}){let{basename:r}=K.useContext(Er),a=K.useContext(Tr);se(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Ho(i||".",{relative:t})},f=Xi();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Yr([r,u.pathname])),xo(u)}function ub(i,t={}){let r=K.useContext(D0);se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=z0("useViewTransitionState"),l=Ho(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=qi(r.currentLocation.pathname,a)||r.currentLocation.pathname,f=qi(r.nextLocation.pathname,a)||r.nextLocation.pathname;return kc(l.pathname,f)!=null||kc(l.pathname,u)!=null}new TextEncoder;const k0=(i,t)=>{const r=B0(i.length)-i.reduce((a,l)=>a+l,0);return i.map((a,l)=>{const u=i.filter(D=>D>a).length,f=i.filter(D=>D===a).length,m=i.slice(0,l).filter(D=>D===a).length,g=(a-Xv)/1e3,y=u===0?(Xv-j0)*4:0,E=1e3*t.uma.slice(u,u+f).reduce((D,N)=>D+N,0),A=Yv(y+E,f)[m]/1e3,R=u===0?r%f===0?r/f/1e3:Yv(1e3,f)[m]*(r/1e3)/1e3:0;return g+A+R})},B0=i=>i*j0,Yv=(i,t)=>{const r=100*t,a=Math.trunc(i/r),l=i%r,u=Math.abs(l/100);return Array.from({length:t},(f,m)=>100*a+(m<u?l/u:0)).sort((f,m)=>m-f)},j0=25e3,Xv=3e4,cb=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=function(i){const t=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},hb=function(i){const t=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],f=i[r++],m=i[r++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(g>>10)),t[a++]=String.fromCharCode(56320+(g&1023))}else{const u=i[r++],f=i[r++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},H0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,m=f?i[l+1]:0,g=l+2<i.length,y=g?i[l+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,D=y&63;g||(D=64,f||(R=64)),a.push(r[E],r[A],r[R],r[D])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(q0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):hb(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const A=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new fb;const R=u<<2|m>>4;if(a.push(R),y!==64){const D=m<<4&240|y>>2;if(a.push(D),A!==64){const N=y<<6&192|A;a.push(N)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class fb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const db=function(i){const t=q0(i);return H0.encodeByteArray(t,!0)},Bc=function(i){return db(i).replace(/\./g,"")},mb=function(i){try{return H0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=()=>pb().__FIREBASE_DEFAULTS__,yb=()=>{if(typeof process>"u"||typeof Zv>"u")return;const i=Zv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},vb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&mb(i[1]);return t&&JSON.parse(t)},Hm=()=>{try{return cb()||gb()||yb()||vb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_b=i=>{var t,r;return(r=(t=Hm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Eb=i=>{const t=_b(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},G0=()=>{var i;return(i=Hm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Bc(JSON.stringify(r)),Bc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bb(){var i;const t=(i=Hm())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rb(){return!bb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wb(){try{return typeof indexedDB=="object"}catch{return!1}}function Cb(){return new Promise((i,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="FirebaseError";class el extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=Db,Object.setPrototypeOf(this,el.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,F0.prototype.create)}}class F0{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?xb(u,a):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new el(l,m,a)}}function xb(i,t){return i.replace(Vb,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Vb=/\{\$([^}]+)}/g;function jc(i,t){if(i===t)return!0;const r=Object.keys(i),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const u=i[l],f=t[l];if(Wv(u)&&Wv(f)){if(!jc(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(i){return i&&i._delegate?i._delegate:i}class Vo{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new Tb;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Nb(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(l)}return l}onInit(t,r){var a;const l=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&t(f,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ob(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ob(i){return i===Ia?void 0:i}function Nb(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Ib(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const Ub={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},Lb=Bt.INFO,Pb={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},zb=(i,t,...r)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=Pb[t];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Q0{constructor(t){this.name=t,this._logLevel=Lb,this._logHandler=zb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ub[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const kb=(i,t)=>t.some(r=>i instanceof r);let Jv,t_;function Bb(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jb(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $0=new WeakMap,rm=new WeakMap,K0=new WeakMap,kd=new WeakMap,Gm=new WeakMap;function qb(i){const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(zi(i.result)),l()},f=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&$0.set(r,i)}).catch(()=>{}),Gm.set(t,i),t}function Hb(i){if(rm.has(i))return;const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});rm.set(i,t)}let im={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return rm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||K0.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zi(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Gb(i){im=i(im)}function Fb(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=i.call(Bd(this),t,...r);return K0.set(a,t.sort?t.sort():[t]),zi(a)}:jb().includes(i)?function(...t){return i.apply(Bd(this),t),zi($0.get(this))}:function(...t){return zi(i.apply(Bd(this),t))}}function Qb(i){return typeof i=="function"?Fb(i):(i instanceof IDBTransaction&&Hb(i),kb(i,Bb())?new Proxy(i,im):i)}function zi(i){if(i instanceof IDBRequest)return qb(i);if(kd.has(i))return kd.get(i);const t=Qb(i);return t!==i&&(kd.set(i,t),Gm.set(t,i)),t}const Bd=i=>Gm.get(i);function $b(i,t,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(i,t),m=zi(f);return a&&f.addEventListener("upgradeneeded",g=>{a(zi(f.result),g.oldVersion,g.newVersion,zi(f.transaction),g)}),r&&f.addEventListener("blocked",g=>r(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Kb=["get","getKey","getAll","getAllKeys","count"],Yb=["put","add","delete","clear"],jd=new Map;function e_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=Yb.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Kb.includes(r)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&g.done]))[0]};return jd.set(t,u),u}Gb(i=>({...i,get:(t,r,a)=>e_(t,r)||i.get(t,r,a),has:(t,r)=>!!e_(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Zb(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function Zb(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const am="@firebase/app",n_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Q0("@firebase/app"),Wb="@firebase/app-compat",Jb="@firebase/analytics-compat",tR="@firebase/analytics",eR="@firebase/app-check-compat",nR="@firebase/app-check",rR="@firebase/auth",iR="@firebase/auth-compat",aR="@firebase/database",sR="@firebase/data-connect",lR="@firebase/database-compat",oR="@firebase/functions",uR="@firebase/functions-compat",cR="@firebase/installations",hR="@firebase/installations-compat",fR="@firebase/messaging",dR="@firebase/messaging-compat",mR="@firebase/performance",pR="@firebase/performance-compat",gR="@firebase/remote-config",yR="@firebase/remote-config-compat",vR="@firebase/storage",_R="@firebase/storage-compat",ER="@firebase/firestore",TR="@firebase/vertexai",SR="@firebase/firestore-compat",AR="firebase",bR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",RR={[am]:"fire-core",[Wb]:"fire-core-compat",[tR]:"fire-analytics",[Jb]:"fire-analytics-compat",[nR]:"fire-app-check",[eR]:"fire-app-check-compat",[rR]:"fire-auth",[iR]:"fire-auth-compat",[aR]:"fire-rtdb",[sR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[oR]:"fire-fn",[uR]:"fire-fn-compat",[cR]:"fire-iid",[hR]:"fire-iid-compat",[fR]:"fire-fcm",[dR]:"fire-fcm-compat",[mR]:"fire-perf",[pR]:"fire-perf-compat",[gR]:"fire-rc",[yR]:"fire-rc-compat",[vR]:"fire-gcs",[_R]:"fire-gcs-compat",[ER]:"fire-fst",[SR]:"fire-fst-compat",[TR]:"fire-vertex","fire-js":"fire-js",[AR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,wR=new Map,lm=new Map;function r_(i,t){try{i.container.addComponent(t)}catch(r){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function Hc(i){const t=i.name;if(lm.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,i);for(const r of qc.values())r_(r,i);for(const r of wR.values())r_(r,i);return!0}function CR(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function DR(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new F0("app","Firebase",xR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=bR;function Y0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:sm,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw ki.create("bad-app-name",{appName:String(l)});if(r||(r=G0()),!r)throw ki.create("no-options");const u=qc.get(l);if(u){if(jc(r,u.options)&&jc(a,u.config))return u;throw ki.create("duplicate-app",{appName:l})}const f=new Mb(l);for(const g of lm.values())f.addComponent(g);const m=new VR(r,a,f);return qc.set(l,m),m}function OR(i=sm){const t=qc.get(i);if(!t&&i===sm&&G0())return Y0();if(!t)throw ki.create("no-app",{appName:i});return t}function Ps(i,t,r){var a;let l=(a=RR[i])!==null&&a!==void 0?a:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(m.join(" "));return}Hc(new Vo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="firebase-heartbeat-database",MR=1,Io="firebase-heartbeat-store";let qd=null;function X0(){return qd||(qd=$b(NR,MR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Io)}catch(r){console.warn(r)}}}}).catch(i=>{throw ki.create("idb-open",{originalErrorMessage:i.message})})),qd}async function UR(i){try{const r=(await X0()).transaction(Io),a=await r.objectStore(Io).get(Z0(i));return await r.done,a}catch(t){if(t instanceof el)Xr.warn(t.message);else{const r=ki.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(r.message)}}}async function i_(i,t){try{const a=(await X0()).transaction(Io,"readwrite");await a.objectStore(Io).put(t,Z0(i)),await a.done}catch(r){if(r instanceof el)Xr.warn(r.message);else{const a=ki.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Xr.warn(a.message)}}}function Z0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=1024,PR=30;class zR{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new BR(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=a_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>PR){const f=jR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=a_(),{heartbeatsToSend:a,unsentEntries:l}=kR(this._heartbeatsCache.heartbeats),u=Bc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Xr.warn(r),""}}}function a_(){return new Date().toISOString().substring(0,10)}function kR(i,t=LR){const r=[];let a=i.slice();for(const l of i){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),s_(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),s_(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class BR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wb()?Cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await UR(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return i_(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return i_(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function s_(i){return Bc(JSON.stringify({version:2,heartbeats:i})).length}function jR(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(i){Hc(new Vo("platform-logger",t=>new Xb(t),"PRIVATE")),Hc(new Vo("heartbeat",t=>new zR(t),"PRIVATE")),Ps(am,n_,i),Ps(am,n_,"esm2017"),Ps("fire-js","")}qR("");var HR="firebase",GR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(HR,GR,"app");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,W0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function b(){}b.prototype=w.prototype,V.D=w.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(I,U,k){for(var x=Array(arguments.length-2),me=2;me<arguments.length;me++)x[me-2]=arguments[me];return w.prototype[U].apply(I,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)I[U]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(U=0;16>U;++U)I[U]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=V.g[0],b=V.g[1],U=V.g[2];var k=V.g[3],x=w+(k^b&(U^k))+I[0]+3614090360&4294967295;w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[2]+606105819&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[3]+3250441966&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(k^b&(U^k))+I[4]+4118548399&4294967295,w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[6]+2821735955&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[7]+4249261313&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(k^b&(U^k))+I[8]+1770035416&4294967295,w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[10]+4294925233&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[11]+2304563134&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(k^b&(U^k))+I[12]+1804603682&4294967295,w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[14]+2792965006&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[15]+1236535329&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(U^k&(b^U))+I[1]+4129170786&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[11]+643717713&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[0]+3921069994&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(U^k&(b^U))+I[5]+3593408605&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[15]+3634488961&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[4]+3889429448&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(U^k&(b^U))+I[9]+568446438&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[3]+4107603335&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[8]+1163531501&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(U^k&(b^U))+I[13]+2850285829&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[7]+1735328473&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[12]+2368359562&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(b^U^k)+I[5]+4294588738&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[11]+1839030562&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[14]+4259657740&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(b^U^k)+I[1]+2763975236&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[7]+4139469664&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[10]+3200236656&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(b^U^k)+I[13]+681279174&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[3]+3572445317&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[6]+76029189&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(b^U^k)+I[9]+3654602809&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[15]+530742520&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[2]+3299628645&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(U^(b|~k))+I[0]+4096336452&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[14]+2878612391&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[5]+4237533241&4294967295,b=U+(x<<21&4294967295|x>>>11),x=w+(U^(b|~k))+I[12]+1700485571&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[10]+4293915773&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[1]+2240044497&4294967295,b=U+(x<<21&4294967295|x>>>11),x=w+(U^(b|~k))+I[8]+1873313359&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[6]+2734768916&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[13]+1309151649&4294967295,b=U+(x<<21&4294967295|x>>>11),x=w+(U^(b|~k))+I[4]+4149444226&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[2]+718787259&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(U+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+k&4294967295}a.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var b=w-this.blockSize,I=this.B,U=this.h,k=0;k<w;){if(U==0)for(;k<=b;)l(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<w;)if(I[U++]=V.charCodeAt(k++),U==this.blockSize){l(this,I),U=0;break}}else for(;k<w;)if(I[U++]=V[k++],U==this.blockSize){l(this,I),U=0;break}}this.h=U,this.o+=w},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var b=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=b&255,b/=256;for(this.u(V),V=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)V[b++]=this.g[w]>>>I&255;return V};function u(V,w){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=w(V)}function f(V,w){this.h=w;for(var b=[],I=!0,U=V.length-1;0<=U;U--){var k=V[U]|0;I&&k==w||(b[U]=k,I=!1)}this.g=b}var m={};function g(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return P(y(-V));for(var w=[],b=1,I=0;V>=b;I++)w[I]=V/b|0,b*=4294967296;return new f(w,0)}function E(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return P(E(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(w,8)),I=A,U=0;U<V.length;U+=8){var k=Math.min(8,V.length-U),x=parseInt(V.substring(U,U+k),w);8>k?(k=y(Math.pow(w,k)),I=I.j(k).add(y(x))):(I=I.j(b),I=I.add(y(x)))}return I}var A=g(0),R=g(1),D=g(16777216);i=f.prototype,i.m=function(){if(j(this))return-P(this).m();for(var V=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);V+=(0<=I?I:4294967296+I)*w,w*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(j(this))return"-"+P(this).toString(V);for(var w=y(Math.pow(V,6)),b=this,I="";;){var U=ot(b,w).g;b=F(b,U.j(w));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=U,N(b))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function j(V){return V.h==-1}i.l=function(V){return V=F(this,V),j(V)?-1:N(V)?0:1};function P(V){for(var w=V.g.length,b=[],I=0;I<w;I++)b[I]=~V.g[I];return new f(b,~V.h).add(R)}i.abs=function(){return j(this)?P(this):this},i.add=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0,U=0;U<=w;U++){var k=I+(this.i(U)&65535)+(V.i(U)&65535),x=(k>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);I=x>>>16,k&=65535,x&=65535,b[U]=x<<16|k}return new f(b,b[b.length-1]&-2147483648?-1:0)};function F(V,w){return V.add(P(w))}i.j=function(V){if(N(this)||N(V))return A;if(j(this))return j(V)?P(this).j(P(V)):P(P(this).j(V));if(j(V))return P(this.j(P(V)));if(0>this.l(D)&&0>V.l(D))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<V.g.length;U++){var k=this.i(I)>>>16,x=this.i(I)&65535,me=V.i(U)>>>16,oe=V.i(U)&65535;b[2*I+2*U]+=x*oe,J(b,2*I+2*U),b[2*I+2*U+1]+=k*oe,J(b,2*I+2*U+1),b[2*I+2*U+1]+=x*me,J(b,2*I+2*U+1),b[2*I+2*U+2]+=k*me,J(b,2*I+2*U+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new f(b,0)};function J(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function X(V,w){this.g=V,this.h=w}function ot(V,w){if(N(w))throw Error("division by zero");if(N(V))return new X(A,A);if(j(V))return w=ot(P(V),w),new X(P(w.g),P(w.h));if(j(w))return w=ot(V,P(w)),new X(P(w.g),w.h);if(30<V.g.length){if(j(V)||j(w))throw Error("slowDivide_ only works with positive integers.");for(var b=R,I=w;0>=I.l(V);)b=at(b),I=at(I);var U=ct(b,1),k=ct(I,1);for(I=ct(I,2),b=ct(b,2);!N(I);){var x=k.add(I);0>=x.l(V)&&(U=U.add(b),k=x),I=ct(I,1),b=ct(b,1)}return w=F(V,U.j(w)),new X(U,w)}for(U=A;0<=V.l(w);){for(b=Math.max(1,Math.floor(V.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=y(b),x=k.j(w);j(x)||0<x.l(V);)b-=I,k=y(b),x=k.j(w);N(k)&&(k=R),U=U.add(k),V=F(V,x)}return new X(U,V)}i.A=function(V){return ot(this,V).h},i.and=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&V.i(I);return new f(b,this.h&V.h)},i.or=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|V.i(I);return new f(b,this.h|V.h)},i.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^V.i(I);return new f(b,this.h^V.h)};function at(V){for(var w=V.g.length+1,b=[],I=0;I<w;I++)b[I]=V.i(I)<<1|V.i(I-1)>>>31;return new f(b,V.h)}function ct(V,w){var b=w>>5;w%=32;for(var I=V.g.length-b,U=[],k=0;k<I;k++)U[k]=0<w?V.i(k+b)>>>w|V.i(k+b+1)<<32-w:V.i(k+b);return new f(U,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,W0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Bi=f}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J0,_o,tE,Dc,om,eE,nE,rE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=r(this);function l(c,p){if(p)t:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break t;v=v[B]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var G=v++;return{value:p(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function A(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(p,B)}}return function(){return c.apply(p,arguments)}}function R(c,p,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function D(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,G){for(var rt=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)rt[Lt-2]=arguments[Lt];return p.prototype[B].apply(S,rt)}}function j(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function P(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const B=c.length||0,G=S.length||0;c.length=B+G;for(let rt=0;rt<G;rt++)c[B+rt]=S[rt]}else c.push(S)}}class F{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var at=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ct(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function V(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function w(c){const p={};for(const v in c)p[v]=c[v];return p}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let G=0;G<b.length;G++)v=b[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function U(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ct;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class me{constructor(){this.h=this.g=null}add(p,v){const S=oe.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new F(()=>new it,c=>c.reset());class it{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,Ct=new me,O=()=>{const c=m.Promise.resolve(void 0);yt=()=>{c.then(et)}};var et=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){k(v)}var p=oe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}mt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function St(c,p){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(at){t:{try{ot(p.nodeName);var B=!0;break t}catch{}B=!1}B||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&St.aa.h.call(this)}}N(St,lt);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function Ft(c,p,v,S,B){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=B,this.key=++Vt,this.da=this.fa=!1}function jt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,p,v,S,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var rt=bn(c,p,S,B);return-1<rt?(p=c[rt],v||(p.fa=!1)):(p=new Ft(p,this.src,G,!!S,B),p.fa=v,c.push(p)),p};function Ne(c,p){var v=p.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,p,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&(jt(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bn(c,p,v,S){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==p&&G.capture==!!v&&G.ha==S)return B}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),ti={};function Sr(c,p,v,S,B){if(Array.isArray(p)){for(var G=0;G<p.length;G++)Sr(c,p[G],v,S,B);return null}return v=Yo(v),c&&c[ee]?c.K(p,v,y(S)?!!S.capture:!1,B):ll(c,p,v,!1,S,B)}function ll(c,p,v,S,B,G){if(!p)throw Error("Invalid event type");var rt=y(B)?!!B.capture:!!B,Lt=ol(c);if(Lt||(c[Jr]=Lt=new ve(c)),v=Lt.add(p,v,S,rt,G),v.proxy)return v;if(S=ja(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)st||(B=rt),B===void 0&&(B=!1),c.addEventListener(p.toString(),S,B);else if(c.attachEvent)c.attachEvent(Ha(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ja(){function c(v){return p.call(c.src,c.listener,v)}const p=Oh;return c}function qa(c,p,v,S,B){if(Array.isArray(p))for(var G=0;G<p.length;G++)qa(c,p[G],v,S,B);else S=y(S)?!!S.capture:!!S,v=Yo(v),c&&c[ee]?(c=c.i,p=String(p).toString(),p in c.g&&(G=c.g[p],v=bn(G,v,S,B),-1<v&&(jt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[p],c.h--)))):c&&(c=ol(c))&&(p=c.g[p.toString()],c=-1,p&&(c=bn(p,v,S,B)),(v=-1<c?p[c]:null)&&Ji(v))}function Ji(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ee])Ne(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Ha(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=ol(p))?(Ne(v,c),v.h==0&&(v.src=null,p[Jr]=null)):jt(c)}}}function Ha(c){return c in ti?ti[c]:ti[c]="on"+c}function Oh(c,p){if(c.da)c=!0;else{p=new St(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Ji(c),c=v.call(S,p)}return c}function ol(c){return c=c[Jr],c instanceof ve?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(c){return typeof c=="function"?c:(c[on]||(c[on]=function(p){return c.handleEvent(p)}),c[on])}function be(){ht.call(this),this.i=new ve(this),this.M=this,this.F=null}N(be,ht),be.prototype[ee]=!0,be.prototype.removeEventListener=function(c,p,v,S){qa(this,c,p,v,S)};function Me(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new lt(p,c);else if(p instanceof lt)p.target=p.target||c;else{var B=p;p=new lt(S,c),I(p,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var rt=p.g=v[G];B=Ar(rt,S,!0,p)&&B}if(rt=p.g=c,B=Ar(rt,S,!0,p)&&B,B=Ar(rt,S,!1,p)&&B,v)for(G=0;G<v.length;G++)rt=p.g=v[G],B=Ar(rt,S,!1,p)&&B}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)jt(v[S]);delete c.g[p],c.h--}}this.F=null},be.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},be.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function Ar(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,G=0;G<p.length;++G){var rt=p[G];if(rt&&!rt.da&&rt.capture==v){var Lt=rt.listener,we=rt.ha||rt.src;rt.fa&&Ne(c.i,rt),B=Lt.call(we,S)!==!1&&B}}return B&&!S.defaultPrevented}function Xo(c,p,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function ul(c){c.g=Xo(()=>{c.g=null,c.i&&(c.i=!1,ul(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Nh extends ht{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(c){ht.call(this),this.h=c,this.g={}}N(ta,ht);var ei=[];function Xe(c){ct(c.g,function(p,v){this.g.hasOwnProperty(v)&&Ji(p)},c),c.g={}}ta.prototype.N=function(){ta.aa.N.call(this),Xe(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=m.JSON.stringify,Xn=m.JSON.parse,nn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function hl(){}hl.prototype.h=null;function Zo(c){return c.h||(c.h=c.i())}function Wo(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){lt.call(this,"d")}N(ni,lt);function qn(){lt.call(this,"c")}N(qn,lt);var Rn={},ri=null;function Ga(){return ri=ri||new be}Rn.La="serverreachability";function fl(c){lt.call(this,Rn.La,c)}N(fl,lt);function ii(c){const p=Ga();Me(p,new fl(p))}Rn.STAT_EVENT="statevent";function Fa(c,p){lt.call(this,Rn.STAT_EVENT,c),this.stat=p}N(Fa,lt);function pe(c){const p=Ga();Me(p,new Fa(p,c))}Rn.Ma="timingevent";function Jo(c,p){lt.call(this,Rn.Ma,c),this.size=p}N(Jo,lt);function ai(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function tu(c,p,v,S,B,G){c.info(function(){if(c.g)if(G)for(var rt="",Lt=G.split("&"),we=0;we<Lt.length;we++){var Pt=Lt[we].split("=");if(1<Pt.length){var Pe=Pt[0];Pt=Pt[1];var Ce=Pe.split("_");rt=2<=Ce.length&&Ce[1]=="type"?rt+(Pe+"="+Pt+"&"):rt+(Pe+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+p+`
`+v+`
`+rt})}function eu(c,p,v,S,B,G,rt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+p+`
`+v+`
`+G+" "+rt})}function li(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ue(c,v)+(S?" "+S:"")})}function Wn(c,p){c.info(function(){return"TIMEOUT: "+p})}si.prototype.info=function(){};function Ue(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<B.length;rt++)B[rt]=""}}}}return cl(v)}catch{return p}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ea;function Qa(){}N(Qa,hl),Qa.prototype.g=function(){return new XMLHttpRequest},Qa.prototype.i=function(){return{}},ea=new Qa;function Jn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dl}function dl(){this.i=null,this.g="",this.h=!1}var oi={},na={};function Hn(c,p,v){c.L=1,c.v=aa(ue(p)),c.m=v,c.P=!0,Rr(c,null)}function Rr(c,p){c.F=Date.now(),re(c),c.A=ue(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Dr(v.i,"t",S),c.C=0,v=c.j.J,c.h=new dl,c.g=pu(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Nh(R(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ei[0]=B.toString()),B=ei);for(var G=0;G<B.length;G++){var rt=Sr(v,B[G],S||p.handleEvent,!1,p.h||p);if(!rt)break;p.g[rt.key]=rt}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ii(),tu(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Vn(c)==3?p.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=Vn(this.g);var p=this.g.Ba();const Or=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||lu(this.g)))){this.J||Ce!=4||p==7||(p==8||0>=Or?ii(3):ii(2)),$a(this);var v=this.g.Z();this.X=v;e:if(ui(this)){var S=lu(this.g);c="";var B=S.length,G=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),pn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(G&&p==B-1)});S.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=v==200,eu(this.i,this.u,this.A,this.l,this.R,Ce,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,we=this.g;if((Lt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Lt)){var Pt=Lt;break e}}Pt=null}if(v=Pt)li(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gn(this,v);else{this.o=!1,this.s=3,pe(12),un(this),pn(this);break t}}if(this.P){v=!0;let He;for(;!this.J&&this.C<rt.length;)if(He=ci(this,rt),He==na){Ce==4&&(this.s=4,pe(14),v=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(He==oi){this.s=4,pe(15),li(this.i,this.l,rt,"[Invalid Chunk]"),v=!1;break}else li(this.i,this.l,He,null),gn(this,He);if(ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||rt.length!=0||this.h.h||(this.s=1,pe(16),v=!1),this.o=this.o&&v,!v)li(this.i,this.l,rt,"[Invalid Chunked Response]"),un(this),pn(this);else if(0<rt.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),fa(Pe),Pe.M=!0,pe(11))}}else li(this.i,this.l,rt,null),gn(this,rt);Ce==4&&un(this),this.o&&!this.J&&(Ce==4?fu(this.j,this):(this.o=!1,re(this)))}else kh(this.g),v==400&&0<rt.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),un(this),pn(this)}}}catch{}finally{}};function ui(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ci(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?na:(v=Number(p.substring(v,S)),isNaN(v)?oi:(S+=1,S+v>p.length?na:(p=p.slice(S,S+v),c.C=S+v,p)))}Jn.prototype.cancel=function(){this.J=!0,un(this)};function re(c){c.S=Date.now()+c.I,ml(c,c.I)}function ml(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ai(R(c.ba,c),p)}function $a(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wn(this.i,this.A),this.L!=2&&(ii(),pe(17)),un(this),this.s=2,pn(this)):ml(this,this.S-c)};function pn(c){c.j.G==0||c.J||fu(c.j,c)}function un(c){$a(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Xe(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function gn(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||hi(v.h,c))){if(!c.K&&hi(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)rs(v),es(v);else break t;Rl(v),pe(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=ai(R(v.Za,v),6e3));if(1>=nu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((c.K||v.g==c)&&rs(v),!J(p))for(B=v.Da.g.parse(p),p=0;p<B.length;p++){let Pt=B[p];if(v.T=Pt[0],Pt=Pt[1],v.G==2)if(Pt[0]=="c"){v.K=Pt[1],v.ia=Pt[2];const Pe=Pt[3];Pe!=null&&(v.la=Pe,v.j.info("VER="+v.la));const Ce=Pt[4];Ce!=null&&(v.Aa=Ce,v.j.info("SVER="+v.Aa));const Or=Pt[5];Or!=null&&typeof Or=="number"&&0<Or&&(S=1.5*Or,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const He=c.g;if(He){const sr=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var G=S.h;G.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(fi(G,G.h),G.h=null))}if(S.D){const Cl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;Cl&&(S.ya=Cl,qt(S.I,S.D,Cl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var rt=c;if(S.qa=mu(S,S.J?S.ia:null,S.W),rt.K){wn(S.h,rt);var Lt=rt,we=S.L;we&&(Lt.I=we),Lt.B&&($a(Lt),re(Lt)),S.g=rt}else cu(S);0<v.i.length&&ns(v)}else Pt[0]!="stop"&&Pt[0]!="close"||Ir(v,7);else v.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ir(v,7):Al(v):Pt[0]!="noop"&&v.l&&v.l.ta(Pt),v.v=0)}}ii(4)}catch{}}var Mh=class{constructor(c,p){this.g=c,this.map=p}};function pl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nu(c){return c.h?1:c.g?c.g.size:0}function hi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function fi(c,p){c.g?c.g.add(p):c.h=p}function wn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}pl.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return j(c.i)}function ru(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function Uh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function ra(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Uh(c),S=ru(c),B=S.length,G=0;G<B;G++)p.call(void 0,S[G],v&&v[G],c)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var G=c[v].substring(0,S);B=c[v].substring(S+1)}else G=c[v];p(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wr){this.h=c.h,di(this,c.j),this.o=c.o,this.g=c.g,ia(this,c.s),this.l=c.l;var p=c.i,v=new tr;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ya(this,v),this.m=c.m}else c&&(p=String(c).match(yl))?(this.h=!1,di(this,p[1]||"",!0),this.o=mi(p[2]||""),this.g=mi(p[3]||"",!0),ia(this,p[4]),this.l=mi(p[5]||"",!0),Ya(this,p[6]||"",!0),this.m=mi(p[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}wr.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Cn(p,vl,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Cn(p,vl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cn(v,v.charAt(0)=="/"?_l:iu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cn(v,zh)),c.join("")};function ue(c){return new wr(c)}function di(c,p,v){c.j=v?mi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ia(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ya(c,p,v){p instanceof tr?(c.i=p,El(c.i,c.h)):(v||(p=Cn(p,Ph)),c.i=new tr(p,c.h))}function qt(c,p,v){c.i.set(p,v)}function aa(c){return qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cn(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Lh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vl=/[#\/\?@]/g,iu=/[#\?:]/g,_l=/[#\?]/g,Ph=/[#\?@]/g,zh=/#/g;function tr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ka(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}i=tr.prototype,i.add=function(c,p){Dn(this),this.i=null,c=xr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Xa(c,p){Dn(c),p=xr(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Cr(c,p){return Dn(c),p=xr(c,p),c.g.has(p)}i.forEach=function(c,p){Dn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(p,B,S,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const B=c[S];for(let G=0;G<B.length;G++)v.push(p[S])}return v},i.V=function(c){Dn(this);let p=[];if(typeof c=="string")Cr(this,c)&&(p=p.concat(this.g.get(xr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},i.set=function(c,p){return Dn(this),this.i=null,c=xr(this,c),Cr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Dr(c,p,v){Xa(c,p),0<v.length&&(c.i=null,c.g.set(xr(c,p),j(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const G=encodeURIComponent(String(S)),rt=this.V(S);for(S=0;S<rt.length;S++){var B=G;rt[S]!==""&&(B+="="+encodeURIComponent(String(rt[S]))),c.push(B)}}return this.i=c.join("&")};function xr(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function El(c,p){p&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Xa(this,S),Dr(this,B,v))},c)),c.j=p}function au(c,p){const v=new si;if(m.Image){const S=new Image;S.onload=D(xn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=D(xn,v,"TestLoadImage: error",!1,p,S),S.onabort=D(xn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=D(xn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function sa(c,p){const v=new si,S=new AbortController,B=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?xn(v,"TestPingServer: ok",!0,p):xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),xn(v,"TestPingServer: error",!1,p)})}function xn(c,p,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function la(){this.g=new nn}function er(c,p,v){const S=v||"";try{ra(c,function(B,G){let rt=B;y(B)&&(rt=cl(B)),p.push(S+G+"="+encodeURIComponent(rt))})}catch(B){throw p.push(S+"type="+encodeURIComponent("_badmap")),B}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(pi,hl),pi.prototype.g=function(){return new Vr(this.l,this.j)},pi.prototype.i=function(c){return function(){return c}}({});function Vr(c,p){be.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Vr,be),i=Vr.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,rr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?nr(this):rr(this),this.readyState==3&&Tl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,nr(this))},i.Qa=function(c){this.g&&(this.response=c,nr(this))},i.ga=function(){this.g&&nr(this)};function nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,rr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sl(c){let p="";return ct(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Le(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Sl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):qt(c,p,v))}function Qt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Qt,be);var Za=/^https?$/i,oa=["POST","PUT"];i=Qt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ea.g(),this.v=this.o?Zo(this.o):Zo(ea),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){su(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(oa,p,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of v)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ua(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){su(this,G)}};function su(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Wa(c),ir(c)}function Wa(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Me(this,"complete"),Me(this,"abort"),ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),Qt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},i.bb=function(){Ja(this)};function Ja(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Xo(c.Ea,0,c);else if(Me(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=rt===0){var B=String(c.D).match(yl)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!Za.test(B?B.toLowerCase():"")}v=S}if(v)Me(c,"complete"),Me(c,"success");else{c.m=6;try{var G=2<Vn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Wa(c)}}finally{ir(c)}}}}function ir(c,p){if(c.g){ua(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Me(c,"ready");try{v.onreadystatechange=S}catch{}}}function ua(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Xn(p)}};function lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kh(c){const p={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var v=U(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=p[B]||[];p[B]=G,G.push(v)}V(p,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ts(c){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ca("baseRetryDelayMs",5e3,c),this.cb=ca("retryDelaySeedMs",1e4,c),this.Wa=ca("forwardChannelMaxRetries",2,c),this.wa=ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new pl(c&&c.concurrentRequestLimit),this.Da=new la,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ts.prototype,i.la=8,i.G=1,i.connect=function(c,p,v,S){pe(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=mu(this,null,this.W),ns(this)};function Al(c){if(ou(c),c.G==3){var p=c.U++,v=ue(c.I);if(qt(v,"SID",c.K),qt(v,"RID",p),qt(v,"TYPE","terminate"),ha(c,v),p=new Jn(c,c.j,p),p.L=2,p.v=aa(ue(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=pu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),re(p)}du(c)}function es(c){c.g&&(fa(c),c.g.cancel(),c.g=null)}function ou(c){es(c),c.u&&(m.clearTimeout(c.u),c.u=null),rs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ns(c){if(!gl(c.h)&&!c.s){c.s=!0;var p=c.Ga;yt||O(),mt||(yt(),mt=!0),Ct.add(p,c),c.B=0}}function Bh(c,p){return nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ai(R(c.Ga,c,p),wl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Jn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=uu(this,B,p),v=ue(this.I),qt(v,"RID",c),qt(v,"CVER",22),this.D&&qt(v,"X-HTTP-Session-Id",this.D),ha(this,v),G&&(this.O?p="headers="+encodeURIComponent(String(Sl(G)))+"&"+p:this.m&&Le(v,this.m,G)),fi(this.h,B),this.Ua&&qt(v,"TYPE","init"),this.P?(qt(v,"$req",p),qt(v,"SID","null"),B.T=!0,Hn(B,v,null)):Hn(B,v,p),this.G=2}}else this.G==3&&(c?bl(this,c):this.i.length==0||gl(this.h)||bl(this))};function bl(c,p){var v;p?v=p.l:v=c.U++;const S=ue(c.I);qt(S,"SID",c.K),qt(S,"RID",v),qt(S,"AID",c.T),ha(c,S),c.m&&c.o&&Le(S,c.m,c.o),v=new Jn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fi(c.h,v),Hn(v,S,p)}function ha(c,p){c.H&&ct(c.H,function(v,S){qt(p,S,v)}),c.l&&ra({},function(v,S){qt(p,S,v)})}function uu(c,p,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;t:{var B=c.i;let G=-1;for(;;){const rt=["count="+v];G==-1?0<v?(G=B[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let Lt=!0;for(let we=0;we<v;we++){let Pt=B[we].g;const Pe=B[we].map;if(Pt-=G,0>Pt)G=Math.max(0,B[we].g-100),Lt=!1;else try{er(Pe,rt,"req"+Pt+"_")}catch{S&&S(Pe)}}if(Lt){S=rt.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function cu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;yt||O(),mt||(yt(),mt=!0),Ct.add(p,c),c.v=0}}function Rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ai(R(c.Fa,c),wl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ai(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),es(this),hu(this))};function fa(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ue(c.qa);qt(p,"RID","rpc"),qt(p,"SID",c.K),qt(p,"AID",c.T),qt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&qt(p,"TO",c.ja),qt(p,"TYPE","xmlhttp"),ha(c,p),c.m&&c.o&&Le(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=aa(ue(p)),v.m=null,v.P=!0,Rr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,es(this),Rl(this),pe(19))};function rs(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fu(c,p){var v=null;if(c.g==p){rs(c),fa(c),c.g=null;var S=2}else if(hi(c.h,p))v=p.D,wn(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var B=c.B;S=Ga(),Me(S,new Jo(S,v)),ns(c)}else cu(c);else if(B=p.s,B==3||B==0&&0<p.X||!(S==1&&Bh(c,p)||S==2&&Rl(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),B){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function wl(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Ir(c,p){if(c.j.info("Error code "+p),p==2){var v=R(c.fb,c),S=c.Xa;const B=!S;S=new wr(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||di(S,"https"),aa(S),B?au(S.toString(),v):sa(S.toString(),v)}else pe(2);c.G=0,c.l&&c.l.sa(p),du(c),ou(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function du(c){if(c.G=0,c.ka=[],c.l){const p=rn(c.h);(p.length!=0||c.i.length!=0)&&(P(c.ka,p),P(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function mu(c,p,v){var S=v instanceof wr?ue(v):new wr(v);if(S.g!="")p&&(S.g=p+"."+S.g),ia(S,S.s);else{var B=m.location;S=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var G=new wr(null);S&&di(G,S),p&&(G.g=p),B&&ia(G,B),v&&(G.l=v),S=G}return v=c.D,p=c.ya,v&&p&&qt(S,v,p),qt(S,"VER",c.la),ha(c,S),S}function pu(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Qt(new pi({eb:v})):new Qt(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}i=gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function is(){}is.prototype.g=function(c,p){return new an(c,p)};function an(c,p){be.call(this),this.g=new ts(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!J(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!J(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ar(this)}N(an,be),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Al(this.g)},an.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=cl(c),c=v);p.i.push(new Mh(p.Ya++,c)),p.G==3&&ns(p)},an.prototype.N=function(){this.g.l=null,delete this.j,Al(this.g),delete this.g,an.aa.N.call(this)};function yu(c){ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}N(yu,ni);function vu(){qn.call(this),this.status=1}N(vu,qn);function ar(c){this.g=c}N(ar,gu),ar.prototype.ua=function(){Me(this.g,"a")},ar.prototype.ta=function(c){Me(this.g,new yu(c))},ar.prototype.sa=function(c){Me(this.g,new vu)},ar.prototype.ra=function(){Me(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,rE=function(){return new is},nE=function(){return Ga()},eE=Rn,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Dc=Re,br.COMPLETE="complete",tE=br,Wo.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",be.prototype.listen=be.prototype.K,_o=Wo,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,J0=Qt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",u_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new Q0("@firebase/firestore");function Os(){return Pa.logLevel}function ut(i,...t){if(Pa.logLevel<=Bt.DEBUG){const r=t.map(Fm);Pa.debug(`Firestore (${nl}): ${i}`,...r)}}function Zr(i,...t){if(Pa.logLevel<=Bt.ERROR){const r=t.map(Fm);Pa.error(`Firestore (${nl}): ${i}`,...r)}}function Bs(i,...t){if(Pa.logLevel<=Bt.WARN){const r=t.map(Fm);Pa.warn(`Firestore (${nl}): ${i}`,...r)}}function Fm(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i="Unexpected state"){const t=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+i;throw Zr(t),new Error(t)}function Kt(i,t){i||Et()}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends el{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(tn.UNAUTHENTICATED))}shutdown(){}}class QR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class $R{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Kt(this.o===void 0);let a=this.i;const l=g=>this.i!==a?(a=this.i,r(g)):Promise.resolve();let u=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ji,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ji)}},0),f()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Kt(typeof a.accessToken=="string"),new iE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new tn(t)}}class KR{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class YR{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new KR(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XR{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,DR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){Kt(this.o===void 0);const a=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const l=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new c_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Kt(typeof r.token=="string"),this.R=r.token,new c_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=ZR(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<r&&(a+=t.charAt(l[u]%62))}return a}}function Ut(i,t){return i<t?-1:i>t?1:0}function js(i,t,r){return i.length===t.length&&i.every((a,l)=>r(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=-62135596800,f_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*f_);return new Ie(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<h_)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-h_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ie(0,0))}static max(){return new At(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class fr{constructor(t,r,a){r===void 0?r=0:r>t.length&&Et(),a===void 0?a=t.length-r:a>t.length-r&&Et(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return fr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof fr?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const u=fr.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Math.sign(t.length-r.length)}static compareSegments(t,r){const a=fr.isNumericId(t),l=fr.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?fr.extractNumericId(t).compare(fr.extractNumericId(r)):t<r?-1:t>r?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bi.fromString(t.substring(4,t.length-2))}}class de extends fr{construct(t,r,a){return new de(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new de(r)}static emptyPath(){return new de([])}}const WR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends fr{construct(t,r,a){return new Ke(t,r,a)}static isValidIdentifier(t){return WR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new Ke([d_])}static fromServerFormat(t){const r=[];let a="",l=0;const u=()=>{if(a.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(a+=m,l++):(u(),l++)}if(u(),f)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(r)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(de.fromString(t))}static fromName(t){return new vt(de.fromString(t).popFirst(5))}static empty(){return new vt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return de.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new de(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function JR(i,t){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new Ie(r+1,0):new Ie(r,a));return new Gi(l,vt.empty(),t)}function tw(i){return new Gi(i.readTime,i.key,Oo)}class Gi{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new Gi(At.min(),vt.empty(),Oo)}static max(){return new Gi(At.max(),vt.empty(),Oo)}}function ew(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,t.documentKey),r!==0?r:Ut(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==nw)throw i;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new W((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof W?r:W.resolve(r)}catch(r){return W.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):W.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):W.reject(r)}static resolve(t){return new W((r,a)=>{r(t)})}static reject(t){return new W((r,a)=>{a(t)})}static waitFor(t){return new W((r,a)=>{let l=0,u=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&r()},g=>a(g))}),f=!0,u===l&&r()})}static or(t){let r=W.resolve(!1);for(const a of t)r=r.next(l=>l?W.resolve(l):a());return r}static forEach(t,r){const a=[];return t.forEach((l,u)=>{a.push(r.call(this,l,u))}),this.waitFor(a)}static mapArray(t,r){return new W((a,l)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;r(t[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>l(E))}})}static doWhile(t,r){return new W((a,l)=>{const u=()=>{t()===!0?r().next(()=>{u()},l):a()};u()})}}function iw(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function il(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}uh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function ch(i){return i==null}function Gc(i){return i===0&&1/i==-1/0}function aw(i){return typeof i=="number"&&Number.isInteger(i)&&!Gc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="";function sw(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=m_(t)),t=lw(i.get(r),t);return m_(t)}function lw(i,t){let r=t;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case sE:r+="";break;default:r+=u}}return r}function m_(i){return i+sE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function Zi(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function lE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,r){this.comparator=t,this.root=r||$e.EMPTY}insert(t,r){return new le(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?a(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,r,a,l,u){this.key=t,this.value=r,this.color=a??$e.RED,this.left=l??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,u){return new $e(t??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,a),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,r,a,l,u){return this}insert(t,r,a){return new $e(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(t){return new g_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Oe(this.comparator);return r.data=t,r}}class g_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let r=new Oe(Ke.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new An(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return js(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oE("Invalid base64 string: "+u):u}}(t);return new Ye(r)}static fromUint8Array(t){const r=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(t);return new Ye(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const ow=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(i){if(Kt(!!i),typeof i=="string"){let t=0;const r=ow.exec(i);if(Kt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(i.seconds),nanos:ye(i.nanos)}}function ye(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qi(i){return typeof i=="string"?Ye.fromBase64String(i):Ye.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function $m(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[cE])===null||r===void 0?void 0:r.stringValue)===uE}function hh(i){const t=i.mapValue.fields[hE];return $m(t)?hh(t):t}function No(i){const t=Fi(i.mapValue.fields[fE].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t,r,a,l,u,f,m,g,y){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const Fc="(default)";class Mo{constructor(t,r){this.projectId=t,this.database=r||Fc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__type__",cw="__max__",_c={mapValue:{}},mE="__vector__",Qc="value";function $i(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$m(i)?4:fw(i)?9007199254740991:hw(i)?10:11:Et()}function vr(i,t){if(i===t)return!0;const r=$i(i);if(r!==$i(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return No(i).isEqual(No(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Fi(l.timestampValue),m=Fi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,u){return Qi(l.bytesValue).isEqual(Qi(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(i,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ye(l.doubleValue),m=ye(u.doubleValue);return f===m?Gc(f)===Gc(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return js(i.arrayValue.values||[],t.arrayValue.values||[],vr);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(p_(f)!==p_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!vr(f[g],m[g])))return!1;return!0}(i,t);default:return Et()}}function Uo(i,t){return(i.values||[]).find(r=>vr(r,t))!==void 0}function qs(i,t){if(i===t)return 0;const r=$i(i),a=$i(t);if(r!==a)return Ut(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ut(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ye(u.integerValue||u.doubleValue),g=ye(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,t);case 3:return y_(i.timestampValue,t.timestampValue);case 4:return y_(No(i),No(t));case 5:return Ut(i.stringValue,t.stringValue);case 6:return function(u,f){const m=Qi(u),g=Qi(f);return m.compareTo(g)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ut(m[y],g[y]);if(E!==0)return E}return Ut(m.length,g.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Ut(ye(u.latitude),ye(f.latitude));return m!==0?m:Ut(ye(u.longitude),ye(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return v_(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,E;const A=u.fields||{},R=f.fields||{},D=(m=A[Qc])===null||m===void 0?void 0:m.arrayValue,N=(g=R[Qc])===null||g===void 0?void 0:g.arrayValue,j=Ut(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:v_(D,N)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===_c.mapValue&&f===_c.mapValue)return 0;if(u===_c.mapValue)return 1;if(f===_c.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let A=0;A<g.length&&A<E.length;++A){const R=Ut(g[A],E[A]);if(R!==0)return R;const D=qs(m[g[A]],y[E[A]]);if(D!==0)return D}return Ut(g.length,E.length)}(i.mapValue,t.mapValue);default:throw Et()}}function y_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Ut(i,t);const r=Fi(i),a=Fi(t),l=Ut(r.seconds,a.seconds);return l!==0?l:Ut(r.nanos,a.nanos)}function v_(i,t){const r=i.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const u=qs(r[l],a[l]);if(u)return u}return Ut(r.length,a.length)}function Hs(i){return um(i)}function um(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const a=Fi(r);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Qi(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return vt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let a="[",l=!0;for(const u of r.values||[])l?l=!1:a+=",",a+=um(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${um(r.fields[f])}`;return l+"}"}(i.mapValue):Et()}function xc(i){switch($i(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(i);return t?16+xc(t):16;case 5:return 2*i.stringValue.length;case 6:return Qi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,u)=>l+xc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let l=0;return Zi(a.fields,(u,f)=>{l+=u.length+xc(f)}),l}(i.mapValue);default:throw Et()}}function cm(i){return!!i&&"integerValue"in i}function Km(i){return!!i&&"arrayValue"in i}function __(i){return!!i&&"nullValue"in i}function E_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Vc(i){return!!i&&"mapValue"in i}function hw(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[dE])===null||r===void 0?void 0:r.stringValue)===mE}function bo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Zi(i.mapValue.fields,(r,a)=>t.mapValue.fields[r]=bo(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=bo(i.arrayValue.values[r]);return t}return Object.assign({},i)}function fw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!Vc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=bo(r)}setAll(t){let r=Ke.emptyPath(),a={},l=[];t.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const g=this.getFieldsMap(r);this.applyChanges(g,a,l),a={},l=[],r=m.popLast()}f?a[m.lastSegment()]=bo(f):l.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,a,l)}delete(t){const r=this.field(t.popLast());Vc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return vr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){Zi(r,(l,u)=>t[l]=u);for(const l of a)delete t[l]}clone(){return new fn(bo(this.value))}}function pE(i){const t=[];return Zi(i.fields,(r,a)=>{const l=new Ke([r]);if(Vc(a)){const u=pE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)}),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,r,a,l,u,f,m){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new en(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,r,a,l){return new en(t,1,r,At.min(),a,l,0)}static newNoDocument(t,r){return new en(t,2,r,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,r){return new en(t,3,r,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,r){this.position=t,this.inclusive=r}}function T_(i,t,r){let a=0;for(let l=0;l<i.position.length;l++){const u=t[l],f=i.position[l];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(f.referenceValue),r.key):a=qs(f,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function S_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!vr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,r="asc"){this.field=t,this.dir=r}}function dw(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class Ve extends gE{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new pw(t,r,a):r==="array-contains"?new vw(t,a):r==="in"?new _w(t,a):r==="not-in"?new Ew(t,a):r==="array-contains-any"?new Tw(t,a):new Ve(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new gw(t,a):new yw(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(qs(r,this.value)):r!==null&&$i(this.value)===$i(r)&&this.matchesComparison(qs(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends gE{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new _r(t,r)}matches(t){return yE(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function yE(i){return i.op==="and"}function vE(i){return mw(i)&&yE(i)}function mw(i){for(const t of i.filters)if(t instanceof _r)return!1;return!0}function hm(i){if(i instanceof Ve)return i.field.canonicalString()+i.op.toString()+Hs(i.value);if(vE(i))return i.filters.map(t=>hm(t)).join(",");{const t=i.filters.map(r=>hm(r)).join(",");return`${i.op}(${t})`}}function _E(i,t){return i instanceof Ve?function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&vr(a.value,l.value)}(i,t):i instanceof _r?function(a,l){return l instanceof _r&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((u,f,m)=>u&&_E(f,l.filters[m]),!0):!1}(i,t):void Et()}function EE(i){return i instanceof Ve?function(r){return`${r.field.canonicalString()} ${r.op} ${Hs(r.value)}`}(i):i instanceof _r?function(r){return r.op.toString()+" {"+r.getFilters().map(EE).join(" ,")+"}"}(i):"Filter"}class pw extends Ve{constructor(t,r,a){super(t,r,a),this.key=vt.fromName(a.referenceValue)}matches(t){const r=vt.comparator(t.key,this.key);return this.matchesComparison(r)}}class gw extends Ve{constructor(t,r){super(t,"in",r),this.keys=TE("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class yw extends Ve{constructor(t,r){super(t,"not-in",r),this.keys=TE("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function TE(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>vt.fromName(a.referenceValue))}class vw extends Ve{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Km(r)&&Uo(r.arrayValue,this.value)}}class _w extends Ve{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Uo(this.value.arrayValue,r)}}class Ew extends Ve{constructor(t,r){super(t,"not-in",r)}matches(t){if(Uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Uo(this.value.arrayValue,r)}}class Tw extends Ve{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Km(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>Uo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,r=null,a=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function A_(i,t=null,r=[],a=[],l=null,u=null,f=null){return new Sw(i,t,r,a,l,u,f)}function Ym(i){const t=Rt(i);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>hm(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),ch(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Hs(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Hs(a)).join(",")),t.le=r}return t.le}function Xm(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!dw(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!_E(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!S_(i.startAt,t.startAt)&&S_(i.endAt,t.endAt)}function fm(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,r=null,a=[],l=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Aw(i,t,r,a,l,u,f,m){return new fh(i,t,r,a,l,u,f,m)}function dh(i){return new fh(i)}function b_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bw(i){return i.collectionGroup!==null}function Ro(i){const t=Rt(i);if(t.he===null){t.he=[];const r=new Set;for(const u of t.explicitOrderBy)t.he.push(u),r.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Oe(Ke.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||t.he.push(new Kc(u,a))}),r.has(Ke.keyField().canonicalString())||t.he.push(new Kc(Ke.keyField(),a))}return t.he}function mr(i){const t=Rt(i);return t.Pe||(t.Pe=Rw(t,Ro(i))),t.Pe}function Rw(i,t){if(i.limitType==="F")return A_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new Kc(l.field,u)});const r=i.endAt?new $c(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new $c(i.startAt.position,i.startAt.inclusive):null;return A_(i.path,i.collectionGroup,t,i.filters,i.limit,r,a)}}function dm(i,t,r){return new fh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function mh(i,t){return Xm(mr(i),mr(t))&&i.limitType===t.limitType}function SE(i){return`${Ym(mr(i))}|lt:${i.limitType}`}function Ns(i){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(l=>EE(l)).join(", ")}]`),ch(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(l=>Hs(l)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(l=>Hs(l)).join(",")),`Target(${a})`}(mr(i))}; limitType=${i.limitType})`}function ph(i,t){return t.isFoundDocument()&&function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,l){for(const u of Ro(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0}(i,t)&&function(a,l){return!(a.startAt&&!function(f,m,g){const y=T_(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,Ro(a),l)||a.endAt&&!function(f,m,g){const y=T_(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,Ro(a),l))}(i,t)}function ww(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function AE(i){return(t,r)=>{let a=!1;for(const l of Ro(i)){const u=Cw(l,t,r);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function Cw(i,t,r){const a=i.field.isKeyField()?vt.comparator(t.key,r.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?qs(g,y):Et()}(i.field,t,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Zi(this.inner,(r,a)=>{for(const[l,u]of a)t(l,u)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new le(vt.comparator);function Wr(){return Dw}const bE=new le(vt.comparator);function Eo(...i){let t=bE;for(const r of i)t=t.insert(r.key,r);return t}function RE(i){let t=bE;return i.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function Oa(){return wo()}function wE(){return wo()}function wo(){return new ka(i=>i.toString(),(i,t)=>i.isEqual(t))}const xw=new le(vt.comparator),Vw=new Oe(vt.comparator);function Nt(...i){let t=Vw;for(const r of i)t=t.add(r);return t}const Iw=new Oe(Ut);function Ow(){return Iw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function CE(i){return{integerValue:""+i}}function Nw(i,t){return aw(t)?CE(t):Zm(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function Mw(i,t,r){return i instanceof Yc?function(l,u){const f={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&$m(u)&&(u=hh(u)),u&&(f.fields[hE]=u),{mapValue:f}}(r,t):i instanceof Lo?xE(i,t):i instanceof Po?VE(i,t):function(l,u){const f=DE(l,u),m=R_(f)+R_(l.Ie);return cm(f)&&cm(l.Ie)?CE(m):Zm(l.serializer,m)}(i,t)}function Uw(i,t,r){return i instanceof Lo?xE(i,t):i instanceof Po?VE(i,t):r}function DE(i,t){return i instanceof Xc?function(a){return cm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Yc extends gh{}class Lo extends gh{constructor(t){super(),this.elements=t}}function xE(i,t){const r=IE(t);for(const a of i.elements)r.some(l=>vr(l,a))||r.push(a);return{arrayValue:{values:r}}}class Po extends gh{constructor(t){super(),this.elements=t}}function VE(i,t){let r=IE(t);for(const a of i.elements)r=r.filter(l=>!vr(l,a));return{arrayValue:{values:r}}}class Xc extends gh{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function R_(i){return ye(i.integerValue||i.doubleValue)}function IE(i){return Km(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Lw(i,t){return i.field.isEqual(t.field)&&function(a,l){return a instanceof Lo&&l instanceof Lo||a instanceof Po&&l instanceof Po?js(a.elements,l.elements,vr):a instanceof Xc&&l instanceof Xc?vr(a.Ie,l.Ie):a instanceof Yc&&l instanceof Yc}(i.transform,t.transform)}class Pw{constructor(t,r){this.version=t,this.transformResults=r}}class pr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class yh{}function OE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ME(i.key,pr.none()):new Go(i.key,i.data,pr.none());{const r=i.data,a=fn.empty();let l=new Oe(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?a.delete(u):a.set(u,f),l=l.add(u)}return new Wi(i.key,a,new An(l.toArray()),pr.none())}}function zw(i,t,r){i instanceof Go?function(l,u,f){const m=l.value.clone(),g=C_(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,r):i instanceof Wi?function(l,u,f){if(!Ic(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=C_(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(NE(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,t,r):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,r)}function Co(i,t,r,a){return i instanceof Go?function(u,f,m,g){if(!Ic(u.precondition,f))return m;const y=u.value.clone(),E=D_(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,t,r,a):i instanceof Wi?function(u,f,m,g){if(!Ic(u.precondition,f))return m;const y=D_(u.fieldTransforms,g,f),E=f.data;return E.setAll(NE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,t,r,a):function(u,f,m){return Ic(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,r)}function kw(i,t){let r=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),u=DE(a.transform,l||null);u!=null&&(r===null&&(r=fn.empty()),r.set(a.field,u))}return r||null}function w_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&js(a,l,(u,f)=>Lw(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Go extends yh{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Wi extends yh{constructor(t,r,a,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NE(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);t.set(r,a)}}),t}function C_(i,t,r){const a=new Map;Kt(i.length===r.length);for(let l=0;l<r.length;l++){const u=i[l],f=u.transform,m=t.data.field(u.field);a.set(u.field,Uw(f,m,r[l]))}return a}function D_(i,t,r){const a=new Map;for(const l of i){const u=l.transform,f=r.data.field(l.field);a.set(l.field,Mw(u,f,t))}return a}class ME extends yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw extends yh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&zw(u,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Co(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=wE();return this.mutations.forEach(l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=r.has(l.key)?null:m;const g=OE(f,m);g!==null&&a.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Nt())}isEqual(t){return this.batchId===t.batchId&&js(this.mutations,t.mutations,(r,a)=>w_(r,a))&&js(this.baseMutations,t.baseMutations,(r,a)=>w_(r,a))}}class Wm{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){Kt(t.mutations.length===a.length);let l=function(){return xw}();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,a[f].version);return new Wm(t,r,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,kt;function Gw(i){switch(i){case nt.OK:return Et();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et()}}function UE(i){if(i===void 0)return Zr("GRPC error has no .code"),nt.UNKNOWN;switch(i){case Se.OK:return nt.OK;case Se.CANCELLED:return nt.CANCELLED;case Se.UNKNOWN:return nt.UNKNOWN;case Se.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Se.INTERNAL:return nt.INTERNAL;case Se.UNAVAILABLE:return nt.UNAVAILABLE;case Se.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Se.NOT_FOUND:return nt.NOT_FOUND;case Se.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Se.ABORTED:return nt.ABORTED;case Se.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Se.DATA_LOSS:return nt.DATA_LOSS;default:return Et()}}(kt=Se||(Se={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Bi([4294967295,4294967295],0);function x_(i){const t=Fw().encode(i),r=new W0;return r.update(t),new Uint8Array(r.digest())}function V_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Bi([r,a],0),new Bi([l,u],0)]}class Jm{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new To(`Invalid padding: ${r}`);if(a<0)throw new To(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new To(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=Bi.fromNumber(this.Ee)}Ae(t,r,a){let l=t.add(r.multiply(Bi.fromNumber(a)));return l.compare(Qw)===1&&(l=new Bi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=x_(t),[a,l]=V_(r);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,l,u);if(!this.Re(f))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Jm(u,l,r);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const r=x_(t),[a,l]=V_(r);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,l,u);this.Ve(f)}}Ve(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class To extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,r,a,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,Fo.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new vh(At.min(),l,new le(Ut),Wr(),Nt())}}class Fo{constructor(t,r,a,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Fo(a,r,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,r,a,l){this.me=t,this.removedTargetIds=r,this.key=a,this.fe=l}}class LE{constructor(t,r){this.targetId=t,this.ge=r}}class PE{constructor(t,r,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class I_{constructor(){this.pe=0,this.ye=O_(),this.we=Ye.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Nt(),r=Nt(),a=Nt();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Et()}}),new Fo(this.we,this.be,t,r,a)}Me(){this.Se=!1,this.ye=O_()}xe(t,r){this.Se=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Kt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class $w{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Wr(),this.$e=Ec(),this.Ke=Ec(),this.Ue=new le(Ut)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const a=this.He(r);switch(t.state){case 0:this.Je(r)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((a,l)=>{this.Je(l)&&r(l)})}Ze(t){const r=t.targetId,a=t.ge.count,l=this.Xe(r);if(l){const u=l.target;if(fm(u))if(a===0){const f=new vt(u.path);this.ze(r,f,en.newNoDocument(f,At.min()))}else Kt(a===1);else{const f=this.et(r);if(f!==a){const m=this.tt(t),g=m?this.nt(m,t,f):1;if(g!==0){this.Ye(r);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,y)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=r;let f,m;try{f=Qi(a).toUint8Array()}catch(g){if(g instanceof oE)return Bs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Jm(f,l,u)}catch(g){return Bs(g instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,r,a){return r.ge.count===a-this.st(t,r.targetId)?0:2}st(t,r){const a=this.ke.getRemoteKeysForTarget(r);let l=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(r,u,null),l++)}),l}ot(t){const r=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&fm(m.target)){const g=new vt(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,en.newNoDocument(g,t))}u.ve&&(r.set(f,u.Fe()),u.Me())}});let a=Nt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const l=new vh(t,r,this.Ue,this.Qe,a);return this.Qe=Wr(),this.$e=Ec(),this.Ke=Ec(),this.Ue=new le(Ut),l}Ge(t,r){if(!this.Je(t))return;const a=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ke=this.Ke.insert(r.key,this.ct(r.key).add(t))}ze(t,r,a){if(!this.Je(t))return;const l=this.He(t);this.ut(t,r)?l.xe(r,1):l.Oe(r),this.Ke=this.Ke.insert(r,this.ct(r).delete(t)),this.Ke=this.Ke.insert(r,this.ct(r).add(t)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new I_,this.qe.set(t,r)),r}ct(t){let r=this.Ke.get(t);return r||(r=new Oe(Ut),this.Ke=this.Ke.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new Oe(Ut),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new I_),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function Ec(){return new le(vt.comparator)}function O_(){return new le(vt.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class Zw{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function mm(i,t){return i.useProto3Json||ch(t)?t:{value:t}}function Zc(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Ww(i,t){return Zc(i,t.toTimestamp())}function gr(i){return Kt(!!i),At.fromTimestamp(function(r){const a=Fi(r);return new Ie(a.seconds,a.nanos)}(i))}function tp(i,t){return pm(i,t).canonicalString()}function pm(i,t){const r=function(l){return new de(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?r:r.child(t)}function kE(i){const t=de.fromString(i);return Kt(GE(t)),t}function gm(i,t){return tp(i.databaseId,t.path)}function Hd(i,t){const r=kE(t);if(r.get(1)!==i.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(jE(r))}function BE(i,t){return tp(i.databaseId,t)}function Jw(i){const t=kE(i);return t.length===4?de.emptyPath():jE(t)}function ym(i){return new de(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jE(i){return Kt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function N_(i,t,r){return{name:gm(i,t),fields:r.value.mapValue.fields}}function tC(i,t){let r;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Kt(E===void 0||typeof E=="string"),Ye.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ye.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?nt.UNKNOWN:UE(y.code);return new gt(E,y.message||"")}(f);r=new PE(a,l,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(i,a.document.name),u=gr(a.document.updateTime),f=a.document.createTime?gr(a.document.createTime):At.min(),m=new fn({mapValue:{fields:a.document.fields}}),g=en.newFoundDocument(l,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];r=new Oc(y,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(i,a.document),u=a.readTime?gr(a.readTime):At.min(),f=en.newNoDocument(l,u),m=a.removedTargetIds||[];r=new Oc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(i,a.document),u=a.removedTargetIds||[];r=new Oc([],u,l,null)}else{if(!("filter"in t))return Et();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,f=new Hw(l,u),m=a.targetId;r=new LE(m,f)}}return r}function eC(i,t){let r;if(t instanceof Go)r={update:N_(i,t.key,t.value)};else if(t instanceof ME)r={delete:gm(i,t.key)};else if(t instanceof Wi)r={update:N_(i,t.key,t.data),updateMask:cC(t.fieldMask)};else{if(!(t instanceof Bw))return Et();r={verify:gm(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Lo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Po)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,a))),t.precondition.isNone||(r.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:Ww(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(i,t.precondition)),r}function nC(i,t){return i&&i.length>0?(Kt(t!==void 0),i.map(r=>function(l,u){let f=l.updateTime?gr(l.updateTime):gr(u);return f.isEqual(At.min())&&(f=gr(u)),new Pw(f,l.transformResults||[])}(r,t))):[]}function rC(i,t){return{documents:[BE(i,t.path)]}}function iC(i,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=BE(i,l);const u=function(y){if(y.length!==0)return HE(_r.create(y,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Ms(R.field),direction:lC(R.dir)}}(E))}(t.orderBy);f&&(r.structuredQuery.orderBy=f);const m=mm(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:r,parent:l}}function aC(i){let t=Jw(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Kt(a===1);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=function(A){const R=qE(A);return R instanceof _r&&vE(R)?R.getFilters():[R]}(r.where));let f=[];r.orderBy&&(f=function(A){return A.map(R=>function(N){return new Kc(Us(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(R))}(r.orderBy));let m=null;r.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,ch(R)?null:R}(r.limit));let g=null;r.startAt&&(g=function(A){const R=!!A.before,D=A.values||[];return new $c(D,R)}(r.startAt));let y=null;return r.endAt&&(y=function(A){const R=!A.before,D=A.values||[];return new $c(D,R)}(r.endAt)),Aw(t,l,f,u,m,"F",g,y)}function sC(i,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function qE(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=Us(r.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Us(r.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Us(r.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Us(r.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(i):i.fieldFilter!==void 0?function(r){return Ve.create(Us(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return _r.create(r.compositeFilter.filters.map(a=>qE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et()}}(r.compositeFilter.op))}(i):Et()}function lC(i){return Kw[i]}function oC(i){return Yw[i]}function uC(i){return Xw[i]}function Ms(i){return{fieldPath:i.canonicalString()}}function Us(i){return Ke.fromServerFormat(i.fieldPath)}function HE(i){return i instanceof Ve?function(r){if(r.op==="=="){if(E_(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NAN"}};if(__(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(E_(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NOT_NAN"}};if(__(r.value))return{unaryFilter:{field:Ms(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(r.field),op:oC(r.op),value:r.value}}}(i):i instanceof _r?function(r){const a=r.getFilters().map(l=>HE(l));return a.length===1?a[0]:{compositeFilter:{op:uC(r.op),filters:a}}}(i):Et()}function cC(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function GE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,r,a,l,u=At.min(),f=At.min(),m=Ye.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Pi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t){this.Tt=t}}function fC(i){const t=aC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Tn=new mC}addToCollectionParentIndex(t,r){return this.Tn.add(r),W.resolve()}getCollectionParents(t,r){return W.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return W.resolve()}deleteFieldIndex(t,r){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,r){return W.resolve()}getDocumentsMatchingTarget(t,r){return W.resolve(null)}getIndexType(t,r){return W.resolve(0)}getFieldIndexes(t,r){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,r){return W.resolve(Gi.min())}getMinOffsetFromCollectionGroup(t,r){return W.resolve(Gi.min())}updateCollectionGroup(t,r,a){return W.resolve()}updateIndexEntries(t,r){return W.resolve()}}class mC{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new Oe(de.comparator),u=!l.has(a);return this.index[r]=l.add(a),u}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Oe(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(FE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Gs(0)}static Un(){return new Gs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="LruGarbageCollector",pC=1048576;function L_([i,t],[r,a]){const l=Ut(i,r);return l===0?Ut(t,a):l}class gC{constructor(t){this.Hn=t,this.buffer=new Oe(L_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();L_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class yC{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(U_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){il(r)?ut(U_,"Ignoring IndexedDB error during garbage collection: ",r):await rl(r)}await this.er(3e5)})}}class vC{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return W.resolve(uh.ae);const a=new gC(r);return this.tr.forEachTarget(t,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.tr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(M_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let a,l,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(a=A,m=Date.now(),this.removeTargets(t,a,r))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(t,a))).next(A=>(y=Date.now(),Os()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A})))}}function _C(i,t){return new vC(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changes=new ka(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?W.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(a!==null&&Co(a.mutation,l,An.empty(),Ie.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,Nt()).next(()=>a))}getLocalViewOfDocuments(t,r,a=Nt()){const l=Oa();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,a).next(u=>{let f=Eo();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,r){const a=Oa();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,Nt()))}populateOverlays(t,r,a){const l=[];return a.forEach(u=>{r.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((f,m)=>{r.set(f,m)})})}computeViews(t,r,a,l){let u=Wr();const f=wo(),m=function(){return wo()}();return r.forEach((g,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Wi)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Co(E.mutation,y,E.mutation.getFieldMask(),Ie.now())):f.set(y.key,An.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var A;return m.set(y,new TC(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,r){const a=wo();let l=new le((f,m)=>f-m),u=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=r.get(g);if(y===null)return;let E=a.get(g)||An.empty();E=m.applyToLocalView(y,E),a.set(g,E);const A=(l.get(m.batchId)||Nt()).add(g);l=l.insert(m.batchId,A)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,A=wE();E.forEach(R=>{if(!u.has(R)){const D=OE(r.get(R),a.get(R));D!==null&&A.set(R,D),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return W.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,l){return function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):bw(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-u.size):W.resolve(Oa());let m=Oo,g=u;return f.next(y=>W.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{g=g.insert(E,R)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Nt())).next(E=>({batchId:m,changes:RE(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new vt(r)).next(a=>{let l=Eo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const u=r.collectionGroup;let f=Eo();return this.indexManager.getCollectionParents(t,u).next(m=>W.forEach(m,g=>{const y=function(A,R){return new fh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(r,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next(E=>{E.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,r,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,u,l))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))});let m=Eo();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Co(E.mutation,y,An.empty(),Ie.now()),ph(r,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return W.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:gr(l.createTime)}}(r)),W.resolve()}getNamedQuery(t,r){return W.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(l){return{name:l.name,query:fC(l.bundledQuery),readTime:gr(l.readTime)}}(r)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.overlays=new le(vt.comparator),this.Rr=new Map}getOverlay(t,r){return W.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Oa();return W.forEach(r,l=>this.getOverlay(t,l).next(u=>{u!==null&&a.set(l,u)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((l,u)=>{this.Et(t,r,u)}),W.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),W.resolve()}getOverlaysForCollection(t,r,a){const l=Oa(),u=r.length+1,f=new vt(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&l.set(g.getKey(),g)}return W.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let u=new le((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Oa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Oa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return W.resolve(m)}Et(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new qw(r,a));let u=this.Rr.get(r);u===void 0&&(u=Nt(),this.Rr.set(r,u)),this.Rr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.Vr=new Oe(je.mr),this.gr=new Oe(je.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const a=new je(t,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.wr(new je(t,r))}br(t,r){t.forEach(a=>this.removeReference(a,r))}Sr(t){const r=new vt(new de([])),a=new je(r,t),l=new je(r,t+1),u=[];return this.gr.forEachInRange([a,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new vt(new de([])),a=new je(r,t),l=new je(r,t+1);let u=Nt();return this.gr.forEachInRange([a,l],f=>{u=u.add(f.key)}),u}containsKey(t){const r=new je(t,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return vt.comparator(t.key,r.key)||Ut(t.Cr,r.Cr)}static pr(t,r){return Ut(t.Cr,r.Cr)||vt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Oe(je.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jw(u,r,a,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,r){return W.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.Nr(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Qm:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new je(r,0),l=new je(r,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,l],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new Oe(Ut);return r.forEach(l=>{const u=new je(l,0),f=new je(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),W.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const f=new je(new vt(u),0);let m=new Oe(Ut);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},f),W.resolve(this.Br(m))}Br(t){const r=[];return t.forEach(a=>{const l=this.Or(a);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){Kt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return W.forEach(r.mutations,l=>{const u=new je(l.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,r){const a=new je(r,0),l=this.Mr.firstAfterOrEqual(a);return W.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.kr=t,this.docs=function(){return new le(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),u=l?l.size:0,f=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return W.resolve(a?a.document.mutableCopy():en.newInvalidDocument(r))}getEntries(t,r){let a=Wr();return r.forEach(l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))}),W.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let u=Wr();const f=r.path,m=new vt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ew(tw(E),a)<=0||(l.has(E.key)||ph(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,r,a,l){Et()}qr(t,r){return W.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new DC(this)}getSize(t){return W.resolve(this.size)}}class DC extends EC{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?r.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(a)}),W.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.persistence=t,this.Qr=new ka(r=>Ym(r),Xm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ep,this.targetCount=0,this.Ur=Gs.Kn()}forEachTarget(t,r){return this.Qr.forEach((a,l)=>r(l)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),W.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Ur=new Gs(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,W.resolve()}updateTargetData(t,r){return this.zn(r),W.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Kr.Sr(r.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,r,a){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=r&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),W.waitFor(u).next(()=>l)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,r){const a=this.Qr.get(r)||null;return W.resolve(a)}addMatchingKeys(t,r,a){return this.Kr.yr(r,a),W.resolve()}removeMatchingKeys(t,r,a){this.Kr.br(r,a);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach(f=>{u.push(l.markPotentiallyOrphaned(t,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.Kr.Sr(r),W.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Kr.vr(r);return W.resolve(a)}containsKey(t,r){return W.resolve(this.Kr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new uh(0),this.zr=!1,this.zr=!0,this.jr=new RC,this.referenceDelegate=t(this),this.Hr=new xC(this),this.indexManager=new dC,this.remoteDocumentCache=function(l){return new CC(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new hC(r),this.Yr=new AC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new bC,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Wr[t.toKey()];return a||(a=new wC(r,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,a){ut("MemoryPersistence","Starting transaction:",t);const l=new VC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,r){return W.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,r)))}}class VC extends rw{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.ti=new ep,this.ni=null}static ri(t){return new np(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),W.resolve()}removeReference(t,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),W.resolve()}removeTarget(t,r){this.ti.Sr(r.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,a=>{const l=vt.fromPath(a);return this.si(t,l).next(u=>{u||r.removeEntry(l,At.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return W.or([()=>W.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class Wc{constructor(t,r){this.persistence=t,this.oi=new ka(a=>sw(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=_C(this,r)}static ri(t,r){return new Wc(t,r)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(l=>a+l))}sr(t){let r=0;return this.rr(t,a=>{r++}).next(()=>r)}rr(t,r){return W.forEach(this.oi,(a,l)=>this.ar(t,a,l).next(u=>u?W.resolve():r(l)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,r).next(m=>{m||(a++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=xc(t.data.value)),r}ar(t,r,a){return W.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.oi.get(r);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.Hi=a,this.Ji=l}static Yi(t,r){let a=Nt(),l=Nt();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new rp(t,r.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Rb()?8:iw(Ab())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,a,l){const u={result:null};return this.rs(t,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,r,l,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new IC;return this._s(t,r,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,r,f,m.size)})}).next(()=>u.result)}us(t,r,a,l){return a.documentReadCount<this.es?(Os()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ns(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Os()<=Bt.DEBUG&&ut("QueryEngine","Query:",Ns(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(Os()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ns(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mr(r))):W.resolve())}rs(t,r){if(b_(r))return W.resolve(null);let a=mr(r);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=dm(r,null,"F"),a=mr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Nt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(g=>{const y=this.cs(r,m);return this.ls(r,y,f,g.readTime)?this.rs(t,dm(r,null,"F")):this.hs(t,y,r,g)}))})))}ss(t,r,a,l){return b_(r)||l.isEqual(At.min())?W.resolve(null):this.ns.getDocuments(t,a).next(u=>{const f=this.cs(r,u);return this.ls(r,f,a,l)?W.resolve(null):(Os()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ns(r)),this.hs(t,f,r,JR(l,Oo)).next(m=>m))})}cs(t,r){let a=new Oe(AE(t));return r.forEach((l,u)=>{ph(t,u)&&(a=a.add(u))}),a}ls(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,r,a){return Os()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ns(r)),this.ns.getDocumentsMatchingQuery(t,r,Gi.min(),a)}hs(t,r,a,l){return this.ns.getDocumentsMatchingQuery(t,a,l).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LocalStore",NC=3e8;class MC{constructor(t,r,a,l){this.persistence=t,this.Ps=r,this.serializer=l,this.Ts=new le(Ut),this.Is=new ka(u=>Ym(u),Xm),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function UC(i,t,r,a){return new MC(i,t,r,a)}async function $E(i,t){const r=Rt(i);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next(u=>(l=u,r.As(t),r.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=Nt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return r.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function LC(i,t){const r=Rt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),u=r.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const A=y.batch,R=A.keys();let D=W.resolve();return R.forEach(N=>{D=D.next(()=>E.getEntry(g,N)).next(j=>{const P=y.docVersions.get(N);Kt(P!==null),j.version.compareTo(P)<0&&(A.applyToRemoteDocument(j,y),j.isValidDocument()&&(j.setReadTime(y.commitVersion),E.addEntry(j)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(r,a,t,u).next(()=>u.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Nt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>r.localDocuments.getDocuments(a,l))})}function KE(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function PC(i,t){const r=Rt(i),a=t.snapshotVersion;let l=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.ds.newChangeBuffer({trackRemovals:!0});l=r.Ts;const m=[];t.targetChanges.forEach((E,A)=>{const R=l.get(A);if(!R)return;m.push(r.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>r.Hr.addMatchingKeys(u,E.addedDocuments,A)));let D=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?D=D.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),l=l.insert(A,D),function(j,P,F){return j.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=NC?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(R,D,E)&&m.push(r.Hr.updateTargetData(u,D))});let g=Wr(),y=Nt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(zC(u,f,t.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!a.isEqual(At.min())){const E=r.Hr.getLastRemoteSnapshotVersion(u).next(A=>r.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(r.Ts=l,u))}function zC(i,t,r){let a=Nt(),l=Nt();return r.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let f=Wr();return r.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(At.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ut(ip,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:l}})}function kC(i,t){const r=Rt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Qm),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function BC(i,t){const r=Rt(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.Hr.getTargetData(a,t).next(u=>u?(l=u,W.resolve(l)):r.Hr.allocateTargetId(a).next(f=>(l=new Pi(t,f,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(t,a.targetId)),a})}async function vm(i,t,r){const a=Rt(i),l=a.Ts.get(t),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!il(f))throw f;ut(ip,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ts=a.Ts.remove(t),a.Is.delete(l.target)}function P_(i,t,r){const a=Rt(i);let l=At.min(),u=Nt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const A=Rt(g),R=A.Is.get(E);return R!==void 0?W.resolve(A.Ts.get(R)):A.Hr.getTargetData(y,E)}(a,f,mr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,t,r?l:At.min(),r?u:Nt())).next(m=>(jC(a,ww(t),m),{documents:m,gs:u})))}function jC(i,t,r){let a=i.Es.get(t)||At.min();r.forEach((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(t,a)}class z_{constructor(){this.activeTargetIds=Ow()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qC{constructor(){this.ho=new z_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,a){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new z_,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class B_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(k_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(k_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function _m(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",GC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(t,r,a,l,u){const f=_m(),m=this.So(t,r.toUriEncodedString());ut(Gd,`Sending RPC '${t}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,u),this.vo(t,m,g,a).then(y=>(ut(Gd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Bs(Gd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(t,r,a,l,u,f){return this.bo(t,r,a,l,u)}Do(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>t[u]=l),a&&a.headers.forEach((l,u)=>t[u]=l)}So(t,r){const a=GC[t];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class $C extends FC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,a,l){const u=_m();return new Promise((f,m)=>{const g=new J0;g.setWithCredentials(!0),g.listenOnce(tE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Dc.NO_ERROR:const E=g.getResponseJson();ut(Je,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Dc.TIMEOUT:ut(Je,`RPC '${t}' ${u} timed out`),m(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const A=g.getStatus();if(ut(Je,`RPC '${t}' ${u} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R==null?void 0:R.error;if(D&&D.status&&D.message){const N=function(P){const F=P.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(F)>=0?F:nt.UNKNOWN}(D.status);m(new gt(N,D.message))}else m(new gt(nt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(Je,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);ut(Je,`RPC '${t}' ${u} sending request:`,l),g.send(r,"POST",y,a,15)})}Wo(t,r,a){const l=_m(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=rE(),m=nE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,r,a),g.encodeInitMessageHeaders=!0;const E=u.join("");ut(Je,`Creating RPC '${t}' stream ${l}: ${E}`,g);const A=f.createWebChannel(E,g);let R=!1,D=!1;const N=new QC({Fo:P=>{D?ut(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(R||(ut(Je,`Opening RPC '${t}' stream ${l} transport.`),A.open(),R=!0),ut(Je,`RPC '${t}' stream ${l} sending:`,P),A.send(P))},Mo:()=>A.close()}),j=(P,F,J)=>{P.listen(F,X=>{try{J(X)}catch(ot){setTimeout(()=>{throw ot},0)}})};return j(A,_o.EventType.OPEN,()=>{D||(ut(Je,`RPC '${t}' stream ${l} transport opened.`),N.Qo())}),j(A,_o.EventType.CLOSE,()=>{D||(D=!0,ut(Je,`RPC '${t}' stream ${l} transport closed`),N.Ko())}),j(A,_o.EventType.ERROR,P=>{D||(D=!0,Bs(Je,`RPC '${t}' stream ${l} transport errored:`,P),N.Ko(new gt(nt.UNAVAILABLE,"The operation could not be completed")))}),j(A,_o.EventType.MESSAGE,P=>{var F;if(!D){const J=P.data[0];Kt(!!J);const X=J,ot=(X==null?void 0:X.error)||((F=X[0])===null||F===void 0?void 0:F.error);if(ot){ut(Je,`RPC '${t}' stream ${l} received error:`,ot);const at=ot.status;let ct=function(b){const I=Se[b];if(I!==void 0)return UE(I)}(at),V=ot.message;ct===void 0&&(ct=nt.INTERNAL,V="Unknown error status: "+at+" with message "+ot.message),D=!0,N.Ko(new gt(ct,V)),A.close()}else ut(Je,`RPC '${t}' stream ${l} received:`,J),N.Uo(J)}}),j(m,eE.STAT_EVENT,P=>{P.stat===om.PROXY?ut(Je,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===om.NOPROXY&&ut(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i){return new Zw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,r,a=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=r,this.Go=a,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,r-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="PersistentStream";class XE{constructor(t,r,a,l,u,f,m,g){this.Ti=t,this.n_=a,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new YE(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===nt.RESOURCE_EXHAUSTED?(Zr(r.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===r&&this.V_(a,l)},a=>{t(()=>{const l=new gt(nt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(t,r){const a=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(j_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(ut(j_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KC extends XE{constructor(t,r,a,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,f),this.serializer=u}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=tC(this.serializer,t),a=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?gr(f.readTime):At.min()}(t);return this.listener.p_(r,a)}y_(t){const r={};r.database=ym(this.serializer),r.addTarget=function(u,f){let m;const g=f.target;if(m=fm(g)?{documents:rC(u,g)}:{query:iC(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=zE(u,f.resumeToken);const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=Zc(u,f.snapshotVersion.toTimestamp());const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=sC(this.serializer,t);a&&(r.labels=a),this.I_(r)}w_(t){const r={};r.database=ym(this.serializer),r.removeTarget=t,this.I_(r)}}class YC extends XE{constructor(t,r,a,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=nC(t.writeResults,t.commitTime),a=gr(t.commitTime);return this.listener.v_(a,r)}C_(){const t={};t.database=ym(this.serializer),this.I_(t)}S_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>eC(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{}class ZC extends XC{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,pm(r,a),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(nt.UNKNOWN,u.toString())})}Co(t,r,a,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,pm(r,a),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(nt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WC{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zr(r),this.N_=!1):ut("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class JC{constructor(t,r,a,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{Ba(this)&&(ut(za,"Restarting streams for network reachability change."),await async function(g){const y=Rt(g);y.W_.add(4),await Qo(y),y.j_.set("Unknown"),y.W_.delete(4),await Eh(y)}(this))})}),this.j_=new WC(a,l)}}async function Eh(i){if(Ba(i))for(const t of i.G_)await t(!0)}async function Qo(i){for(const t of i.G_)await t(!1)}function ZE(i,t){const r=Rt(i);r.U_.has(t.targetId)||(r.U_.set(t.targetId,t),op(r)?lp(r):al(r).c_()&&sp(r,t))}function ap(i,t){const r=Rt(i),a=al(r);r.U_.delete(t),a.c_()&&WE(r,t),r.U_.size===0&&(a.c_()?a.P_():Ba(r)&&r.j_.set("Unknown"))}function sp(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}al(i).y_(t)}function WE(i,t){i.H_.Ne(t),al(i).w_(t)}function lp(i){i.H_=new $w({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.U_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),al(i).start(),i.j_.B_()}function op(i){return Ba(i)&&!al(i).u_()&&i.U_.size>0}function Ba(i){return Rt(i).W_.size===0}function JE(i){i.H_=void 0}async function tD(i){i.j_.set("Online")}async function eD(i){i.U_.forEach((t,r)=>{sp(i,t)})}async function nD(i,t){JE(i),op(i)?(i.j_.q_(t),lp(i)):i.j_.set("Unknown")}async function rD(i,t,r){if(i.j_.set("Online"),t instanceof PE&&t.state===2&&t.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.U_.delete(m),l.H_.removeTarget(m))}(i,t)}catch(a){ut(za,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(i,a)}else if(t instanceof Oc?i.H_.We(t):t instanceof LE?i.H_.Ze(t):i.H_.je(t),!r.isEqual(At.min()))try{const a=await KE(i.localStore);r.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),WE(u,g);const A=new Pi(E.target,g,y,E.sequenceNumber);sp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(a){ut(za,"Failed to raise snapshot:",a),await Jc(i,a)}}async function Jc(i,t,r){if(!il(t))throw t;i.W_.add(1),await Qo(i),i.j_.set("Offline"),r||(r=()=>KE(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ut(za,"Retrying IndexedDB access"),await r(),i.W_.delete(1),await Eh(i)})}function tT(i,t){return t().catch(r=>Jc(i,r,t))}async function Th(i){const t=Rt(i),r=Ki(t);let a=t.K_.length>0?t.K_[t.K_.length-1].batchId:Qm;for(;iD(t);)try{const l=await kC(t.localStore,a);if(l===null){t.K_.length===0&&r.P_();break}a=l.batchId,aD(t,l)}catch(l){await Jc(t,l)}eT(t)&&nT(t)}function iD(i){return Ba(i)&&i.K_.length<10}function aD(i,t){i.K_.push(t);const r=Ki(i);r.c_()&&r.b_&&r.S_(t.mutations)}function eT(i){return Ba(i)&&!Ki(i).u_()&&i.K_.length>0}function nT(i){Ki(i).start()}async function sD(i){Ki(i).C_()}async function lD(i){const t=Ki(i);for(const r of i.K_)t.S_(r.mutations)}async function oD(i,t,r){const a=i.K_.shift(),l=Wm.from(a,t,r);await tT(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await Th(i)}async function uD(i,t){t&&Ki(i).b_&&await async function(a,l){if(function(f){return Gw(f)&&f!==nt.ABORTED}(l.code)){const u=a.K_.shift();Ki(a).h_(),await tT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Th(a)}}(i,t),eT(i)&&nT(i)}async function q_(i,t){const r=Rt(i);r.asyncQueue.verifyOperationInProgress(),ut(za,"RemoteStore received new credentials");const a=Ba(r);r.W_.add(3),await Qo(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Eh(r)}async function cD(i,t){const r=Rt(i);t?(r.W_.delete(2),await Eh(r)):t||(r.W_.add(2),await Qo(r),r.j_.set("Unknown"))}function al(i){return i.J_||(i.J_=function(r,a,l){const u=Rt(r);return u.M_(),new KC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{xo:tD.bind(null,i),No:eD.bind(null,i),Lo:nD.bind(null,i),p_:rD.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),op(i)?lp(i):i.j_.set("Unknown")):(await i.J_.stop(),JE(i))})),i.J_}function Ki(i){return i.Y_||(i.Y_=function(r,a,l){const u=Rt(r);return u.M_(),new YC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:sD.bind(null,i),Lo:uD.bind(null,i),D_:lD.bind(null,i),v_:oD.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await Th(i)):(await i.Y_.stop(),i.K_.length>0&&(ut(za,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,r,a,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,u){const f=Date.now()+a,m=new up(t,r,f,l,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(i,t){if(Zr("AsyncQueue",`${t}: ${i}`),il(i))return new gt(nt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(t){return new zs(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=Eo(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof zs)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new zs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.Z_=new le(vt.comparator)}track(t){const r=t.doc.key,a=this.Z_.get(r);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(r):t.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,a)=>{t.push(a)}),t}}class Fs{constructor(t,r,a,l,u,f,m,g,y){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,r,a,l,u){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new Fs(t,r,zs.emptySet(r),f,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class fD{constructor(){this.queries=G_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const l=Rt(r),u=l.queries;l.queries=G_(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function G_(){return new ka(i=>SE(i),mh)}async function rT(i,t){const r=Rt(i);let a=3;const l=t.query;let u=r.queries.get(l);u?!u.na()&&t.ra()&&(a=2):(u=new hD,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await r.onListen(l,!0);break;case 1:u.ea=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const m=cp(f,`Initialization of query '${Ns(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.ta.push(t),t.sa(r.onlineState),u.ea&&t.oa(u.ea)&&hp(r)}async function iT(i,t){const r=Rt(i),a=t.query;let l=3;const u=r.queries.get(a);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function dD(i,t){const r=Rt(i);let a=!1;for(const l of t){const u=l.query,f=r.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(a=!0);f.ea=l}}a&&hp(r)}function mD(i,t,r){const a=Rt(i),l=a.queries.get(t);if(l)for(const u of l.ta)u.onError(r);a.queries.delete(t)}function hp(i){i.ia.forEach(t=>{t.next()})}var Em,F_;(F_=Em||(Em={}))._a="default",F_.Cache="cache";class aT{constructor(t,r,a){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Fs(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=Fs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t){this.key=t}}class lT{constructor(t){this.key=t}}class pD{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Nt(),this.mutatedKeys=Nt(),this.ya=AE(t),this.wa=new zs(this.ya)}get ba(){return this.fa}Sa(t,r){const a=r?r.Da:new H_,l=r?r.wa:this.wa;let u=r?r.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,A)=>{const R=l.get(E),D=ph(this.query,A)?A:null,N=!!R&&this.mutatedKeys.has(R.key),j=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;R&&D?R.data.isEqual(D.data)?N!==j&&(a.track({type:3,doc:D}),P=!0):this.va(R,D)||(a.track({type:2,doc:D}),P=!0,(g&&this.ya(D,g)>0||y&&this.ya(D,y)<0)&&(m=!0)):!R&&D?(a.track({type:0,doc:D}),P=!0):R&&!D&&(a.track({type:1,doc:R}),P=!0,(g||y)&&(m=!0)),P&&(D?(f=f.add(D),u=j?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,A)=>function(D,N){const j=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return j(D)-j(N)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),l=l!=null&&l;const m=r&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Fs(this.query,t.wa,u,f,t.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new H_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Nt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return t.forEach(a=>{this.pa.has(a)||r.push(new lT(a))}),this.pa.forEach(a=>{t.has(a)||r.push(new sT(a))}),r}Oa(t){this.fa=t.gs,this.pa=Nt();const r=this.Sa(t.documents);return this.applyChanges(r,!0)}Na(){return Fs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const fp="SyncEngine";class gD{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class yD{constructor(t){this.key=t,this.Ba=!1}}class vD{constructor(t,r,a,l,u,f){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ka(m=>SE(m),mh),this.qa=new Map,this.Qa=new Set,this.$a=new le(vt.comparator),this.Ka=new Map,this.Ua=new ep,this.Wa={},this.Ga=new Map,this.za=Gs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _D(i,t,r=!0){const a=dT(i);let l;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await oT(a,t,r,!0),l}async function ED(i,t){const r=dT(i);await oT(r,t,!0,!1)}async function oT(i,t,r,a){const l=await BC(i.localStore,mr(t)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let m;return a&&(m=await TD(i,t,u,f==="current",l.resumeToken)),i.isPrimaryClient&&r&&ZE(i.remoteStore,l),m}async function TD(i,t,r,a,l){i.Ha=(A,R,D)=>async function(j,P,F,J){let X=P.view.Sa(F);X.ls&&(X=await P_(j.localStore,P.query,!1).then(({documents:V})=>P.view.Sa(V,X)));const ot=J&&J.targetChanges.get(P.targetId),at=J&&J.targetMismatches.get(P.targetId)!=null,ct=P.view.applyChanges(X,j.isPrimaryClient,ot,at);return $_(j,P.targetId,ct.Ma),ct.snapshot}(i,A,R,D);const u=await P_(i.localStore,t,!0),f=new pD(t,u.gs),m=f.Sa(u.documents),g=Fo.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),y=f.applyChanges(m,i.isPrimaryClient,g);$_(i,r,y.Ma);const E=new gD(t,r,f);return i.ka.set(t,E),i.qa.has(r)?i.qa.get(r).push(t):i.qa.set(r,[t]),y.snapshot}async function SD(i,t,r){const a=Rt(i),l=a.ka.get(t),u=a.qa.get(l.targetId);if(u.length>1)return a.qa.set(l.targetId,u.filter(f=>!mh(f,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),r&&ap(a.remoteStore,l.targetId),Tm(a,l.targetId)}).catch(rl)):(Tm(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function AD(i,t){const r=Rt(i),a=r.ka.get(t),l=r.qa.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),ap(r.remoteStore,a.targetId))}async function bD(i,t,r){const a=ID(i);try{const l=await function(f,m){const g=Rt(f),y=Ie.now(),E=m.reduce((D,N)=>D.add(N.key),Nt());let A,R;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=Wr(),j=Nt();return g.ds.getEntries(D,E).next(P=>{N=P,N.forEach((F,J)=>{J.isValidDocument()||(j=j.add(F))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,N)).next(P=>{A=P;const F=[];for(const J of m){const X=kw(J,A.get(J.key).overlayedDocument);X!=null&&F.push(new Wi(J.key,X,pE(X.value.mapValue),pr.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,F,m)}).next(P=>{R=P;const F=P.applyToLocalDocumentSet(A,j);return g.documentOverlayCache.saveOverlays(D,P.batchId,F)})}).then(()=>({batchId:R.batchId,changes:RE(A)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new le(Ut)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(a,l.batchId,r),await $o(a,l.changes),await Th(a.remoteStore)}catch(l){const u=cp(l,"Failed to persist write");r.reject(u)}}async function uT(i,t){const r=Rt(i);try{const a=await PC(r.localStore,t);t.targetChanges.forEach((l,u)=>{const f=r.Ka.get(u);f&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Kt(f.Ba):l.removedDocuments.size>0&&(Kt(f.Ba),f.Ba=!1))}),await $o(r,a,t)}catch(a){await rl(a)}}function Q_(i,t,r){const a=Rt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const g=Rt(f);g.onlineState=m;let y=!1;g.queries.forEach((E,A)=>{for(const R of A.ta)R.sa(m)&&(y=!0)}),y&&hp(g)}(a.eventManager,t),l.length&&a.La.p_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function RD(i,t,r){const a=Rt(i);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Ka.get(t),u=l&&l.key;if(u){let f=new le(vt.comparator);f=f.insert(u,en.newNoDocument(u,At.min()));const m=Nt().add(u),g=new vh(At.min(),new Map,new le(Ut),f,m);await uT(a,g),a.$a=a.$a.remove(u),a.Ka.delete(t),dp(a)}else await vm(a.localStore,t,!1).then(()=>Tm(a,t,r)).catch(rl)}async function wD(i,t){const r=Rt(i),a=t.batch.batchId;try{const l=await LC(r.localStore,t);hT(r,a,null),cT(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await $o(r,l)}catch(l){await rl(l)}}async function CD(i,t,r){const a=Rt(i);try{const l=await function(f,m){const g=Rt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(Kt(A!==null),E=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(a.localStore,t);hT(a,t,r),cT(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await $o(a,l)}catch(l){await rl(l)}}function cT(i,t){(i.Ga.get(t)||[]).forEach(r=>{r.resolve()}),i.Ga.delete(t)}function hT(i,t,r){const a=Rt(i);let l=a.Wa[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),a.Wa[a.currentUser.toKey()]=l}}function Tm(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.qa.get(t))i.ka.delete(a),r&&i.La.Ja(a,r);i.qa.delete(t),i.isPrimaryClient&&i.Ua.Sr(t).forEach(a=>{i.Ua.containsKey(a)||fT(i,a)})}function fT(i,t){i.Qa.delete(t.path.canonicalString());const r=i.$a.get(t);r!==null&&(ap(i.remoteStore,r),i.$a=i.$a.remove(t),i.Ka.delete(r),dp(i))}function $_(i,t,r){for(const a of r)a instanceof sT?(i.Ua.addReference(a.key,t),DD(i,a)):a instanceof lT?(ut(fp,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,t),i.Ua.containsKey(a.key)||fT(i,a.key)):Et()}function DD(i,t){const r=t.key,a=r.path.canonicalString();i.$a.get(r)||i.Qa.has(a)||(ut(fp,"New document in limbo: "+r),i.Qa.add(a),dp(i))}function dp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const r=new vt(de.fromString(t)),a=i.za.next();i.Ka.set(a,new yD(r)),i.$a=i.$a.insert(r,a),ZE(i.remoteStore,new Pi(mr(dh(r.path)),a,"TargetPurposeLimboResolution",uh.ae))}}async function $o(i,t,r){const a=Rt(i),l=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,t,r).then(y=>{var E;if((y||r)&&a.isPrimaryClient){const A=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){l.push(y);const A=rp.Yi(g.targetId,y);u.push(A)}}))}),await Promise.all(f),a.La.p_(l),await async function(g,y){const E=Rt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(y,R=>W.forEach(R.Hi,D=>E.persistence.referenceDelegate.addReference(A,R.targetId,D)).next(()=>W.forEach(R.Ji,D=>E.persistence.referenceDelegate.removeReference(A,R.targetId,D)))))}catch(A){if(!il(A))throw A;ut(ip,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const D=E.Ts.get(R),N=D.snapshotVersion,j=D.withLastLimboFreeSnapshotVersion(N);E.Ts=E.Ts.insert(R,j)}}}(a.localStore,u))}async function xD(i,t){const r=Rt(i);if(!r.currentUser.isEqual(t)){ut(fp,"User change. New user:",t.toKey());const a=await $E(r.localStore,t);r.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new gt(nt.CANCELLED,f))})}),u.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $o(r,a.Rs)}}function VD(i,t){const r=Rt(i),a=r.Ka.get(t);if(a&&a.Ba)return Nt().add(a.key);{let l=Nt();const u=r.qa.get(t);if(!u)return l;for(const f of u){const m=r.ka.get(f);l=l.unionWith(m.view.ba)}return l}}function dT(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=uT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RD.bind(null,t),t.La.p_=dD.bind(null,t.eventManager),t.La.Ja=mD.bind(null,t.eventManager),t}function ID(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return UC(this.persistence,new OC,t.initialUser,this.serializer)}Xa(t){return new QE(np.ri,this.serializer)}Za(t){return new qC}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class OD extends th{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){Kt(this.persistence.referenceDelegate instanceof Wc);const a=this.persistence.referenceDelegate.garbageCollector;return new yC(a,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new QE(a=>Wc.ri(a,r),this.serializer)}}class Sm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Q_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xD.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new fD}()}createDatastore(t){const r=_h(t.databaseInfo.databaseId),a=function(u){return new $C(u)}(t.databaseInfo);return function(u,f,m,g){return new ZC(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,l,u,f,m){return new JC(a,l,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,r=>Q_(this.syncEngine,r,0),function(){return B_.D()?new B_:new HC}())}createSyncEngine(t,r){return function(l,u,f,m,g,y,E){const A=new vD(l,u,f,m,g,y);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const u=Rt(l);ut(za,"RemoteStore shutting down."),u.W_.add(5),await Qo(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Sm.provider={build:()=>new Sm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Zr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class ND{constructor(t,r,a,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=aE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ut(Yi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ut(Yi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=cp(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Qd(i,t){i.asyncQueue.verifyOperationInProgress(),ut(Yi,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(async l=>{a.isEqual(l)||(await $E(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function K_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await MD(i);ut(Yi,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(a=>q_(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,l)=>q_(t.remoteStore,l)),i._onlineComponents=t}async function MD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(Yi,"Using user provided OfflineComponentProvider");try{await Qd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;Bs("Error using user provided cache. Falling back to memory cache: "+r),await Qd(i,new th)}}else ut(Yi,"Using default OfflineComponentProvider"),await Qd(i,new OD(void 0));return i._offlineComponents}async function pT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(Yi,"Using user provided OnlineComponentProvider"),await K_(i,i._uninitializedComponentsProvider._online)):(ut(Yi,"Using default OnlineComponentProvider"),await K_(i,new Sm))),i._onlineComponents}function UD(i){return pT(i).then(t=>t.syncEngine)}async function Am(i){const t=await pT(i),r=t.eventManager;return r.onListen=_D.bind(null,t.syncEngine),r.onUnlisten=SD.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=ED.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=AD.bind(null,t.syncEngine),r}function LD(i,t,r={}){const a=new ji;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new mT({next:R=>{E.su(),f.enqueueAndForget(()=>iT(u,A));const D=R.docs.has(m);!D&&R.fromCache?y.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&R.fromCache&&g&&g.source==="server"?y.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new aT(dh(m.path),E,{includeMetadataChanges:!0,Ta:!0});return rT(u,A)}(await Am(i),i.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i,t,r){if(!r)throw new gt(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function zD(i,t,r,a){if(t===!0&&a===!0)throw new gt(nt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function X_(i){if(!vt.isDocumentKey(i))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Et()}function yr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=mp(i);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firestore.googleapis.com",Z_=!0;class W_{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yT,this.ssl=Z_}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:Z_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pC)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pp{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new FR;switch(a.type){case"firstParty":return new YR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Y_.get(r);a&&(ut("ComponentProvider","Removing Datastore"),Y_.delete(r),a.terminate())}(this),Promise.resolve()}}function kD(i,t,r,a={}){var l;const u=(i=yr(i,pp))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${r}`;u.host!==yT&&u.host!==m&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!jc(g,f)&&(i._setSettings(g),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=tn.MOCK_USER;else{y=Sb(a.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(A)}i._authCredentials=new QR(new iE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Sh(this.firestore,t,this._query)}}class mn{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class zo extends Sh{constructor(t,r,a){super(t,r,dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new vt(t))}withConverter(t){return new zo(this.firestore,t,this._path)}}function bm(i,t,...r){if(i=Hi(i),arguments.length===1&&(t=aE.newId()),PD("doc","path",t),i instanceof pp){const a=de.fromString(t,...r);return X_(a),new mn(i,null,new vt(a))}{if(!(i instanceof mn||i instanceof zo))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(de.fromString(t,...r));return X_(a),new mn(i.firestore,i instanceof zo?i.converter:null,new vt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="AsyncQueue";class t0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new YE(this,"async_queue_retry"),this.bu=()=>{const a=Fd();a&&ut(J_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=t;const r=Fd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=Fd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!il(t))throw t;ut(J_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.Su.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Zr("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=r,r}enqueueAfterDelay(t,r,a){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const l=up.createAndSchedule(this,t,r,a,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function e0(i){return function(r,a){if(typeof r!="object"||r===null)return!1;const l=r;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Qs extends pp{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new t0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new t0(t),this._firestoreClient=void 0,await t}}}function BD(i,t){const r=typeof i=="object"?i:OR(),a=typeof i=="string"?i:Fc,l=CR(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=Eb("firestore");u&&kD(l,...u)}return l}function gp(i){if(i._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||jD(i),i._firestoreClient}function jD(i){var t,r,a;const l=i._freezeSettings(),u=function(m,g,y,E){return new uw(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,gT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new ND(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $s(Ye.fromBase64String(t))}catch(r){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new $s(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class HD{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new Wi(t,this.data,this.fieldMask,r,this.fieldTransforms):new Go(t,this.data,r,this.fieldTransforms)}}class vT{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new Wi(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function _T(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class Ep{constructor(t,r,a,l,u,f){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Ep(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:a,Qu:!1});return l.$u(t),l}Ku(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return eh(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(_T(this.Lu)&&qD.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class GD{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||_h(t)}ju(t,r,a,l=!1){return new Ep({Lu:t,methodName:r,zu:a,path:Ke.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ET(i){const t=i._freezeSettings(),r=_h(i._databaseId);return new GD(i._databaseId,!!t.ignoreUndefinedProperties,r)}function FD(i,t,r,a,l,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,t,r,l);Tp("Data must be an object, but it was:",f,a);const m=TT(a,f);let g,y;if(u.merge)g=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=Rm(t,A,r);if(!f.contains(R))throw new gt(nt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);AT(E,R)||E.push(R)}g=new An(E),y=f.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=f.fieldTransforms;return new HD(new fn(m),g,y)}class bh extends yp{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function QD(i,t,r,a){const l=i.ju(1,t,r);Tp("Data must be an object, but it was:",l,a);const u=[],f=fn.empty();Zi(a,(g,y)=>{const E=Sp(t,g,r);y=Hi(y);const A=l.Ku(E);if(y instanceof bh)u.push(E);else{const R=Rh(y,A);R!=null&&(u.push(E),f.set(E,R))}});const m=new An(u);return new vT(f,m,l.fieldTransforms)}function $D(i,t,r,a,l,u){const f=i.ju(1,t,r),m=[Rm(t,a,r)],g=[l];if(u.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Rm(t,u[R])),g.push(u[R+1]);const y=[],E=fn.empty();for(let R=m.length-1;R>=0;--R)if(!AT(y,m[R])){const D=m[R];let N=g[R];N=Hi(N);const j=f.Ku(D);if(N instanceof bh)y.push(D);else{const P=Rh(N,j);P!=null&&(y.push(D),E.set(D,P))}}const A=new An(y);return new vT(E,A,f.fieldTransforms)}function Rh(i,t){if(ST(i=Hi(i)))return Tp("Unsupported field value:",t,i),TT(i,t);if(i instanceof yp)return function(a,l){if(!_T(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,l){const u=[];let f=0;for(const m of a){let g=Rh(m,l.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,t)}return function(a,l){if((a=Hi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Nw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ie.fromDate(a);return{timestampValue:Zc(l.serializer,u)}}if(a instanceof Ie){const u=new Ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,u)}}if(a instanceof vp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $s)return{bytesValue:zE(l.serializer,a._byteString)};if(a instanceof mn){const u=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:tp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof _p)return function(f,m){return{mapValue:{fields:{[dE]:{stringValue:mE},[Qc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Zm(m.serializer,y)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${mp(a)}`)}(i,t)}function TT(i,t){const r={};return lE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zi(i,(a,l)=>{const u=Rh(l,t.qu(a));u!=null&&(r[a]=u)}),{mapValue:{fields:r}}}function ST(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ie||i instanceof vp||i instanceof $s||i instanceof mn||i instanceof yp||i instanceof _p)}function Tp(i,t,r){if(!ST(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const a=mp(r);throw a==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+a)}}function Rm(i,t,r){if((t=Hi(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return Sp(i,t);throw eh("Field path arguments must be of type string or ",i,!1,void 0,r)}const KD=new RegExp("[~\\*/\\[\\]]");function Sp(i,t,r){if(t.search(KD)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new Ah(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function eh(i,t,r,a,l){const u=a&&!a.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${l}`),g+=")"),new gt(nt.INVALID_ARGUMENT,m+i+g)}function AT(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,r,a,l,u){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(RT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class YD extends bT{data(){return super.data()}}function RT(i,t){return typeof t=="string"?Sp(i,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZD{convertValue(t,r="none"){switch($i(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Qi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return Zi(t,(l,u)=>{a[l]=this.convertValue(u,r)}),a}convertVectorValue(t){var r,a,l;const u=(l=(a=(r=t.fields)===null||r===void 0?void 0:r[Qc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(f=>ye(f.doubleValue));return new _p(u)}convertGeoPoint(t){return new vp(ye(t.latitude),ye(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const r=Fi(t);return new Ie(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=de.fromString(t);Kt(GE(a));const l=new Mo(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return l.isEqual(r)||Zr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(i,t,r){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wT extends bT{constructor(t,r,a,l,u,f){super(t,r,a,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(RT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Nc extends wT{data(t={}){return super.data(t)}}class JD{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new So(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new Nc(this._firestore,this._userDataWriter,a.key,a,new So(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const g=new Nc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new So(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Nc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new So(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:t2(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function t2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){i=yr(i,mn);const t=yr(i.firestore,Qs);return LD(gp(t),i._key).then(r=>VT(t,i,r))}class CT extends ZD{constructor(t){super(),this.firestore=t}convertBytes(t){return new $s(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,r)}}function DT(i,t,r){i=yr(i,mn);const a=yr(i.firestore,Qs),l=WD(i.converter,t);return xT(a,[FD(ET(a),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,pr.none())])}function n2(i,t,r,...a){i=yr(i,mn);const l=yr(i.firestore,Qs),u=ET(l);let f;return f=typeof(t=Hi(t))=="string"||t instanceof Ah?$D(u,"updateDoc",i._key,t,r,a):QD(u,"updateDoc",i._key,t),xT(l,[f.toMutation(i._key,pr.exists(!0))])}function r2(i,...t){var r,a,l;i=Hi(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||e0(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(e0(t[f])){const A=t[f];t[f]=(r=A.next)===null||r===void 0?void 0:r.bind(A),t[f+1]=(a=A.error)===null||a===void 0?void 0:a.bind(A),t[f+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let g,y,E;if(i instanceof mn)y=yr(i.firestore,Qs),E=dh(i._key.path),g={next:A=>{t[f]&&t[f](VT(y,i,A))},error:t[f+1],complete:t[f+2]};else{const A=yr(i,Sh);y=yr(A.firestore,Qs),E=A._query;const R=new CT(y);g={next:D=>{t[f]&&t[f](new JD(y,R,A,D))},error:t[f+1],complete:t[f+2]},XD(i._query)}return function(R,D,N,j){const P=new mT(j),F=new aT(D,P,N);return R.asyncQueue.enqueueAndForget(async()=>rT(await Am(R),F)),()=>{P.su(),R.asyncQueue.enqueueAndForget(async()=>iT(await Am(R),F))}}(gp(y),E,m,g)}function xT(i,t){return function(a,l){const u=new ji;return a.asyncQueue.enqueueAndForget(async()=>bD(await UD(a),l,u)),u.promise}(gp(i),t)}function VT(i,t,r){const a=r.docs.get(t._key),l=new CT(i);return new wT(i,l,t._key,a,new So(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){nl=l})(IR),Hc(new Vo("firestore",(a,{instanceIdentifier:l,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Qs(new $R(a.getProvider("auth-internal")),new XR(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:r},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ps(o_,u_,t),Ps(o_,u_,"esm2017")})();const IT=i=>{const[t,r]=K.useState(null),a=ks.useMemo(()=>bm(wm,Cm,i),[i]);return K.useEffect(()=>r2(a,f=>{f.exists()&&r(Dm(f.data()))}),[a]),{state:t,setter:r,put:()=>DT(a,nh(t)),update:(...f)=>{const m=f.join(".");n2(a,{[m]:nh(OT(t,f))})}}},i2=async(i,t)=>{const r=bm(wm,Cm,i),a=bm(wm,Cm,t),l=await e2(r);await DT(a,l.data()),alert("")},a2={apiKey:"AIzaSyDoz5GN1Ahoy4jhqIa03qzZ4G6NPwdiJBY",authDomain:"mj-contest.firebaseapp.com",projectId:"mj-contest",storageBucket:"mj-contest.firebasestorage.app",messagingSenderId:"598367005786",appId:"1:598367005786:web:472eb70031347d5363fc63"},s2=Y0(a2),wm=BD(s2),Cm="prod",Dm=i=>{if(i==null||typeof i=="number"||typeof i=="string"||typeof i=="boolean")return i;const t=Object.keys(i);return t.every(r=>!isNaN(Number(r)))?t.map(r=>Dm(i[r])):Object.fromEntries(t.map(r=>[r,Dm(i[r])]))},nh=i=>i==null||typeof i=="number"||typeof i=="string"||typeof i=="boolean"?i:Array.isArray(i)?Object.fromEntries(i.map((t,r)=>[r,nh(t)])):Object.fromEntries(Object.entries(i).map(([t,r])=>[t,nh(r)])),OT=(i,t)=>t.length===0?i:OT(i[t[0]],t.slice(1)),Ap=i=>{const{state:t,setter:r,put:a,update:l}=IT(i);return{contest:t,mutateContest:g=>{r(y=>{if(y===null)return null;const E=structuredClone(y);return g(E),E})},saveContest:()=>{a(),window.alert("")},saveScores:(g,y)=>{l("results",g,y,"scores"),l("results",g,y,"players"),window.alert("")}}},bp=()=>{const{state:i}=IT("master");return{nameByID:i===null?null:new Map(i.players.map(({id:r,name:a})=>[r,a]))}};var dn=function(){return dn=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},dn.apply(this,arguments)};function rh(i,t,r){if(r||arguments.length===2)for(var a=0,l=t.length,u;a<l;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return i.concat(u||Array.prototype.slice.call(t))}var ne="-ms-",Do="-moz-",$t="-webkit-",NT="comm",wh="rule",Rp="decl",l2="@import",MT="@keyframes",o2="@layer",UT=Math.abs,wp=String.fromCharCode,xm=Object.assign;function u2(i,t){return qe(i,0)^45?(((t<<2^qe(i,0))<<2^qe(i,1))<<2^qe(i,2))<<2^qe(i,3):0}function LT(i){return i.trim()}function Kr(i,t){return(i=t.exec(i))?i[0]:i}function Dt(i,t,r){return i.replace(t,r)}function Mc(i,t,r){return i.indexOf(t,r)}function qe(i,t){return i.charCodeAt(t)|0}function Ks(i,t,r){return i.slice(t,r)}function dr(i){return i.length}function PT(i){return i.length}function Ao(i,t){return t.push(i),i}function c2(i,t){return i.map(t).join("")}function n0(i,t){return i.filter(function(r){return!Kr(r,t)})}var Ch=1,Ys=1,zT=0,jn=0,Ae=0,sl="";function Dh(i,t,r,a,l,u,f,m){return{value:i,root:t,parent:r,type:a,props:l,children:u,line:Ch,column:Ys,length:f,return:"",siblings:m}}function Li(i,t){return xm(Dh("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},t)}function Is(i){for(;i.root;)i=Li(i.root,{children:[i]});Ao(i,i.siblings)}function h2(){return Ae}function f2(){return Ae=jn>0?qe(sl,--jn):0,Ys--,Ae===10&&(Ys=1,Ch--),Ae}function Kn(){return Ae=jn<zT?qe(sl,jn++):0,Ys++,Ae===10&&(Ys=1,Ch++),Ae}function Ua(){return qe(sl,jn)}function Uc(){return jn}function xh(i,t){return Ks(sl,i,t)}function Vm(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function d2(i){return Ch=Ys=1,zT=dr(sl=i),jn=0,[]}function m2(i){return sl="",i}function $d(i){return LT(xh(jn-1,Im(i===91?i+2:i===40?i+1:i)))}function p2(i){for(;(Ae=Ua())&&Ae<33;)Kn();return Vm(i)>2||Vm(Ae)>3?"":" "}function g2(i,t){for(;--t&&Kn()&&!(Ae<48||Ae>102||Ae>57&&Ae<65||Ae>70&&Ae<97););return xh(i,Uc()+(t<6&&Ua()==32&&Kn()==32))}function Im(i){for(;Kn();)switch(Ae){case i:return jn;case 34:case 39:i!==34&&i!==39&&Im(Ae);break;case 40:i===41&&Im(i);break;case 92:Kn();break}return jn}function y2(i,t){for(;Kn()&&i+Ae!==57;)if(i+Ae===84&&Ua()===47)break;return"/*"+xh(t,jn-1)+"*"+wp(i===47?i:Kn())}function v2(i){for(;!Vm(Ua());)Kn();return xh(i,jn)}function _2(i){return m2(Lc("",null,null,null,[""],i=d2(i),0,[0],i))}function Lc(i,t,r,a,l,u,f,m,g){for(var y=0,E=0,A=f,R=0,D=0,N=0,j=1,P=1,F=1,J=0,X="",ot=l,at=u,ct=a,V=X;P;)switch(N=J,J=Kn()){case 40:if(N!=108&&qe(V,A-1)==58){Mc(V+=Dt($d(J),"&","&\f"),"&\f",UT(y?m[y-1]:0))!=-1&&(F=-1);break}case 34:case 39:case 91:V+=$d(J);break;case 9:case 10:case 13:case 32:V+=p2(N);break;case 92:V+=g2(Uc()-1,7);continue;case 47:switch(Ua()){case 42:case 47:Ao(E2(y2(Kn(),Uc()),t,r,g),g);break;default:V+="/"}break;case 123*j:m[y++]=dr(V)*F;case 125*j:case 59:case 0:switch(J){case 0:case 125:P=0;case 59+E:F==-1&&(V=Dt(V,/\f/g,"")),D>0&&dr(V)-A&&Ao(D>32?i0(V+";",a,r,A-1,g):i0(Dt(V," ","")+";",a,r,A-2,g),g);break;case 59:V+=";";default:if(Ao(ct=r0(V,t,r,y,E,l,m,X,ot=[],at=[],A,u),u),J===123)if(E===0)Lc(V,t,ct,ct,ot,u,A,m,at);else switch(R===99&&qe(V,3)===110?100:R){case 100:case 108:case 109:case 115:Lc(i,ct,ct,a&&Ao(r0(i,ct,ct,0,0,l,m,X,l,ot=[],A,at),at),l,at,A,m,a?ot:at);break;default:Lc(V,ct,ct,ct,[""],at,0,m,at)}}y=E=D=0,j=F=1,X=V="",A=f;break;case 58:A=1+dr(V),D=N;default:if(j<1){if(J==123)--j;else if(J==125&&j++==0&&f2()==125)continue}switch(V+=wp(J),J*j){case 38:F=E>0?1:(V+="\f",-1);break;case 44:m[y++]=(dr(V)-1)*F,F=1;break;case 64:Ua()===45&&(V+=$d(Kn())),R=Ua(),E=A=dr(X=V+=v2(Uc())),J++;break;case 45:N===45&&dr(V)==2&&(j=0)}}return u}function r0(i,t,r,a,l,u,f,m,g,y,E,A){for(var R=l-1,D=l===0?u:[""],N=PT(D),j=0,P=0,F=0;j<a;++j)for(var J=0,X=Ks(i,R+1,R=UT(P=f[j])),ot=i;J<N;++J)(ot=LT(P>0?D[J]+" "+X:Dt(X,/&\f/g,D[J])))&&(g[F++]=ot);return Dh(i,t,r,l===0?wh:m,g,y,E,A)}function E2(i,t,r,a){return Dh(i,t,r,NT,wp(h2()),Ks(i,2,-2),0,a)}function i0(i,t,r,a,l){return Dh(i,t,r,Rp,Ks(i,0,a),Ks(i,a+1,-1),a,l)}function kT(i,t,r){switch(u2(i,t)){case 5103:return $t+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+i+i;case 4789:return Do+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+i+Do+i+ne+i+i;case 5936:switch(qe(i,t+11)){case 114:return $t+i+ne+Dt(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return $t+i+ne+Dt(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return $t+i+ne+Dt(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return $t+i+ne+i+i;case 6165:return $t+i+ne+"flex-"+i+i;case 5187:return $t+i+Dt(i,/(\w+).+(:[^]+)/,$t+"box-$1$2"+ne+"flex-$1$2")+i;case 5443:return $t+i+ne+"flex-item-"+Dt(i,/flex-|-self/g,"")+(Kr(i,/flex-|baseline/)?"":ne+"grid-row-"+Dt(i,/flex-|-self/g,""))+i;case 4675:return $t+i+ne+"flex-line-pack"+Dt(i,/align-content|flex-|-self/g,"")+i;case 5548:return $t+i+ne+Dt(i,"shrink","negative")+i;case 5292:return $t+i+ne+Dt(i,"basis","preferred-size")+i;case 6060:return $t+"box-"+Dt(i,"-grow","")+$t+i+ne+Dt(i,"grow","positive")+i;case 4554:return $t+Dt(i,/([^-])(transform)/g,"$1"+$t+"$2")+i;case 6187:return Dt(Dt(Dt(i,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),i,"")+i;case 5495:case 3959:return Dt(i,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Dt(Dt(i,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+i+i;case 4200:if(!Kr(i,/flex-|baseline/))return ne+"grid-column-align"+Ks(i,t)+i;break;case 2592:case 3360:return ne+Dt(i,"template-","")+i;case 4384:case 3616:return r&&r.some(function(a,l){return t=l,Kr(a.props,/grid-\w+-end/)})?~Mc(i+(r=r[t].value),"span",0)?i:ne+Dt(i,"-start","")+i+ne+"grid-row-span:"+(~Mc(r,"span",0)?Kr(r,/\d+/):+Kr(r,/\d+/)-+Kr(i,/\d+/))+";":ne+Dt(i,"-start","")+i;case 4896:case 4128:return r&&r.some(function(a){return Kr(a.props,/grid-\w+-start/)})?i:ne+Dt(Dt(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return Dt(i,/(.+)-inline(.+)/,$t+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dr(i)-1-t>6)switch(qe(i,t+1)){case 109:if(qe(i,t+4)!==45)break;case 102:return Dt(i,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+Do+(qe(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~Mc(i,"stretch",0)?kT(Dt(i,"stretch","fill-available"),t,r)+i:i}break;case 5152:case 5920:return Dt(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,l,u,f,m,g,y){return ne+l+":"+u+y+(f?ne+l+"-span:"+(m?g:+g-+u)+y:"")+i});case 4949:if(qe(i,t+6)===121)return Dt(i,":",":"+$t)+i;break;case 6444:switch(qe(i,qe(i,14)===45?18:11)){case 120:return Dt(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+$t+(qe(i,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+ne+"$2box$3")+i;case 100:return Dt(i,":",":"+ne)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Dt(i,"scroll-","scroll-snap-")+i}return i}function ih(i,t){for(var r="",a=0;a<i.length;a++)r+=t(i[a],a,i,t)||"";return r}function T2(i,t,r,a){switch(i.type){case o2:if(i.children.length)break;case l2:case Rp:return i.return=i.return||i.value;case NT:return"";case MT:return i.return=i.value+"{"+ih(i.children,a)+"}";case wh:if(!dr(i.value=i.props.join(",")))return""}return dr(r=ih(i.children,a))?i.return=i.value+"{"+r+"}":""}function S2(i){var t=PT(i);return function(r,a,l,u){for(var f="",m=0;m<t;m++)f+=i[m](r,a,l,u)||"";return f}}function A2(i){return function(t){t.root||(t=t.return)&&i(t)}}function b2(i,t,r,a){if(i.length>-1&&!i.return)switch(i.type){case Rp:i.return=kT(i.value,i.length,r);return;case MT:return ih([Li(i,{value:Dt(i.value,"@","@"+$t)})],a);case wh:if(i.length)return c2(r=i.props,function(l){switch(Kr(l,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Is(Li(i,{props:[Dt(l,/:(read-\w+)/,":"+Do+"$1")]})),Is(Li(i,{props:[l]})),xm(i,{props:n0(r,a)});break;case"::placeholder":Is(Li(i,{props:[Dt(l,/:(plac\w+)/,":"+$t+"input-$1")]})),Is(Li(i,{props:[Dt(l,/:(plac\w+)/,":"+Do+"$1")]})),Is(Li(i,{props:[Dt(l,/:(plac\w+)/,ne+"input-$1")]})),Is(Li(i,{props:[l]})),xm(i,{props:n0(r,a)});break}return""})}}var R2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sn={},Xs=typeof process<"u"&&Sn!==void 0&&(Sn.REACT_APP_SC_ATTR||Sn.SC_ATTR)||"data-styled",BT="active",jT="data-styled-version",Vh="6.1.15",Cp=`/*!sc*/
`,ah=typeof window<"u"&&"HTMLElement"in window,w2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==""?Sn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Sn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.SC_DISABLE_SPEEDY!==void 0&&Sn.SC_DISABLE_SPEEDY!==""&&Sn.SC_DISABLE_SPEEDY!=="false"&&Sn.SC_DISABLE_SPEEDY),Ih=Object.freeze([]),Zs=Object.freeze({});function C2(i,t,r){return r===void 0&&(r=Zs),i.theme!==r.theme&&i.theme||t||r.theme}var qT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),D2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,x2=/(^-|-$)/g;function a0(i){return i.replace(D2,"-").replace(x2,"")}var V2=/(a)(d)/gi,Sc=52,s0=function(i){return String.fromCharCode(i+(i>25?39:97))};function Om(i){var t,r="";for(t=Math.abs(i);t>Sc;t=t/Sc|0)r=s0(t%Sc)+r;return(s0(t%Sc)+r).replace(V2,"$1-$2")}var Kd,HT=5381,Ls=function(i,t){for(var r=t.length;r;)i=33*i^t.charCodeAt(--r);return i},GT=function(i){return Ls(HT,i)};function I2(i){return Om(GT(i)>>>0)}function O2(i){return i.displayName||i.name||"Component"}function Yd(i){return typeof i=="string"&&!0}var FT=typeof Symbol=="function"&&Symbol.for,QT=FT?Symbol.for("react.memo"):60115,N2=FT?Symbol.for("react.forward_ref"):60112,M2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},U2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$T={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L2=((Kd={})[N2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Kd[QT]=$T,Kd);function l0(i){return("type"in(t=i)&&t.type.$$typeof)===QT?$T:"$$typeof"in i?L2[i.$$typeof]:M2;var t}var P2=Object.defineProperty,z2=Object.getOwnPropertyNames,o0=Object.getOwnPropertySymbols,k2=Object.getOwnPropertyDescriptor,B2=Object.getPrototypeOf,u0=Object.prototype;function KT(i,t,r){if(typeof t!="string"){if(u0){var a=B2(t);a&&a!==u0&&KT(i,a,r)}var l=z2(t);o0&&(l=l.concat(o0(t)));for(var u=l0(i),f=l0(t),m=0;m<l.length;++m){var g=l[m];if(!(g in U2||r&&r[g]||f&&g in f||u&&g in u)){var y=k2(t,g);try{P2(i,g,y)}catch{}}}}return i}function Ws(i){return typeof i=="function"}function Dp(i){return typeof i=="object"&&"styledComponentId"in i}function Na(i,t){return i&&t?"".concat(i," ").concat(t):i||t||""}function c0(i,t){if(i.length===0)return"";for(var r=i[0],a=1;a<i.length;a++)r+=i[a];return r}function ko(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function Nm(i,t,r){if(r===void 0&&(r=!1),!r&&!ko(i)&&!Array.isArray(i))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)i[a]=Nm(i[a],t[a]);else if(ko(t))for(var a in t)i[a]=Nm(i[a],t[a]);return i}function xp(i,t){Object.defineProperty(i,"toString",{value:t})}function Ko(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var j2=function(){function i(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return i.prototype.indexOfGroup=function(t){for(var r=0,a=0;a<t;a++)r+=this.groupSizes[a];return r},i.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var a=this.groupSizes,l=a.length,u=l;t>=u;)if((u<<=1)<0)throw Ko(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var f=l;f<u;f++)this.groupSizes[f]=0}for(var m=this.indexOfGroup(t+1),g=(f=0,r.length);f<g;f++)this.tag.insertRule(m,r[f])&&(this.groupSizes[t]++,m++)},i.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],a=this.indexOfGroup(t),l=a+r;this.groupSizes[t]=0;for(var u=a;u<l;u++)this.tag.deleteRule(a)}},i.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var a=this.groupSizes[t],l=this.indexOfGroup(t),u=l+a,f=l;f<u;f++)r+="".concat(this.tag.getRule(f)).concat(Cp);return r},i}(),Pc=new Map,sh=new Map,zc=1,Ac=function(i){if(Pc.has(i))return Pc.get(i);for(;sh.has(zc);)zc++;var t=zc++;return Pc.set(i,t),sh.set(t,i),t},q2=function(i,t){zc=t+1,Pc.set(i,t),sh.set(t,i)},H2="style[".concat(Xs,"][").concat(jT,'="').concat(Vh,'"]'),G2=new RegExp("^".concat(Xs,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),F2=function(i,t,r){for(var a,l=r.split(","),u=0,f=l.length;u<f;u++)(a=l[u])&&i.registerName(t,a)},Q2=function(i,t){for(var r,a=((r=t.textContent)!==null&&r!==void 0?r:"").split(Cp),l=[],u=0,f=a.length;u<f;u++){var m=a[u].trim();if(m){var g=m.match(G2);if(g){var y=0|parseInt(g[1],10),E=g[2];y!==0&&(q2(E,y),F2(i,E,g[3]),i.getTag().insertRules(y,l)),l.length=0}else l.push(m)}}},h0=function(i){for(var t=document.querySelectorAll(H2),r=0,a=t.length;r<a;r++){var l=t[r];l&&l.getAttribute(Xs)!==BT&&(Q2(i,l),l.parentNode&&l.parentNode.removeChild(l))}};function $2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var YT=function(i){var t=document.head,r=i||t,a=document.createElement("style"),l=function(m){var g=Array.from(m.querySelectorAll("style[".concat(Xs,"]")));return g[g.length-1]}(r),u=l!==void 0?l.nextSibling:null;a.setAttribute(Xs,BT),a.setAttribute(jT,Vh);var f=$2();return f&&a.setAttribute("nonce",f),r.insertBefore(a,u),a},K2=function(){function i(t){this.element=YT(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,l=0,u=a.length;l<u;l++){var f=a[l];if(f.ownerNode===r)return f}throw Ko(17)}(this.element),this.length=0}return i.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},i.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},i}(),Y2=function(){function i(t){this.element=YT(t),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},i.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},i}(),X2=function(){function i(t){this.rules=[],this.length=0}return i.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},i.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},i.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},i}(),f0=ah,Z2={isServer:!ah,useCSSOMInjection:!w2},XT=function(){function i(t,r,a){t===void 0&&(t=Zs),r===void 0&&(r={});var l=this;this.options=dn(dn({},Z2),t),this.gs=r,this.names=new Map(a),this.server=!!t.isServer,!this.server&&ah&&f0&&(f0=!1,h0(this)),xp(this,function(){return function(u){for(var f=u.getTag(),m=f.length,g="",y=function(A){var R=function(F){return sh.get(F)}(A);if(R===void 0)return"continue";var D=u.names.get(R),N=f.getGroup(A);if(D===void 0||!D.size||N.length===0)return"continue";var j="".concat(Xs,".g").concat(A,'[id="').concat(R,'"]'),P="";D!==void 0&&D.forEach(function(F){F.length>0&&(P+="".concat(F,","))}),g+="".concat(N).concat(j,'{content:"').concat(P,'"}').concat(Cp)},E=0;E<m;E++)y(E);return g}(l)})}return i.registerId=function(t){return Ac(t)},i.prototype.rehydrate=function(){!this.server&&ah&&h0(this)},i.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new i(dn(dn({},this.options),t),this.gs,r&&this.names||void 0)},i.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var a=r.useCSSOMInjection,l=r.target;return r.isServer?new X2(l):a?new K2(l):new Y2(l)}(this.options),new j2(t)));var t},i.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},i.prototype.registerName=function(t,r){if(Ac(t),this.names.has(t))this.names.get(t).add(r);else{var a=new Set;a.add(r),this.names.set(t,a)}},i.prototype.insertRules=function(t,r,a){this.registerName(t,r),this.getTag().insertRules(Ac(t),a)},i.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},i.prototype.clearRules=function(t){this.getTag().clearGroup(Ac(t)),this.clearNames(t)},i.prototype.clearTag=function(){this.tag=void 0},i}(),W2=/&/g,J2=/^\s*\/\/.*$/gm;function ZT(i,t){return i.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=ZT(r.children,t)),r})}function tx(i){var t,r,a,l=Zs,u=l.options,f=u===void 0?Zs:u,m=l.plugins,g=m===void 0?Ih:m,y=function(R,D,N){return N.startsWith(r)&&N.endsWith(r)&&N.replaceAll(r,"").length>0?".".concat(t):R},E=g.slice();E.push(function(R){R.type===wh&&R.value.includes("&")&&(R.props[0]=R.props[0].replace(W2,r).replace(a,y))}),f.prefix&&E.push(b2),E.push(T2);var A=function(R,D,N,j){D===void 0&&(D=""),N===void 0&&(N=""),j===void 0&&(j="&"),t=j,r=D,a=new RegExp("\\".concat(r,"\\b"),"g");var P=R.replace(J2,""),F=_2(N||D?"".concat(N," ").concat(D," { ").concat(P," }"):P);f.namespace&&(F=ZT(F,f.namespace));var J=[];return ih(F,S2(E.concat(A2(function(X){return J.push(X)})))),J};return A.hash=g.length?g.reduce(function(R,D){return D.name||Ko(15),Ls(R,D.name)},HT).toString():"",A}var ex=new XT,Mm=tx(),WT=ks.createContext({shouldForwardProp:void 0,styleSheet:ex,stylis:Mm});WT.Consumer;ks.createContext(void 0);function d0(){return K.useContext(WT)}var nx=function(){function i(t,r){var a=this;this.inject=function(l,u){u===void 0&&(u=Mm);var f=a.name+u.hash;l.hasNameForId(a.id,f)||l.insertRules(a.id,f,u(a.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,xp(this,function(){throw Ko(12,String(a.name))})}return i.prototype.getName=function(t){return t===void 0&&(t=Mm),this.name+t.hash},i}(),rx=function(i){return i>="A"&&i<="Z"};function m0(i){for(var t="",r=0;r<i.length;r++){var a=i[r];if(r===1&&a==="-"&&i[0]==="-")return i;rx(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var JT=function(i){return i==null||i===!1||i===""},t1=function(i){var t,r,a=[];for(var l in i){var u=i[l];i.hasOwnProperty(l)&&!JT(u)&&(Array.isArray(u)&&u.isCss||Ws(u)?a.push("".concat(m0(l),":"),u,";"):ko(u)?a.push.apply(a,rh(rh(["".concat(l," {")],t1(u),!1),["}"],!1)):a.push("".concat(m0(l),": ").concat((t=l,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in R2||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function La(i,t,r,a){if(JT(i))return[];if(Dp(i))return[".".concat(i.styledComponentId)];if(Ws(i)){if(!Ws(u=i)||u.prototype&&u.prototype.isReactComponent||!t)return[i];var l=i(t);return La(l,t,r,a)}var u;return i instanceof nx?r?(i.inject(r,a),[i.getName(a)]):[i]:ko(i)?t1(i):Array.isArray(i)?Array.prototype.concat.apply(Ih,i.map(function(f){return La(f,t,r,a)})):[i.toString()]}function ix(i){for(var t=0;t<i.length;t+=1){var r=i[t];if(Ws(r)&&!Dp(r))return!1}return!0}var ax=GT(Vh),sx=function(){function i(t,r,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&ix(t),this.componentId=r,this.baseHash=Ls(ax,r),this.baseStyle=a,XT.registerId(r)}return i.prototype.generateAndInjectStyles=function(t,r,a){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=Na(l,this.staticRulesId);else{var u=c0(La(this.rules,t,r,a)),f=Om(Ls(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,f)){var m=a(u,".".concat(f),void 0,this.componentId);r.insertRules(this.componentId,f,m)}l=Na(l,f),this.staticRulesId=f}else{for(var g=Ls(this.baseHash,a.hash),y="",E=0;E<this.rules.length;E++){var A=this.rules[E];if(typeof A=="string")y+=A;else if(A){var R=c0(La(A,t,r,a));g=Ls(g,R+E),y+=R}}if(y){var D=Om(g>>>0);r.hasNameForId(this.componentId,D)||r.insertRules(this.componentId,D,a(y,".".concat(D),void 0,this.componentId)),l=Na(l,D)}}return l},i}(),e1=ks.createContext(void 0);e1.Consumer;var Xd={};function lx(i,t,r){var a=Dp(i),l=i,u=!Yd(i),f=t.attrs,m=f===void 0?Ih:f,g=t.componentId,y=g===void 0?function(ot,at){var ct=typeof ot!="string"?"sc":a0(ot);Xd[ct]=(Xd[ct]||0)+1;var V="".concat(ct,"-").concat(I2(Vh+ct+Xd[ct]));return at?"".concat(at,"-").concat(V):V}(t.displayName,t.parentComponentId):g,E=t.displayName,A=E===void 0?function(ot){return Yd(ot)?"styled.".concat(ot):"Styled(".concat(O2(ot),")")}(i):E,R=t.displayName&&t.componentId?"".concat(a0(t.displayName),"-").concat(t.componentId):t.componentId||y,D=a&&l.attrs?l.attrs.concat(m).filter(Boolean):m,N=t.shouldForwardProp;if(a&&l.shouldForwardProp){var j=l.shouldForwardProp;if(t.shouldForwardProp){var P=t.shouldForwardProp;N=function(ot,at){return j(ot,at)&&P(ot,at)}}else N=j}var F=new sx(r,R,a?l.componentStyle:void 0);function J(ot,at){return function(ct,V,w){var b=ct.attrs,I=ct.componentStyle,U=ct.defaultProps,k=ct.foldedComponentIds,x=ct.styledComponentId,me=ct.target,oe=ks.useContext(e1),it=d0(),yt=ct.shouldForwardProp||it.shouldForwardProp,mt=C2(V,oe,U)||Zs,Ct=function(St,Tt,ee){for(var Vt,Ft=dn(dn({},Tt),{className:void 0,theme:ee}),jt=0;jt<St.length;jt+=1){var ve=Ws(Vt=St[jt])?Vt(Ft):Vt;for(var Ne in ve)Ft[Ne]=Ne==="className"?Na(Ft[Ne],ve[Ne]):Ne==="style"?dn(dn({},Ft[Ne]),ve[Ne]):ve[Ne]}return Tt.className&&(Ft.className=Na(Ft.className,Tt.className)),Ft}(b,V,mt),O=Ct.as||me,et={};for(var ht in Ct)Ct[ht]===void 0||ht[0]==="$"||ht==="as"||ht==="theme"&&Ct.theme===mt||(ht==="forwardedAs"?et.as=Ct.forwardedAs:yt&&!yt(ht,O)||(et[ht]=Ct[ht]));var lt=function(St,Tt){var ee=d0(),Vt=St.generateAndInjectStyles(Tt,ee.styleSheet,ee.stylis);return Vt}(I,Ct),st=Na(k,x);return lt&&(st+=" "+lt),Ct.className&&(st+=" "+Ct.className),et[Yd(O)&&!qT.has(O)?"class":"className"]=st,w&&(et.ref=w),K.createElement(O,et)}(X,ot,at)}J.displayName=A;var X=ks.forwardRef(J);return X.attrs=D,X.componentStyle=F,X.displayName=A,X.shouldForwardProp=N,X.foldedComponentIds=a?Na(l.foldedComponentIds,l.styledComponentId):"",X.styledComponentId=R,X.target=a?l.target:i,Object.defineProperty(X,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ot){this._foldedDefaultProps=a?function(at){for(var ct=[],V=1;V<arguments.length;V++)ct[V-1]=arguments[V];for(var w=0,b=ct;w<b.length;w++)Nm(at,b[w],!0);return at}({},l.defaultProps,ot):ot}}),xp(X,function(){return".".concat(X.styledComponentId)}),u&&KT(X,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),X}function p0(i,t){for(var r=[i[0]],a=0,l=t.length;a<l;a+=1)r.push(t[a],i[a+1]);return r}var g0=function(i){return Object.assign(i,{isCss:!0})};function ox(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(Ws(i)||ko(i))return g0(La(p0(Ih,rh([i],t,!0))));var a=i;return t.length===0&&a.length===1&&typeof a[0]=="string"?La(a):g0(La(p0(a,t)))}function Um(i,t,r){if(r===void 0&&(r=Zs),!t)throw Ko(1,t);var a=function(l){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return i(t,r,ox.apply(void 0,rh([l],u,!1)))};return a.attrs=function(l){return Um(i,t,dn(dn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},a.withConfig=function(l){return Um(i,t,dn(dn({},r),l))},a}var n1=function(i){return Um(lx,i)},Yt=n1;qT.forEach(function(i){Yt[i]=n1(i)});const ux=({id:i,rank:t,name:r,total:a,points:l})=>Q.jsxs(cx,{children:[Q.jsx(hx,{$rank:t,children:t}),Q.jsx(fx,{children:r}),Q.jsx(dx,{children:Q.jsx(Zd,{$negative:a<0,children:a.toFixed(1)})}),l.map((u,f)=>typeof u=="string"?Q.jsx(Bo,{children:Q.jsx(Zd,{children:u})},f):Q.jsx(Bo,{children:Q.jsx(Zd,{$negative:u<0,children:u.toFixed(1)})},f))]},i),cx=Yt.tr`
  &:nth-child(even) {
    background-color: #f2f2f2;
  }

  &:nth-child(odd) {
    background-color: #fff;
  }
`,Bo=Yt.td`
  color: #434343;
`,hx=Yt(Bo)`
  font-weight: bold;
  color: ${({$rank:i})=>["#d4af37","#a9a9a9","#8b5a2b"].at(i-1)};
`,fx=Yt(Bo)`
  background-color: #d0e0e3;
  border-bottom: 1px solid #f2f2f2;
`,dx=Yt(Bo)`
  font-weight: bold;
  background-color: #fff2cc;
  border-bottom: 1px solid #f8e09b;
`,Zd=Yt.div`
  padding-right: 33%;
  color: ${({$negative:i})=>i?"#ff0000":void 0};
  text-align: right;
`,mx=({nameByID:i,players:t,pointsByID:r})=>{const a=t.map(l=>{const u=r.get(l);return{id:l,name:i.get(l),total:(u==null?void 0:u.filter(f=>typeof f=="number").reduce((f,m)=>m+f,0))??0,points:u??[]}}).sort((l,u)=>(u.total??0)-(l.total??0)).reduce((l,u,f)=>{const m=l.at(-1);return l.concat([{...u,rank:m==null?1:u.total===m.total?m.rank:f+1}])},[]);return Q.jsxs(px,{children:[Q.jsx("thead",{children:Q.jsxs("tr",{children:[Q.jsx(bc,{children:""}),Q.jsx(bc,{children:""}),Q.jsx(bc,{children:""}),a[0].points.map((l,u)=>Q.jsxs(bc,{children:[u+1,""]},u))]})}),Q.jsx("tbody",{children:a.map(l=>Q.jsx(ux,{id:l.id,rank:l.rank,name:l.name,total:l.total,points:l.points},l.id))})]})},px=Yt.table`
  width: 95vw;
  height: 95vh;
  font-size: 1.5vw;
  border-radius: 10px;
`,bc=Yt.th`
  color: #fff;
  background-color: #356854;
`,gx=({rank:i,names:t,total:r,points:a})=>Q.jsxs(Q.Fragment,{children:[Q.jsxs(y0,{children:[Q.jsx(yx,{$rank:i,rowSpan:2,children:i}),Q.jsx(v0,{children:t[0]}),Q.jsx(vx,{rowSpan:2,children:Q.jsx(yo,{$negative:r<0,children:r.toFixed(1)})}),a[0].map((l,u)=>typeof l=="string"?Q.jsx(Ma,{children:Q.jsx(yo,{children:l})},u):Q.jsx(Ma,{children:Q.jsx(yo,{$negative:l<0,children:l.toFixed(1)})},u))]}),Q.jsxs(y0,{children:[Q.jsx(v0,{children:t[1]}),a[1].map((l,u)=>typeof l=="string"?Q.jsx(Ma,{children:Q.jsx(yo,{children:l})},u):Q.jsx(Ma,{children:Q.jsx(yo,{$negative:l<0,children:l.toFixed(1)})},u))]})]}),y0=Yt.tr`
  &:nth-child(even) {
    background-color: #f2f2f2;
  }

  &:nth-child(odd) {
    background-color: #fff;
  }
`,Ma=Yt.td`
  color: #434343;
`,yx=Yt(Ma)`
  font-weight: bold;
  color: ${({$rank:i})=>["#d4af37","#a9a9a9","#8b5a2b"].at(i-1)};
`,v0=Yt(Ma)`
  background-color: #d0e0e3;
  border-bottom: 1px solid #f2f2f2;
`,vx=Yt(Ma)`
  font-weight: bold;
  background-color: #fff2cc;
  border-bottom: 1px solid #f8e09b;
`,yo=Yt.div`
  padding-right: 33%;
  color: ${({$negative:i})=>i?"#ff0000":void 0};
  text-align: right;
`,_x=({nameByID:i,pairs:t,pointsByID:r})=>{const a=t.map(([l,u])=>{var m;const f=[r.get(l),r.get(u)];return{names:[i.get(l),i.get(u)],total:((m=f.flat())==null?void 0:m.filter(g=>typeof g=="number").reduce((g,y)=>y+g,0))??0,points:f??[]}}).sort((l,u)=>(u.total??0)-(l.total??0)).reduce((l,u,f)=>{const m=l.at(-1);return l.concat([{...u,rank:m==null?1:u.total===m.total?m.rank:f+1}])},[]);return Q.jsxs(Ex,{children:[Q.jsx("thead",{children:Q.jsxs("tr",{children:[Q.jsx(Rc,{children:""}),Q.jsx(Rc,{children:""}),Q.jsx(Rc,{children:""}),a[0].points[0].map((l,u)=>Q.jsxs(Rc,{children:[u+1,""]},u))]})}),Q.jsx("tbody",{children:a.map((l,u)=>Q.jsx(gx,{rank:l.rank,names:l.names,total:l.total,points:l.points},`${t[u][0]}-${t[u][1]}`))})]})},Ex=Yt.table`
  width: 95vw;
  height: 95vh;
  font-size: 1.5vw;
  border-radius: 10px;
`,Rc=Yt.th`
  color: #fff;
  background-color: #356854;
`,Tx=()=>{var l;const{id:i}=zm(),{nameByID:t}=bp(),{contest:r}=Ap(i??"");if(t===null||r===null)return null;const a=new Map(r.players.map(u=>[u,r.results.map(f=>{const m=f.find(({players:y})=>y.includes(u));return m===void 0?"":m.scores===null?m.table:k0(m.scores,r.rule)[m.players.indexOf(u)]})]));return((l=r.rule)==null?void 0:l.id)==="pair"?Q.jsx(_x,{nameByID:t,pairs:r.rule.pairs,pointsByID:a}):Q.jsx(mx,{nameByID:t,players:r.players,pointsByID:a})},Sx=({score:i,commit:t})=>Q.jsx(Ax,{type:"number",placeholder:"",defaultValue:i??"",onBlur:r=>t(parseInt(r.target.value))}),Ax=Yt.input`
  width: 100%;
  height: 100%;
  font-size: 24px;
  color: #434343;
  text-align: center;
  background-color: #fff;
  border: none;

  &::placeholder {
    color: #ccc;
  }
`,bx=({wind:i,setWind:t})=>Q.jsx("div",{children:Q.jsx(Rx,{value:i,onChange:r=>t(parseInt(r.target.value)),"aria-label":"wind",children:wx.map((r,a)=>Q.jsx("option",{value:a,children:r},a))})}),Rx=Yt.select`
  width: 60px;
  font-size: 24px;
`,wx=["","","",""],Cx=({nameByID:i,result:t,rule:r,setPlayers:a,setScores:l,saveScores:u})=>{const[f,m]=K.useState(t.players),[g,y]=K.useState(t.scores??t.players.map(()=>null));K.useEffect(()=>{_0(f,t.players)&&a(f),g.every(j=>j!==null)&&g.every(j=>!isNaN(j))&&(t.scores===null||_0(g,t.scores))&&l(g)},[f,g,t.players,t.scores,a,l]);const E=j=>P=>y(g.map((F,J)=>J===j?P:F)),A=j=>P=>{m(E0(f,j,P)),y(E0(g,j,P))},R=g.every(j=>j!==null&&!isNaN(j)),D=R?k0(g.filter(j=>j!==null),r):g.map(()=>null),N=g.filter(j=>j!==null).reduce((j,P)=>j+P,0);return Q.jsxs(Dx,{children:[Q.jsxs("table",{children:[Q.jsx("thead",{children:Q.jsx("tr",{children:f.map(j=>Q.jsx(xx,{children:i.get(j)??""},j))})}),Q.jsxs("tbody",{children:[Q.jsx(Wd,{children:f.map((j,P)=>Q.jsx(Jd,{children:Q.jsx(bx,{wind:P,setWind:A(P)})},P))}),Q.jsx(Wd,{children:g.map((j,P)=>Q.jsx(Jd,{children:Q.jsx(Sx,{score:j,commit:E(P)})},`${P} ${f[P]}`))}),Q.jsx(Wd,{children:D.map((j,P)=>Q.jsx(Jd,{children:Q.jsx(Vx,{$negative:(j??0)<0,children:(j==null?void 0:j.toFixed(1))??""})},P))})]})]}),R&&N!==B0(g.length)&&Q.jsxs("div",{children:["  ",N.toLocaleString()," "]}),Q.jsx("button",{type:"button",disabled:!R,onClick:u,children:""})]})},Dx=Yt.div`
  font-size: 24px;
`,xx=Yt.th`
  width: 150px;
  height: 50px;
  color: #fff;
  background-color: #356854;
`,Wd=Yt.tr`
  height: 50px;
  background-color: #fff;
`,Jd=Yt.td`
  color: #434343;
  background-color: #fff;
  border: #f2f2f2 solid 1px;
`,Vx=Yt.div`
  color: ${({$negative:i})=>i?"#ff0000":void 0};
`,_0=(i,t)=>i.length!==t.length||i.some((r,a)=>r!==t[a]),E0=(i,t,r)=>i.map((a,l)=>l===t?i[r]:l===r?i[t]:i[l]),T0=({name:i,options:t,current:r,set:a})=>Q.jsx("div",{children:Q.jsx(Ix,{value:r,onChange:l=>a(parseInt(l.target.value)),"aria-label":i,children:t.map((l,u)=>Q.jsx("option",{value:u,children:l},u))})}),Ix=Yt.select`
  width: 120px;
  font-size: 24px;
`,Ox=({contest:i,round:t,table:r,setRound:a,setTable:l})=>Q.jsxs(Nx,{children:[Q.jsx(T0,{name:"round",options:i.results.map((u,f)=>`${f+1}`),current:t,set:u=>{a(u),l(0)}}),Q.jsx(T0,{name:"table",options:i.results[t].map(u=>u.table),current:r,set:l})]}),Nx=Yt.div`
  display: flex;
  column-gap: 24px;
`,Mx=()=>{var A;const{id:i}=zm(),[t,r]=ib(),a=parseInt(t.get("round")??"0"),l=parseInt(t.get("table")??"0"),{nameByID:u}=bp(),{contest:f,mutateContest:m,saveScores:g}=Ap(i??"");if(u===null||f===null||isNaN(a)||isNaN(l))return null;const y=(A=f.results.at(a))==null?void 0:A.at(l);if(y===void 0)return null;const E=R=>D=>r(N=>(N.set(R,D.toString()),N));return Q.jsxs(Ux,{children:[Q.jsx(Ox,{contest:f,round:a,table:l,setRound:E("round"),setTable:E("table")}),Q.jsx(Cx,{nameByID:u,result:y,rule:f.rule,setPlayers:R=>m(D=>{D.results[a][l].players=R}),setScores:R=>m(D=>{D.results[a][l].scores=R}),saveScores:()=>g(a,l)},`${a} ${l}`)]})},Ux=Yt.div`
  display: flex;
  flex-direction: column;
  row-gap: 32px;
  align-items: center;
`,Lx=i=>{i.results=zx.map(t=>t.map((r,a)=>({table:Px[a],players:r.map(l=>i.players[l-1]),scores:null})))},Px=["A","B","C","D"],zx=[[[1,2,7,12],[4,5,8,11],[9,10,13,16],[3,6,14,15]],[[5,6,7,9],[1,3,8,13],[10,11,12,14],[2,4,15,16]],[[7,11,13,15],[2,6,8,10],[1,4,9,14],[3,5,12,16]],[[4,6,12,13],[2,3,9,11],[7,8,14,16],[1,5,10,15]],[[1,6,11,16],[3,4,7,10],[8,9,12,15],[2,5,13,14]]],Vp=({text:i,setText:t,size:r})=>Q.jsx("div",{children:Q.jsx("input",{type:"text",value:i,size:r,onChange:a=>t(a.target.value)})}),Ip=({nameByID:i,current:t,set:r})=>Q.jsx("div",{children:Q.jsx(kx,{value:t,onChange:a=>r(parseInt(a.target.value)),children:Array.from(i.entries()).map(([a,l])=>Q.jsx("option",{value:a,children:l},a))})}),kx=Yt.select`
  width: 120px;
  font-size: 24px;
`,Bx=({nameByID:i,result:t,setResult:r})=>Q.jsxs("div",{children:[Q.jsx(Vp,{text:t.table,setText:a=>r({...t,table:a}),size:10}),t.players.map((a,l)=>Q.jsx(Ip,{nameByID:i,current:a,set:u=>r({...t,players:t.players.map((f,m)=>l===m?u:f)})},l))]}),jx=({srcID:i})=>{const[t,r]=K.useState("");return Q.jsxs("div",{children:[Q.jsx(Vp,{text:t,setText:r,size:25}),Q.jsx("button",{type:"button",onClick:()=>i2(i,t),children:""})]})},qx=({date:i,setDate:t})=>Q.jsx(Vp,{text:i,setText:t,size:20}),Hx=({rule:i,setRule:t})=>Q.jsxs("div",{children:[Q.jsxs("label",{children:[Q.jsx("input",{type:"radio",name:"rule",value:"normal",checked:i===void 0||i.id==="normal",onChange:()=>t({id:"normal",uma:i.uma})}),""]}),Q.jsxs("label",{children:[Q.jsx("input",{type:"radio",name:"rule",value:"pair",checked:i.id==="pair",onChange:()=>t({id:"pair",pairs:[],uma:i.uma})}),""]})]}),Gx=({nameByID:i,players:t,setPlayers:r})=>{const a=t.length>0?t:Array.from({length:16},(l,u)=>u);return Q.jsx(Fx,{children:a.map((l,u)=>Q.jsx(Ip,{nameByID:i,current:l,set:f=>r(a.map((m,g)=>u===g?f:m))},u))})},Fx=Yt.div`
  display: flex;
  flex-direction: column;
  row-gap: 8px;
`,Qx=({nameByID:i,rule:t,setRule:r,setPlayers:a})=>{const l=t.pairs.length>0?t.pairs:Array.from({length:8},()=>[1,1]),u=m=>Kx.map(([g,y])=>m[g][y]),f=(m,g,y)=>{const E=structuredClone(t);E.pairs=l,E.pairs[g][y]=m,r(E),a(u(E.pairs))};return Q.jsx($x,{children:l.map((m,g)=>m.map((y,E)=>Q.jsx(Ip,{nameByID:i,current:y,set:A=>f(A,g,E)},`${g}-${E}`)))})},$x=Yt.div`
  display: grid;
  grid-template-columns: auto auto;
  gap: 8px;
`,Kx=[[0,0],[1,0],[2,0],[2,1],[1,1],[0,1],[3,0],[4,0],[4,1],[3,1],[5,0],[6,0],[7,0],[7,1],[6,1],[5,1]],Yx=({nameByID:i,players:t,setPlayers:r,rule:a,setRule:l})=>(a==null?void 0:a.id)==="pair"?Q.jsx(Qx,{nameByID:i,setPlayers:r,rule:a,setRule:l}):Q.jsx(Gx,{nameByID:i,players:t,setPlayers:r}),Xx=({uma:i,setUma:t})=>Q.jsx("div",{children:i==null?void 0:i.map((r,a)=>Q.jsx("input",{type:"number",value:r,onChange:l=>t(i.map((u,f)=>f===a?Number(l.target.value):u))},a))}),Zx=()=>{const{id:i}=zm(),{contest:t,mutateContest:r,saveContest:a}=Ap(i??""),{nameByID:l}=bp();return i===void 0||t===null||l===null?null:Q.jsxs("div",{children:[Q.jsx(qx,{date:t.date,setDate:u=>r(f=>f.date=u)}),Q.jsx(Xx,{uma:t.rule.uma,setUma:u=>r(f=>f.rule.uma=u)}),Q.jsx(Hx,{rule:t.rule,setRule:u=>r(f=>f.rule=u)}),Q.jsx(Yx,{nameByID:l,players:t.players,setPlayers:u=>r(f=>{f.players=u}),rule:t.rule,setRule:u=>r(f=>f.rule=u)}),t.results.map((u,f)=>Q.jsxs("div",{children:[Q.jsxs("div",{children:[f+1,""]}),u.map((m,g)=>Q.jsx(Bx,{nameByID:l,result:m,setResult:y=>{r(E=>{E.results[f][g]=y})}},g)),Q.jsx("button",{type:"button",onClick:()=>r(m=>m.results[f].push({table:"",players:[0,0,0,0],scores:null})),children:""})]},f)),Q.jsx("button",{type:"button",onClick:()=>r(u=>u.results.push([])),children:""}),Q.jsx("button",{type:"button",onClick:()=>r(Lx),children:""}),Q.jsx("button",{type:"button",onClick:()=>a(),children:""}),Q.jsx(jx,{srcID:i})]})};PS.createRoot(document.getElementById("root")).render(Q.jsx(K.StrictMode,{children:Q.jsx(JA,{basename:"/mj-contest",children:Q.jsxs(DA,{children:[Q.jsx(vo,{path:"/",element:Q.jsx(zS,{})}),Q.jsx(vo,{path:"/result/:id",element:Q.jsx(Tx,{})}),Q.jsx(vo,{path:"/form/:id",element:Q.jsx(Mx,{})}),Q.jsx(vo,{path:"/edit_contest/:id",element:Q.jsx(Zx,{})})]})})}));
