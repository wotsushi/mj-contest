(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function MS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ud={exports:{}},po={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function US(){if(Lv)return po;Lv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:f,ref:l!==void 0?l:null,props:u}}return po.Fragment=t,po.jsx=r,po.jsxs=r,po}var Pv;function LS(){return Pv||(Pv=1,Ud.exports=US()),Ud.exports}var B=LS(),Ld={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function PS(){if(zv)return wt;zv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,q={};function P(O,et,ht){this.props=O,this.context=et,this.refs=q,this.updater=ht||D}P.prototype.isReactComponent={},P.prototype.setState=function(O,et){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,et,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=P.prototype;function J(O,et,ht){this.props=O,this.context=et,this.refs=q,this.updater=ht||D}var X=J.prototype=new $;X.constructor=J,N(X,P.prototype),X.isPureReactComponent=!0;var ot=Array.isArray,at={H:null,A:null,T:null,S:null},ct=Object.prototype.hasOwnProperty;function V(O,et,ht,lt,st,St){return ht=St.ref,{$$typeof:i,type:O,key:et,ref:ht!==void 0?ht:null,props:St}}function w(O,et){return V(O.type,et,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function I(O){var et={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ht){return et[ht]})}var U=/\/+/g;function k(O,et){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):et.toString(36)}function x(){}function me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(et){O.status==="pending"&&(O.status="fulfilled",O.value=et)},function(et){O.status==="pending"&&(O.status="rejected",O.reason=et)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function oe(O,et,ht,lt,st){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Tt=!1;if(O===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(O.$$typeof){case i:case t:Tt=!0;break;case E:return Tt=O._init,oe(Tt(O._payload),et,ht,lt,st)}}if(Tt)return st=st(O),Tt=lt===""?"."+k(O,0):lt,ot(st)?(ht="",Tt!=null&&(ht=Tt.replace(U,"$&/")+"/"),oe(st,et,ht,"",function($t){return $t})):st!=null&&(b(st)&&(st=w(st,ht+(st.key==null||O&&O.key===st.key?"":(""+st.key).replace(U,"$&/")+"/")+Tt)),et.push(st)),1;Tt=0;var ee=lt===""?".":lt+":";if(ot(O))for(var It=0;It<O.length;It++)lt=O[It],St=ee+k(lt,It),Tt+=oe(lt,et,ht,St,st);else if(It=R(O),typeof It=="function")for(O=It.call(O),It=0;!(lt=O.next()).done;)lt=lt.value,St=ee+k(lt,It++),Tt+=oe(lt,et,ht,St,st);else if(St==="object"){if(typeof O.then=="function")return oe(me(O),et,ht,lt,st);throw et=String(O),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function it(O,et,ht){if(O==null)return O;var lt=[],st=0;return oe(O,lt,"","",function(St){return et.call(ht,St,st++)}),lt}function yt(O){if(O._status===-1){var et=O._result;et=et(),et.then(function(ht){(O._status===0||O._status===-1)&&(O._status=1,O._result=ht)},function(ht){(O._status===0||O._status===-1)&&(O._status=2,O._result=ht)}),O._status===-1&&(O._status=0,O._result=et)}if(O._status===1)return O._result.default;throw O._result}var mt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Dt(){}return wt.Children={map:it,forEach:function(O,et,ht){it(O,function(){et.apply(this,arguments)},ht)},count:function(O){var et=0;return it(O,function(){et++}),et},toArray:function(O){return it(O,function(et){return et})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},wt.Component=P,wt.Fragment=r,wt.Profiler=l,wt.PureComponent=J,wt.StrictMode=a,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cloneElement=function(O,et,ht){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var lt=N({},O.props),st=O.key,St=void 0;if(et!=null)for(Tt in et.ref!==void 0&&(St=void 0),et.key!==void 0&&(st=""+et.key),et)!ct.call(et,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&et.ref===void 0||(lt[Tt]=et[Tt]);var Tt=arguments.length-2;if(Tt===1)lt.children=ht;else if(1<Tt){for(var ee=Array(Tt),It=0;It<Tt;It++)ee[It]=arguments[It+2];lt.children=ee}return V(O.type,st,void 0,void 0,St,lt)},wt.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},wt.createElement=function(O,et,ht){var lt,st={},St=null;if(et!=null)for(lt in et.key!==void 0&&(St=""+et.key),et)ct.call(et,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(st[lt]=et[lt]);var Tt=arguments.length-2;if(Tt===1)st.children=ht;else if(1<Tt){for(var ee=Array(Tt),It=0;It<Tt;It++)ee[It]=arguments[It+2];st.children=ee}if(O&&O.defaultProps)for(lt in Tt=O.defaultProps,Tt)st[lt]===void 0&&(st[lt]=Tt[lt]);return V(O,St,void 0,void 0,null,st)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:m,render:O}},wt.isValidElement=b,wt.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:yt}},wt.memo=function(O,et){return{$$typeof:y,type:O,compare:et===void 0?null:et}},wt.startTransition=function(O){var et=at.T,ht={};at.T=ht;try{var lt=O(),st=at.S;st!==null&&st(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Dt,mt)}catch(St){mt(St)}finally{at.T=et}},wt.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},wt.use=function(O){return at.H.use(O)},wt.useActionState=function(O,et,ht){return at.H.useActionState(O,et,ht)},wt.useCallback=function(O,et){return at.H.useCallback(O,et)},wt.useContext=function(O){return at.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,et){return at.H.useDeferredValue(O,et)},wt.useEffect=function(O,et){return at.H.useEffect(O,et)},wt.useId=function(){return at.H.useId()},wt.useImperativeHandle=function(O,et,ht){return at.H.useImperativeHandle(O,et,ht)},wt.useInsertionEffect=function(O,et){return at.H.useInsertionEffect(O,et)},wt.useLayoutEffect=function(O,et){return at.H.useLayoutEffect(O,et)},wt.useMemo=function(O,et){return at.H.useMemo(O,et)},wt.useOptimistic=function(O,et){return at.H.useOptimistic(O,et)},wt.useReducer=function(O,et,ht){return at.H.useReducer(O,et,ht)},wt.useRef=function(O){return at.H.useRef(O)},wt.useState=function(O){return at.H.useState(O)},wt.useSyncExternalStore=function(O,et,ht){return at.H.useSyncExternalStore(O,et,ht)},wt.useTransition=function(){return at.H.useTransition()},wt.version="19.0.0",wt}var kv;function jm(){return kv||(kv=1,Ld.exports=PS()),Ld.exports}var K=jm();const ka=MS(K);var Pd={exports:{}},go={},zd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function zS(){return jv||(jv=1,function(i){function t(it,yt){var mt=it.length;it.push(yt);t:for(;0<mt;){var Dt=mt-1>>>1,O=it[Dt];if(0<l(O,yt))it[Dt]=yt,it[mt]=O,mt=Dt;else break t}}function r(it){return it.length===0?null:it[0]}function a(it){if(it.length===0)return null;var yt=it[0],mt=it.pop();if(mt!==yt){it[0]=mt;t:for(var Dt=0,O=it.length,et=O>>>1;Dt<et;){var ht=2*(Dt+1)-1,lt=it[ht],st=ht+1,St=it[st];if(0>l(lt,mt))st<O&&0>l(St,lt)?(it[Dt]=St,it[st]=mt,Dt=st):(it[Dt]=lt,it[ht]=mt,Dt=ht);else if(st<O&&0>l(St,mt))it[Dt]=St,it[st]=mt,Dt=st;else break t}}return yt}function l(it,yt){var mt=it.sortIndex-yt.sortIndex;return mt!==0?mt:it.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,A=null,R=3,D=!1,N=!1,q=!1,P=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(it){for(var yt=r(y);yt!==null;){if(yt.callback===null)a(y);else if(yt.startTime<=it)a(y),yt.sortIndex=yt.expirationTime,t(p,yt);else break;yt=r(y)}}function ot(it){if(q=!1,X(it),!N)if(r(p)!==null)N=!0,me();else{var yt=r(y);yt!==null&&oe(ot,yt.startTime-it)}}var at=!1,ct=-1,V=5,w=-1;function b(){return!(i.unstable_now()-w<V)}function I(){if(at){var it=i.unstable_now();w=it;var yt=!0;try{t:{N=!1,q&&(q=!1,$(ct),ct=-1),D=!0;var mt=R;try{e:{for(X(it),A=r(p);A!==null&&!(A.expirationTime>it&&b());){var Dt=A.callback;if(typeof Dt=="function"){A.callback=null,R=A.priorityLevel;var O=Dt(A.expirationTime<=it);if(it=i.unstable_now(),typeof O=="function"){A.callback=O,X(it),yt=!0;break e}A===r(p)&&a(p),X(it)}else a(p);A=r(p)}if(A!==null)yt=!0;else{var et=r(y);et!==null&&oe(ot,et.startTime-it),yt=!1}}break t}finally{A=null,R=mt,D=!1}yt=void 0}}finally{yt?U():at=!1}}}var U;if(typeof J=="function")U=function(){J(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,x=k.port2;k.port1.onmessage=I,U=function(){x.postMessage(null)}}else U=function(){P(I,0)};function me(){at||(at=!0,U())}function oe(it,yt){ct=P(function(){it(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(it){it.callback=null},i.unstable_continueExecution=function(){N||D||(N=!0,me())},i.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<it?Math.floor(1e3/it):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return r(p)},i.unstable_next=function(it){switch(R){case 1:case 2:case 3:var yt=3;break;default:yt=R}var mt=R;R=yt;try{return it()}finally{R=mt}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(it,yt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var mt=R;R=it;try{return yt()}finally{R=mt}},i.unstable_scheduleCallback=function(it,yt,mt){var Dt=i.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Dt+mt:Dt):mt=Dt,it){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=mt+O,it={id:E++,callback:yt,priorityLevel:it,startTime:mt,expirationTime:O,sortIndex:-1},mt>Dt?(it.sortIndex=mt,t(y,it),r(p)===null&&it===r(y)&&(q?($(ct),ct=-1):q=!0,oe(ot,mt-Dt))):(it.sortIndex=O,t(p,it),N||D||(N=!0,me())),it},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(it){var yt=R;return function(){var mt=R;R=yt;try{return it.apply(this,arguments)}finally{R=mt}}}}(kd)),kd}var Bv;function kS(){return Bv||(Bv=1,zd.exports=zS()),zd.exports}var jd={exports:{}},We={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function jS(){if(qv)return We;qv=1;var i=jm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:p,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return We.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,We.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},We.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},We.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},We.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},We.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:D}):E==="script"&&a.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},We.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},We.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,A=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},We.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},We.requestFormReset=function(p){a.d.r(p)},We.unstable_batchedUpdates=function(p,y){return p(y)},We.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},We.useFormStatus=function(){return f.H.useHostTransitionStatus()},We.version="19.0.0",We}var Hv;function BS(){if(Hv)return jd.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jd.exports=jS(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function qS(){if(Fv)return go;Fv=1;var i=kS(),t=jm(),r=BS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),ot=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function ct(e){return e===null||typeof e!="object"?null:(e=at&&e[at]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case P:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case D:return(e.displayName||"Context")+".Provider";case R:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:w(e.type)||"Memo";case J:n=e._payload,e=e._init;try{return w(e(n))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,U,k;function x(e){if(U===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);U=n&&n[1]||"",k=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+e+k}var me=!1;function oe(e,n){if(!e||me)return"";me=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var F=Q}Reflect.construct(e,[],tt)}else{try{tt.call()}catch(Q){F=Q}e.call(tt.prototype)}}else{try{throw Error()}catch(Q){F=Q}(tt=e())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var C=_.split(`
`),L=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===L.length)for(o=C.length-1,h=L.length-1;1<=o&&0<=h&&C[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==L[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{me=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?x(s):""}function it(e){switch(e.tag){case 26:case 27:case 5:return x(e.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function yt(e){try{var n="";do n+=it(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function mt(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Dt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(mt(e)!==e)throw Error(a(188))}function et(e){var n=e.alternate;if(!n){if(n=mt(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return O(h),e;if(d===o)return O(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=d;else{for(var _=!1,T=h.child;T;){if(T===s){_=!0,s=h,o=d;break}if(T===o){_=!0,o=h,s=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===s){_=!0,s=d,o=h;break}if(T===o){_=!0,o=d,s=h;break}T=T.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function ht(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ht(e),n!==null)return n;e=e.sibling}return null}var lt=Array.isArray,st=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Tt=[],ee=-1;function It(e){return{current:e}}function $t(e){0>ee||(e.current=Tt[ee],Tt[ee]=null,ee--)}function qt(e,n){ee++,Tt[ee]=e.current,e.current=n}var ve=It(null),Ne=It(null),bn=It(null),Jr=It(null);function ti(e,n){switch(qt(bn,n),qt(Ne,e),qt(ve,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?hv(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=hv(e),n=fv(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$t(ve),qt(ve,n)}function Sr(){$t(ve),$t(Ne),$t(bn)}function ul(e){e.memoizedState!==null&&qt(Jr,e);var n=ve.current,s=fv(n,e.type);n!==s&&(qt(Ne,e),qt(ve,s))}function Fa(e){Ne.current===e&&($t(ve),$t(Ne)),Jr.current===e&&($t(Jr),uo._currentValue=St)}var Ga=Object.prototype.hasOwnProperty,ta=i.unstable_scheduleCallback,$a=i.unstable_cancelCallback,Lh=i.unstable_shouldYield,cl=i.unstable_requestPaint,on=i.unstable_now,Wo=i.unstable_getCurrentPriorityLevel,be=i.unstable_ImmediatePriority,Me=i.unstable_UserBlockingPriority,Ar=i.unstable_NormalPriority,Jo=i.unstable_LowPriority,hl=i.unstable_IdlePriority,Ph=i.log,ea=i.unstable_setDisableYieldValue,ei=null,Xe=null;function fl(e){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ei,e,void 0,(e.current.flags&128)===128)}catch{}}function Xn(e){if(typeof Ph=="function"&&ea(e),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ei,e)}catch{}}var nn=Math.clz32?Math.clz32:eu,dl=Math.log,tu=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(dl(e)/tu|0)|0}var Zn=128,ni=4194304;function qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rn(e,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?o=qn(s):(d&=T,d!==0?o=qn(d):e||(_=T&~_,_!==0&&(o=qn(_))))):(T=s&~h,T!==0?o=qn(T):d!==0?o=qn(d):e||(_=s&~_,_!==0&&(o=qn(_)))),o===0?0:n!==0&&n!==o&&(n&h)===0&&(h=o&-o,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:o}function ri(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qa(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ml(){var e=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),e}function ii(){var e=ni;return ni<<=1,(ni&62914560)===0&&(ni=4194304),e}function Ka(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nu(e,n,s,o,h,d){var _=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,L=e.hiddenUpdates;for(s=_&~s;0<s;){var Y=31-nn(s),tt=1<<Y;T[Y]=0,C[Y]=-1;var F=L[Y];if(F!==null)for(L[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}s&=~tt}o!==0&&ai(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~n))}function ai(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-nn(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&4194218}function si(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-nn(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function ru(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Vv(e.type))}function li(e,n){var s=st.p;try{return st.p=e,n()}finally{st.p=s}}var Wn=Math.random().toString(36).slice(2),Ue="__reactFiber$"+Wn,Re="__reactProps$"+Wn,br="__reactContainer$"+Wn,na="__reactEvents$"+Wn,Ya="__reactListeners$"+Wn,Jn="__reactHandles$"+Wn,pl="__reactResources$"+Wn,oi="__reactMarker$"+Wn;function ra(e){delete e[Ue],delete e[Re],delete e[na],delete e[Ya],delete e[Jn]}function Hn(e){var n=e[Ue];if(n)return n;for(var s=e.parentNode;s;){if(n=s[br]||s[Ue]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=pv(e);e!==null;){if(s=e[Ue])return s;e=pv(e)}return n}e=s,s=e.parentNode}return null}function Rr(e){if(e=e[Ue]||e[br]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ui(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[pl];return n||(n=e[pl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function re(e){e[oi]=!0}var gl=new Set,Xa={};function pn(e,n){un(e,n),un(e+"Capture",n)}function un(e,n){for(Xa[e]=n,e=0;e<n.length;e++)gl.add(n[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},vl={};function au(e){return Ga.call(vl,e)?!0:Ga.call(yl,e)?!1:zh.test(e)?vl[e]=!0:(yl[e]=!0,!1)}function hi(e,n,s){if(au(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fi(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function wn(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function su(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kh(e){var n=su(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ia(e){e._valueTracker||(e._valueTracker=kh(e))}function _l(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=su(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Za(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var wr=/[\n"\\]/g;function ue(e){return e.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function di(e,n,s,o,h,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+rn(n)):e.value!==""+rn(n)&&(e.value=""+rn(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Wa(e,_,rn(n)):s!=null?Wa(e,_,rn(s)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+rn(T):e.removeAttribute("name")}function aa(e,n,s,o,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+rn(s):"",n=n!=null?""+rn(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Wa(e,n,s){n==="number"&&Za(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ht(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+rn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function sa(e,n,s){if(n!=null&&(n=""+rn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+rn(s):""}function mi(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(lt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=rn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o)}function Cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var jh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||jh.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function lu(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&El(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&El(e,d,n[d])}function Tl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tr(e){return qh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Dn=null;function Ja(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cr=null,Dr=null;function xr(e){var n=Rr(e);if(n&&(e=n.stateNode)){var s=e[Re]||null;t:switch(e=n.stateNode,n.type){case"input":if(di(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ue(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Re]||null;if(!h)throw Error(a(90));di(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&_l(o)}break t;case"textarea":sa(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ht(e,!!s.multiple,n,!1)}}}var Sl=!1;function ou(e,n,s){if(Sl)return e(n,s);Sl=!0;try{var o=e(n);return o}finally{if(Sl=!1,(Cr!==null||Dr!==null)&&(Ju(),Cr&&(n=Cr,e=Dr,Dr=Cr=null,xr(n),e)))for(n=0;n<e.length;n++)xr(e[n])}}function la(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Re]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var xn=!1;if(gn)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){xn=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{xn=!1}var er=null,pi=null,Vr=null;function Al(){if(Vr)return Vr;var e,n=pi,s=n.length,o,h="value"in er?er.value:er.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var _=s-e;for(o=1;o<=_&&n[s-o]===h[d-o];o++);return Vr=h.slice(e,1<o?1-o:void 0)}function nr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function bl(){return!1}function Le(e){function n(s,o,h,d,_){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?rr:bl,this.isPropagationStopped=bl,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Le(Qt),ua=I({},Qt,{view:0,detail:0}),uu=Le(ua),es,ns,ir,ca=I({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&e.type==="mousemove"?(es=e.screenX-ir.screenX,ns=e.screenY-ir.screenY):ns=es=0,ir=e),es)},movementY:function(e){return"movementY"in e?e.movementY:ns}}),Vn=Le(ca),cu=I({},ca,{dataTransfer:0}),Hh=Le(cu),ha=I({},ua,{relatedTarget:0}),rs=Le(ha),Rl=I({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),is=Le(Rl),hu=I({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),as=Le(hu),Fh=I({},Qt,{data:0}),wl=Le(Fh),fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function da(){return Cl}var mu=I({},ua,{key:function(e){if(e.key){var n=fa[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=nr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:da,charCode:function(e){return e.type==="keypress"?nr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=Le(mu),pu=I({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Le(pu),Ir=I({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:da}),gu=Le(Ir),yu=I({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Le(yu),_u=I({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ls=Le(_u),an=I({},Qt,{newState:0,oldState:0}),Eu=Le(an),Tu=[9,13,27,32],ar=gn&&"CompositionEvent"in window,c=null;gn&&"documentMode"in document&&(c=document.documentMode);var g=gn&&"TextEvent"in window&&!c,v=gn&&(!ar||c&&8<c&&11>=c),S=" ",j=!1;function G(e,n){switch(e){case"keyup":return Tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function we(e,n){switch(e){case"compositionend":return rt(n);case"keypress":return n.which!==32?null:(j=!0,S);case"textInput":return e=n.data,e===S&&j?null:e;default:return null}}function zt(e,n){if(Pt)return e==="compositionend"||!ar&&G(e,n)?(e=Al(),Vr=pi=er=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Pe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ce(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Pe[e.type]:n==="textarea"}function Or(e,n,s,o){Cr?Dr?Dr.push(o):Dr=[o]:Cr=o,n=ic(n,"onChange"),0<n.length&&(s=new ts("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var He=null,sr=null;function xl(e){sv(e,0)}function Su(e){var n=ui(e);if(_l(n))return e}function Up(e,n){if(e==="change")return n}var Lp=!1;if(gn){var Gh;if(gn){var $h="oninput"in document;if(!$h){var Pp=document.createElement("div");Pp.setAttribute("oninput","return;"),$h=typeof Pp.oninput=="function"}Gh=$h}else Gh=!1;Lp=Gh&&(!document.documentMode||9<document.documentMode)}function zp(){He&&(He.detachEvent("onpropertychange",kp),sr=He=null)}function kp(e){if(e.propertyName==="value"&&Su(sr)){var n=[];Or(n,sr,e,Ja(e)),ou(xl,n)}}function c1(e,n,s){e==="focusin"?(zp(),He=n,sr=s,He.attachEvent("onpropertychange",kp)):e==="focusout"&&zp()}function h1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(sr)}function f1(e,n){if(e==="click")return Su(n)}function d1(e,n){if(e==="input"||e==="change")return Su(n)}function m1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:m1;function Vl(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ga.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bp(e,n){var s=jp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=jp(s)}}function qp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?qp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Hp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Za(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Za(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function p1(e,n){var s=Hp(n);n=e.focusedElem;var o=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&qp(n.ownerDocument.documentElement,n)){if(o!==null&&Qh(n)){if(e=o.start,s=o.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var h=n.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!s.extend&&d>o&&(h=o,o=d,d=h),h=Bp(n,d);var _=Bp(n,o);h&&_&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),s.removeAllRanges(),d>o?(s.addRange(e),s.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var g1=gn&&"documentMode"in document&&11>=document.documentMode,os=null,Kh=null,Il=null,Yh=!1;function Fp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yh||os==null||os!==Za(o)||(o=os,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Il&&Vl(Il,o)||(Il=o,o=ic(Kh,"onSelect"),0<o.length&&(n=new ts("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=os)))}function ma(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var us={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Xh={},Gp={};gn&&(Gp=document.createElement("div").style,"AnimationEvent"in window||(delete us.animationend.animation,delete us.animationiteration.animation,delete us.animationstart.animation),"TransitionEvent"in window||delete us.transitionend.transition);function pa(e){if(Xh[e])return Xh[e];if(!us[e])return e;var n=us[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Gp)return Xh[e]=n[s];return e}var $p=pa("animationend"),Qp=pa("animationiteration"),Kp=pa("animationstart"),y1=pa("transitionrun"),v1=pa("transitionstart"),_1=pa("transitioncancel"),Yp=pa("transitionend"),Xp=new Map,Zp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Fn(e,n){Xp.set(e,n),pn(n,[e])}var In=[],cs=0,Zh=0;function Au(){for(var e=cs,n=Zh=cs=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var d=In[n];if(In[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Wp(s,h,d)}}function bu(e,n,s,o){In[cs++]=e,In[cs++]=n,In[cs++]=s,In[cs++]=o,Zh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,n,s,o){return bu(e,n,s,o),Ru(e)}function gi(e,n){return bu(e,null,null,n),Ru(e)}function Wp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&n!==null&&e.tag===3&&(d=e.stateNode,h=31-nn(s),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[n]:e.push(n),n.lane=s|536870912)}function Ru(e){if(50<no)throw no=0,ad=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var hs={},Jp=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=Jp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:yt(n)},Jp.set(e,n),n)}return{value:e,source:n,stack:yt(n)}}var fs=[],ds=0,wu=null,Cu=0,Nn=[],Mn=0,ga=null,Nr=1,Mr="";function ya(e,n){fs[ds++]=Cu,fs[ds++]=wu,wu=e,Cu=n}function tg(e,n,s){Nn[Mn++]=Nr,Nn[Mn++]=Mr,Nn[Mn++]=ga,ga=e;var o=Nr;e=Mr;var h=32-nn(o)-1;o&=~(1<<h),s+=1;var d=32-nn(n)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Nr=1<<32-nn(n)+h|s<<h|o,Mr=d+e}else Nr=1<<d|s<<h|o,Mr=e}function Jh(e){e.return!==null&&(ya(e,1),tg(e,1,0))}function tf(e){for(;e===wu;)wu=fs[--ds],fs[ds]=null,Cu=fs[--ds],fs[ds]=null;for(;e===ga;)ga=Nn[--Mn],Nn[Mn]=null,Mr=Nn[--Mn],Nn[Mn]=null,Nr=Nn[--Mn],Nn[Mn]=null}var sn=null,Fe=null,Ft=!1,Gn=null,lr=!1,ef=Error(a(519));function va(e){var n=Error(a(418,""));throw Ml(On(n,e)),ef}function eg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ue]=e,n[Re]=o,s){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(s=0;s<io.length;s++)Ut(io[s],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":Ut("invalid",n),aa(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ia(n);break;case"select":Ut("invalid",n);break;case"textarea":Ut("invalid",n),mi(n,o.value,o.defaultValue,o.children),ia(n)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||cv(n.textContent,s)?(o.popover!=null&&(Ut("beforetoggle",n),Ut("toggle",n)),o.onScroll!=null&&Ut("scroll",n),o.onScrollEnd!=null&&Ut("scrollend",n),o.onClick!=null&&(n.onclick=ac),n=!0):n=!1,n||va(e)}function ng(e){for(sn=e.return;sn;)switch(sn.tag){case 3:case 27:lr=!0;return;case 5:case 13:lr=!1;return;default:sn=sn.return}}function Ol(e){if(e!==sn)return!1;if(!Ft)return ng(e),Ft=!0,!1;var n=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Sd(e.type,e.memoizedProps)),s=!s),s&&(n=!0),n&&Fe&&va(e),ng(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Fe=Qn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Fe=null}}else Fe=sn?Qn(e.stateNode.nextSibling):null;return!0}function Nl(){Fe=sn=null,Ft=!1}function Ml(e){Gn===null?Gn=[e]:Gn.push(e)}var Ul=Error(a(460)),rg=Error(a(474)),nf={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function ag(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Du,Du),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ul?Error(a(483)):e;default:if(typeof n.status=="string")n.then(Du,Du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===Ul?Error(a(483)):e}throw Ll=n,Ul}}var Ll=null;function sg(){if(Ll===null)throw Error(a(459));var e=Ll;return Ll=null,e}var ms=null,Pl=0;function xu(e){var n=Pl;return Pl+=1,ms===null&&(ms=[]),ag(ms,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===u?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lg(e){var n=e._init;return n(e._payload)}function og(e){function n(z,M){if(e){var H=z.deletions;H===null?(z.deletions=[M],z.flags|=16):H.push(M)}}function s(z,M){if(!e)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function o(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Di(z,M),z.index=0,z.sibling=null,z}function d(z,M,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<M?(z.flags|=33554434,M):H):(z.flags|=33554434,M)):(z.flags|=1048576,M)}function _(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,M,H,Z){return M===null||M.tag!==6?(M=Zf(H,z.mode,Z),M.return=z,M):(M=h(M,H),M.return=z,M)}function C(z,M,H,Z){var ft=H.type;return ft===p?Y(z,M,H.props.children,Z,H.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===J&&lg(ft)===M.type)?(M=h(M,H.props),zl(M,H),M.return=z,M):(M=Ku(H.type,H.key,H.props,null,z.mode,Z),zl(M,H),M.return=z,M)}function L(z,M,H,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=Wf(H,z.mode,Z),M.return=z,M):(M=h(M,H.children||[]),M.return=z,M)}function Y(z,M,H,Z,ft){return M===null||M.tag!==7?(M=Da(H,z.mode,Z,ft),M.return=z,M):(M=h(M,H),M.return=z,M)}function tt(z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zf(""+M,z.mode,H),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return H=Ku(M.type,M.key,M.props,null,z.mode,H),zl(H,M),H.return=z,H;case m:return M=Wf(M,z.mode,H),M.return=z,M;case J:var Z=M._init;return M=Z(M._payload),tt(z,M,H)}if(lt(M)||ct(M))return M=Da(M,z.mode,H,null),M.return=z,M;if(typeof M.then=="function")return tt(z,xu(M),H);if(M.$$typeof===D)return tt(z,Gu(z,M),H);Vu(z,M)}return null}function F(z,M,H,Z){var ft=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ft!==null?null:T(z,M,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ft?C(z,M,H,Z):null;case m:return H.key===ft?L(z,M,H,Z):null;case J:return ft=H._init,H=ft(H._payload),F(z,M,H,Z)}if(lt(H)||ct(H))return ft!==null?null:Y(z,M,H,Z,null);if(typeof H.then=="function")return F(z,M,xu(H),Z);if(H.$$typeof===D)return F(z,M,Gu(z,H),Z);Vu(z,H)}return null}function Q(z,M,H,Z,ft){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(M,z,""+Z,ft);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return z=z.get(Z.key===null?H:Z.key)||null,C(M,z,Z,ft);case m:return z=z.get(Z.key===null?H:Z.key)||null,L(M,z,Z,ft);case J:var Ot=Z._init;return Z=Ot(Z._payload),Q(z,M,H,Z,ft)}if(lt(Z)||ct(Z))return z=z.get(H)||null,Y(M,z,Z,ft,null);if(typeof Z.then=="function")return Q(z,M,H,xu(Z),ft);if(Z.$$typeof===D)return Q(z,M,H,Gu(M,Z),ft);Vu(M,Z)}return null}function dt(z,M,H,Z){for(var ft=null,Ot=null,pt=M,_t=M=0,je=null;pt!==null&&_t<H.length;_t++){pt.index>_t?(je=pt,pt=null):je=pt.sibling;var Gt=F(z,pt,H[_t],Z);if(Gt===null){pt===null&&(pt=je);break}e&&pt&&Gt.alternate===null&&n(z,pt),M=d(Gt,M,_t),Ot===null?ft=Gt:Ot.sibling=Gt,Ot=Gt,pt=je}if(_t===H.length)return s(z,pt),Ft&&ya(z,_t),ft;if(pt===null){for(;_t<H.length;_t++)pt=tt(z,H[_t],Z),pt!==null&&(M=d(pt,M,_t),Ot===null?ft=pt:Ot.sibling=pt,Ot=pt);return Ft&&ya(z,_t),ft}for(pt=o(pt);_t<H.length;_t++)je=Q(pt,z,_t,H[_t],Z),je!==null&&(e&&je.alternate!==null&&pt.delete(je.key===null?_t:je.key),M=d(je,M,_t),Ot===null?ft=je:Ot.sibling=je,Ot=je);return e&&pt.forEach(function(Ui){return n(z,Ui)}),Ft&&ya(z,_t),ft}function bt(z,M,H,Z){if(H==null)throw Error(a(151));for(var ft=null,Ot=null,pt=M,_t=M=0,je=null,Gt=H.next();pt!==null&&!Gt.done;_t++,Gt=H.next()){pt.index>_t?(je=pt,pt=null):je=pt.sibling;var Ui=F(z,pt,Gt.value,Z);if(Ui===null){pt===null&&(pt=je);break}e&&pt&&Ui.alternate===null&&n(z,pt),M=d(Ui,M,_t),Ot===null?ft=Ui:Ot.sibling=Ui,Ot=Ui,pt=je}if(Gt.done)return s(z,pt),Ft&&ya(z,_t),ft;if(pt===null){for(;!Gt.done;_t++,Gt=H.next())Gt=tt(z,Gt.value,Z),Gt!==null&&(M=d(Gt,M,_t),Ot===null?ft=Gt:Ot.sibling=Gt,Ot=Gt);return Ft&&ya(z,_t),ft}for(pt=o(pt);!Gt.done;_t++,Gt=H.next())Gt=Q(pt,z,_t,Gt.value,Z),Gt!==null&&(e&&Gt.alternate!==null&&pt.delete(Gt.key===null?_t:Gt.key),M=d(Gt,M,_t),Ot===null?ft=Gt:Ot.sibling=Gt,Ot=Gt);return e&&pt.forEach(function(NS){return n(z,NS)}),Ft&&ya(z,_t),ft}function fe(z,M,H,Z){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:t:{for(var ft=H.key;M!==null;){if(M.key===ft){if(ft=H.type,ft===p){if(M.tag===7){s(z,M.sibling),Z=h(M,H.props.children),Z.return=z,z=Z;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===J&&lg(ft)===M.type){s(z,M.sibling),Z=h(M,H.props),zl(Z,H),Z.return=z,z=Z;break t}s(z,M);break}else n(z,M);M=M.sibling}H.type===p?(Z=Da(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=Ku(H.type,H.key,H.props,null,z.mode,Z),zl(Z,H),Z.return=z,z=Z)}return _(z);case m:t:{for(ft=H.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){s(z,M.sibling),Z=h(M,H.children||[]),Z.return=z,z=Z;break t}else{s(z,M);break}else n(z,M);M=M.sibling}Z=Wf(H,z.mode,Z),Z.return=z,z=Z}return _(z);case J:return ft=H._init,H=ft(H._payload),fe(z,M,H,Z)}if(lt(H))return dt(z,M,H,Z);if(ct(H)){if(ft=ct(H),typeof ft!="function")throw Error(a(150));return H=ft.call(H),bt(z,M,H,Z)}if(typeof H.then=="function")return fe(z,M,xu(H),Z);if(H.$$typeof===D)return fe(z,M,Gu(z,H),Z);Vu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,M!==null&&M.tag===6?(s(z,M.sibling),Z=h(M,H),Z.return=z,z=Z):(s(z,M),Z=Zf(H,z.mode,Z),Z.return=z,z=Z),_(z)):s(z,M)}return function(z,M,H,Z){try{Pl=0;var ft=fe(z,M,H,Z);return ms=null,ft}catch(pt){if(pt===Ul)throw pt;var Ot=zn(29,pt,null,z.mode);return Ot.lanes=Z,Ot.return=z,Ot}finally{}}}var _a=og(!0),ug=og(!1),ps=It(null),Iu=It(0);function cg(e,n){e=Gr,qt(Iu,e),qt(ps,n),Gr=e|n.baseLanes}function rf(){qt(Iu,Gr),qt(ps,ps.current)}function af(){Gr=Iu.current,$t(ps),$t(Iu)}var Un=It(null),or=null;function yi(e){var n=e.alternate;qt(De,De.current&1),qt(Un,e),or===null&&(n===null||ps.current!==null||n.memoizedState!==null)&&(or=e)}function hg(e){if(e.tag===22){if(qt(De,De.current),qt(Un,e),or===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(or=e)}}else vi()}function vi(){qt(De,De.current),qt(Un,Un.current)}function Ur(e){$t(Un),or===e&&(or=null),$t(De)}var De=It(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var E1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},T1=i.unstable_scheduleCallback,S1=i.unstable_NormalPriority,xe={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new E1,data:new Map,refCount:0}}function kl(e){e.refCount--,e.refCount===0&&T1(S1,function(){e.controller.abort()})}var jl=null,lf=0,gs=0,ys=null;function A1(e,n){if(jl===null){var s=jl=[];lf=0,gs=dd(),ys={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lf++,n.then(fg,fg),n}function fg(){if(--lf===0&&jl!==null){ys!==null&&(ys.status="fulfilled");var e=jl;jl=null,gs=0,ys=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function b1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var dg=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&A1(e,n),dg!==null&&dg(e,n)};var Ea=It(null);function of(){var e=Ea.current;return e!==null?e:Jt.pooledCache}function Nu(e,n){n===null?qt(Ea,Ea.current):qt(Ea,n.pool)}function mg(){var e=of();return e===null?null:{parent:xe._currentValue,pool:e}}var _i=0,Vt=null,Xt=null,_e=null,Mu=!1,vs=!1,Ta=!1,Uu=0,Bl=0,_s=null,R1=0;function ge(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function cf(e,n,s,o,h,d){return _i=d,Vt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?Sa:Ei,Ta=!1,d=s(o,h),Ta=!1,vs&&(d=gg(n,s,o,h)),pg(e),d}function pg(e){b.H=ur;var n=Xt!==null&&Xt.next!==null;if(_i=0,_e=Xt=Vt=null,Mu=!1,Bl=0,_s=null,n)throw Error(a(300));e===null||ze||(e=e.dependencies,e!==null&&Fu(e)&&(ze=!0))}function gg(e,n,s,o){Vt=e;var h=0;do{if(vs&&(_s=null),Bl=0,vs=!1,25<=h)throw Error(a(301));if(h+=1,_e=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Aa,d=n(s,o)}while(vs);return d}function w1(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?ql(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Vt.flags|=1024),n}function hf(){var e=Uu!==0;return Uu=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}_i=0,_e=Xt=Vt=null,vs=!1,Bl=Uu=0,_s=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Vt.memoizedState=_e=e:_e=_e.next=e,_e}function Ee(){if(Xt===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=_e===null?Vt.memoizedState:_e.next;if(n!==null)_e=n,Xt=e;else{if(e===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_e===null?Vt.memoizedState=_e=e:_e=_e.next=e}return _e}var Lu;Lu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ql(e){var n=Bl;return Bl+=1,_s===null&&(_s=[]),e=ag(_s,e,n),n=Vt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?Sa:Ei),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ql(e);if(e.$$typeof===D)return Ze(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=Vt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Vt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Lu(),Vt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=ot;return n.index++,s}function Lr(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=Ee();return pf(n,Xt,e)}function pf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=_=null,C=null,L=n,Y=!1;do{var tt=L.lane&-536870913;if(tt!==L.lane?(kt&tt)===tt:(_i&tt)===tt){var F=L.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),tt===gs&&(Y=!0);else if((_i&F)===F){L=L.next,F===gs&&(Y=!0);continue}else tt={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=tt,_=d):C=C.next=tt,Vt.lanes|=F,xi|=F;tt=L.action,Ta&&s(d,tt),d=L.hasEagerState?L.eagerState:s(d,tt)}else F={lane:tt,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(T=C=F,_=d):C=C.next=F,Vt.lanes|=tt,xi|=tt;L=L.next}while(L!==null&&L!==n);if(C===null?_=d:C.next=T,!yn(d,e.memoizedState)&&(ze=!0,Y&&(s=ys,s!==null)))throw s;e.memoizedState=d,e.baseState=_,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=Ee(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);yn(d,n.memoizedState)||(ze=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function yg(e,n,s){var o=Vt,h=Ee(),d=Ft;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!yn((Xt||h).memoizedState,s);if(_&&(h.memoizedState=s,ze=!0),h=h.queue,_f(Eg.bind(null,o,h,e),[e]),h.getSnapshot!==n||_||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,Es(9,_g.bind(null,o,h,s,n),{destroy:void 0},null),Jt===null)throw Error(a(349));d||(_i&60)!==0||vg(o,n,s)}return s}function vg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Vt.updateQueue,n===null?(n=Lu(),Vt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function _g(e,n,s,o){n.value=s,n.getSnapshot=o,Tg(n)&&Sg(e)}function Eg(e,n,s){return s(function(){Tg(n)&&Sg(e)})}function Tg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function Sg(e){var n=gi(e,2);n!==null&&ln(n,e,2)}function yf(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Ta){Xn(!0);try{s()}finally{Xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},n}function Ag(e,n,s,o){return e.baseState=s,pf(e,Xt,typeof o=="function"?o:Lr)}function C1(e,n,s,o,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,bg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function bg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=b.T,_={};b.T=_;try{var T=s(h,o),C=b.S;C!==null&&C(_,T),Rg(e,n,T)}catch(L){vf(e,n,L)}finally{b.T=d}}else try{d=s(h,o),Rg(e,n,d)}catch(L){vf(e,n,L)}}function Rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){wg(e,n,o)},function(o){return vf(e,n,o)}):wg(e,n,s)}function wg(e,n,s){n.status="fulfilled",n.value=s,Cg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,bg(e,s)))}function vf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Cg(n),n=n.next;while(n!==o)}e.action=null}function Cg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Dg(e,n){return n}function xg(e,n){if(Ft){var s=Jt.formState;if(s!==null){t:{var o=Vt;if(Ft){if(Fe){e:{for(var h=Fe,d=lr;h.nodeType!==8;){if(!d){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Fe=Qn(h.nextSibling),o=h.data==="F!";break t}}va(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},s.queue=o,s=Qg.bind(null,Vt,o),o.dispatch=s,o=yf(!1),d=bf.bind(null,Vt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=C1.bind(null,Vt,h,d,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Vg(e){var n=Ee();return Ig(n,Xt,e)}function Ig(e,n,s){n=pf(e,n,Dg)[0],e=zu(Lr)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ql(n):n;var o=Ee(),h=o.queue,d=h.dispatch;return s!==o.memoizedState&&(Vt.flags|=2048,Es(9,D1.bind(null,h,s),{destroy:void 0},null)),[n,d,e]}function D1(e,n){e.action=n}function Og(e){var n=Ee(),s=Xt;if(s!==null)return Ig(n,s,e);Ee(),n=n.memoizedState,s=Ee();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Es(e,n,s,o){return e={tag:e,create:n,inst:s,deps:o,next:null},n=Vt.updateQueue,n===null&&(n=Lu(),Vt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Ng(){return Ee().memoizedState}function ku(e,n,s,o){var h=cn();Vt.flags|=e,h.memoizedState=Es(1|n,s,{destroy:void 0},o===void 0?null:o)}function ju(e,n,s,o){var h=Ee();o=o===void 0?null:o;var d=h.memoizedState.inst;Xt!==null&&o!==null&&uf(o,Xt.memoizedState.deps)?h.memoizedState=Es(n,s,d,o):(Vt.flags|=e,h.memoizedState=Es(1|n,s,d,o))}function Mg(e,n){ku(8390656,8,e,n)}function _f(e,n){ju(2048,8,e,n)}function Ug(e,n){return ju(4,2,e,n)}function Lg(e,n){return ju(4,4,e,n)}function Pg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zg(e,n,s){s=s!=null?s.concat([e]):null,ju(4,4,Pg.bind(null,n,e),s)}function Ef(){}function kg(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&uf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function jg(e,n){var s=Ee();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&uf(n,o[1]))return o[0];if(o=e(),Ta){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[o,n],o}function Tf(e,n,s){return s===void 0||(_i&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=qy(),Vt.lanes|=e,xi|=e,s)}function Bg(e,n,s,o){return yn(s,n)?s:ps.current!==null?(e=Tf(e,s,o),yn(e,n)||(ze=!0),e):(_i&42)===0?(ze=!0,e.memoizedState=s):(e=qy(),Vt.lanes|=e,xi|=e,n)}function qg(e,n,s,o,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,bf(e,!1,n,s);try{var C=h(),L=b.S;if(L!==null&&L(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=b1(C,o);Hl(e,n,Y,Tn(e))}else Hl(e,n,o,Tn(e))}catch(tt){Hl(e,n,{then:function(){},status:"rejected",reason:tt},Tn())}finally{st.p=d,b.T=_}}function x1(){}function Sf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Hg(e).queue;qg(e,h,n,St,s===null?x1:function(){return Fg(e),s(o)})}function Hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:St},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fg(e){var n=Hg(e).next.queue;Hl(e,n,{},Tn())}function Af(){return Ze(uo)}function Gg(){return Ee().memoizedState}function $g(){return Ee().memoizedState}function V1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ai(s);var o=bi(n,e,s);o!==null&&(ln(o,n,s),$l(o,n,s)),n={cache:sf()},e.payload=n;return}n=n.return}}function I1(e,n,s){var o=Tn();s={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Kg(n,s):(s=Wh(e,n,s,o),s!==null&&(ln(s,e,o),Yg(s,n,o)))}function Qg(e,n,s){var o=Tn();Hl(e,n,s,o)}function Hl(e,n,s,o){var h={lane:o,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Kg(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,s);if(h.hasEagerState=!0,h.eagerState=T,yn(T,_))return bu(e,n,h,0),Jt===null&&Au(),!1}catch{}finally{}if(s=Wh(e,n,h,o),s!==null)return ln(s,e,o),Yg(s,n,o),!0}return!1}function bf(e,n,s,o){if(o={lane:2,revertLane:dd(),action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Wh(e,s,o,2),n!==null&&ln(n,e,2)}function Bu(e){var n=e.alternate;return e===Vt||n!==null&&n===Vt}function Kg(e,n){vs=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Yg(e,n,s){if((s&4194176)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,si(e,s)}}var ur={readContext:Ze,use:Pu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge};ur.useCacheRefresh=ge,ur.useMemoCache=ge,ur.useHostTransitionStatus=ge,ur.useFormState=ge,ur.useActionState=ge,ur.useOptimistic=ge;var Sa={readContext:Ze,use:Pu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ze,useEffect:Mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ku(4194308,4,Pg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ku(4194308,4,e,n)},useInsertionEffect:function(e,n){ku(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Ta){Xn(!0);try{e()}finally{Xn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Ta){Xn(!0);try{s(n)}finally{Xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=I1.bind(null,Vt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=Qg.bind(null,Vt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=cn();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=qg.bind(null,Vt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Vt,h=cn();if(Ft){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(kt&60)!==0||vg(o,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,Mg(Eg.bind(null,o,d,e),[e]),o.flags|=2048,Es(9,_g.bind(null,o,d,s,n),{destroy:void 0},null),s},useId:function(){var e=cn(),n=Jt.identifierPrefix;if(Ft){var s=Mr,o=Nr;s=(o&~(1<<32-nn(o)-1)).toString(32)+s,n=":"+n+"R"+s,s=Uu++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=R1++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return cn().memoizedState=V1.bind(null,Vt)}};Sa.useMemoCache=mf,Sa.useHostTransitionStatus=Af,Sa.useFormState=xg,Sa.useActionState=xg,Sa.useOptimistic=function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bf.bind(null,Vt,!0,s),s.dispatch=n,[e,n]};var Ei={readContext:Ze,use:Pu,useCallback:kg,useContext:Ze,useEffect:_f,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:Lg,useMemo:jg,useReducer:zu,useRef:Ng,useState:function(){return zu(Lr)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=Ee();return Bg(s,Xt.memoizedState,e,n)},useTransition:function(){var e=zu(Lr)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:yg,useId:Gg};Ei.useCacheRefresh=$g,Ei.useMemoCache=mf,Ei.useHostTransitionStatus=Af,Ei.useFormState=Vg,Ei.useActionState=Vg,Ei.useOptimistic=function(e,n){var s=Ee();return Ag(s,Xt,e,n)};var Aa={readContext:Ze,use:Pu,useCallback:kg,useContext:Ze,useEffect:_f,useImperativeHandle:zg,useInsertionEffect:Ug,useLayoutEffect:Lg,useMemo:jg,useReducer:gf,useRef:Ng,useState:function(){return gf(Lr)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=Ee();return Xt===null?Tf(s,e,n):Bg(s,Xt.memoizedState,e,n)},useTransition:function(){var e=gf(Lr)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:ql(e),n]},useSyncExternalStore:yg,useId:Gg};Aa.useCacheRefresh=$g,Aa.useMemoCache=mf,Aa.useHostTransitionStatus=Af,Aa.useFormState=Og,Aa.useActionState=Og,Aa.useOptimistic=function(e,n){var s=Ee();return Xt!==null?Ag(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])};function Rf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:I({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var wf={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ai(o);h.payload=n,s!=null&&(h.callback=s),n=bi(e,h,o),n!==null&&(ln(n,e,o),$l(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ai(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bi(e,h,o),n!==null&&(ln(n,e,o),$l(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Ai(s);o.tag=2,n!=null&&(o.callback=n),n=bi(e,o,s),n!==null&&(ln(n,e,s),$l(n,e,s))}};function Xg(e,n,s,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,o)||!Vl(h,d):!0}function Zg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&wf.enqueueReplaceState(n,n.state,null)}function ba(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=I({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Wg(e){qu(e)}function Jg(e){console.error(e)}function ty(e){qu(e)}function Hu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ey(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=Ai(s),s.tag=3,s.payload={element:null},s.callback=function(){Hu(e,n)},s}function ny(e){return e=Ai(e),e.tag=3,e}function ry(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){ey(n,s,o)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){ey(n,s,o),typeof h!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function O1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Gl(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 13:return or===null?od():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===nf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),cd(e,o,h)),!1;case 22:return s.flags|=65536,o===nf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),cd(e,o,h)),!1}throw Error(a(435,s.tag))}return cd(e,o,h),od(),!1}if(Ft)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(a(422),{cause:o}),Ml(On(e,s)))):(o!==ef&&(n=Error(a(423),{cause:o}),Ml(On(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,s),h=Cf(e.stateNode,o,h),qf(e,h),he!==4&&(he=2)),!1;var d=Error(a(520),{cause:o});if(d=On(d,s),to===null?to=[d]:to.push(d),he!==4&&(he=2),n===null)return!0;o=On(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,o,e),qf(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vi===null||!Vi.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ny(h),ry(h,e,s,o),qf(s,h),!1}s=s.return}while(s!==null);return!1}var iy=Error(a(461)),ze=!1;function Ge(e,n,s,o){n.child=e===null?ug(n,null,s,o):_a(n,e.child,s,o)}function ay(e,n,s,o,h){s=s.render;var d=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return wa(n),o=cf(e,n,s,_,d,h),T=hf(),e!==null&&!ze?(ff(e,n,h),Pr(e,n,h)):(Ft&&T&&Jh(n),n.flags|=1,Ge(e,n,o,h),n.child)}function sy(e,n,s,o,h){if(e===null){var d=s.type;return typeof d=="function"&&!Xf(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,ly(e,n,d,o,h)):(e=Ku(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Lf(e,h)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(_,o)&&e.ref===n.ref)return Pr(e,n,h)}return n.flags|=1,e=Di(d,o),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,s,o,h){if(e!==null){var d=e.memoizedProps;if(Vl(d,o)&&e.ref===n.ref)if(ze=!1,n.pendingProps=o=d,Lf(e,h))(e.flags&131072)!==0&&(ze=!0);else return n.lanes=e.lanes,Pr(e,n,h)}return Df(e,n,s,o,h)}function oy(e,n,s){var o=n.pendingProps,h=o.children,d=(n.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Fl(e,n),o.mode==="hidden"||d){if((n.flags&128)!==0){if(o=_!==null?_.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return uy(e,n,o,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,_!==null?_.cachePool:null),_!==null?cg(n,_):rf(),hg(n);else return n.lanes=n.childLanes=536870912,uy(e,n,_!==null?_.baseLanes|s:s,s)}else _!==null?(Nu(n,_.cachePool),cg(n,_),vi(),n.memoizedState=null):(e!==null&&Nu(n,null),rf(),vi());return Ge(e,n,h,s),n.child}function uy(e,n,s,o){var h=of();return h=h===null?null:{parent:xe._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&Nu(n,null),rf(),hg(n),e!==null&&Gl(e,n,o,!0),null}function Fl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=2097664)}}function Df(e,n,s,o,h){return wa(n),s=cf(e,n,s,o,void 0,h),o=hf(),e!==null&&!ze?(ff(e,n,h),Pr(e,n,h)):(Ft&&o&&Jh(n),n.flags|=1,Ge(e,n,s,h),n.child)}function cy(e,n,s,o,h,d){return wa(n),n.updateQueue=null,s=gg(n,o,s,h),pg(e),o=hf(),e!==null&&!ze?(ff(e,n,d),Pr(e,n,d)):(Ft&&o&&Jh(n),n.flags|=1,Ge(e,n,s,d),n.child)}function hy(e,n,s,o,h){if(wa(n),n.stateNode===null){var d=hs,_=s.contextType;typeof _=="object"&&_!==null&&(d=Ze(_)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},jf(n),_=s.contextType,d.context=typeof _=="object"&&_!==null?Ze(_):hs,d.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(Rf(n,s,_,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&wf.enqueueReplaceState(d,d.state,null),Kl(n,o,d,h),Ql(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,C=ba(s,T);d.props=C;var L=d.context,Y=s.contextType;_=hs,typeof Y=="object"&&Y!==null&&(_=Ze(Y));var tt=s.getDerivedStateFromProps;Y=typeof tt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==_)&&Zg(n,d,o,_),Si=!1;var F=n.memoizedState;d.state=F,Kl(n,o,d,h),Ql(),L=n.memoizedState,T||F!==L||Si?(typeof tt=="function"&&(Rf(n,s,tt,o),L=n.memoizedState),(C=Si||Xg(n,s,C,o,F,L,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),d.props=o,d.state=L,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Bf(e,n),_=n.memoizedProps,Y=ba(s,_),d.props=Y,tt=n.pendingProps,F=d.context,L=s.contextType,C=hs,typeof L=="object"&&L!==null&&(C=Ze(L)),T=s.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==tt||F!==C)&&Zg(n,d,o,C),Si=!1,F=n.memoizedState,d.state=F,Kl(n,o,d,h),Ql();var Q=n.memoizedState;_!==tt||F!==Q||Si||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof T=="function"&&(Rf(n,s,T,o),Q=n.memoizedState),(Y=Si||Xg(n,s,Y,o,F,Q,C)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Q,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Q),d.props=o,d.state=Q,d.context=C,o=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Fl(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=_a(n,e.child,null,h),n.child=_a(n,null,s,h)):Ge(e,n,s,h),n.memoizedState=d.state,e=n.child):e=Pr(e,n,h),e}function fy(e,n,s,o){return Nl(),n.flags|=256,Ge(e,n,s,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0};function Vf(e){return{baseLanes:e,cachePool:mg()}}function If(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=kn),e}function dy(e,n,s){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(h?yi(n):vi(),Ft){var T=Fe,C;if(C=T){t:{for(C=T,T=lr;C.nodeType!==8;){if(!T){T=null;break t}if(C=Qn(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(n.memoizedState={dehydrated:T,treeContext:ga!==null?{id:Nr,overflow:Mr}:null,retryLane:536870912},C=zn(18,null,null,0),C.stateNode=T,C.return=n,n.child=C,sn=n,Fe=null,C=!0):C=!1}C||va(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ur(n)}return T=o.children,o=o.fallback,h?(vi(),h=n.mode,T=Nf({mode:"hidden",children:T},h),o=Da(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=Vf(s),h.childLanes=If(e,_,s),n.memoizedState=xf,o):(yi(n),Of(n,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(d)n.flags&256?(yi(n),n.flags&=-257,n=Mf(e,n,s)):n.memoizedState!==null?(vi(),n.child=e.child,n.flags|=128,n=null):(vi(),h=o.fallback,T=n.mode,o=Nf({mode:"visible",children:o.children},T),h=Da(h,T,s,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,_a(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=If(e,_,s),n.memoizedState=xf,n=h);else if(yi(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(a(419)),o.stack="",o.digest=_,Ml({value:o,source:null,stack:null}),n=Mf(e,n,s)}else if(ze||Gl(e,n,s,!1),_=(s&e.childLanes)!==0,ze||_){if(_=Jt,_!==null){if(o=s&-s,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(_.suspendedLanes|s))!==0?0:o,o!==0&&o!==C.retryLane)throw C.retryLane=o,gi(e,o),ln(_,e,o),iy}T.data==="$?"||od(),n=Mf(e,n,s)}else T.data==="$?"?(n.flags|=128,n.child=e.child,n=Q1.bind(null,e),T._reactRetry=n,n=null):(e=C.treeContext,Fe=Qn(T.nextSibling),sn=n,Ft=!0,Gn=null,lr=!1,e!==null&&(Nn[Mn++]=Nr,Nn[Mn++]=Mr,Nn[Mn++]=ga,Nr=e.id,Mr=e.overflow,ga=n),n=Of(n,o.children),n.flags|=4096);return n}return h?(vi(),h=o.fallback,T=n.mode,C=e.child,L=C.sibling,o=Di(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&31457280,L!==null?h=Di(L,h):(h=Da(h,T,s,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=Vf(s):(C=T.cachePool,C!==null?(L=xe._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=mg(),T={baseLanes:T.baseLanes|s,cachePool:C}),h.memoizedState=T,h.childLanes=If(e,_,s),n.memoizedState=xf,o):(yi(n),s=e.child,e=s.sibling,s=Di(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=s,n.memoizedState=null,s)}function Of(e,n){return n=Nf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Nf(e,n){return ky(e,n,0,null)}function Mf(e,n,s){return _a(n,e.child,null,s),e=Of(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function my(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),zf(e.return,n,s)}function Uf(e,n,s,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=s,d.tailMode=h)}function py(e,n,s){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(Ge(e,n,o.children,s),o=De.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,s,n);else if(e.tag===19)my(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(qt(De,o),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Uf(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(n,!0,s,null,d);break;case"together":Uf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pr(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),xi|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Gl(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Di(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Di(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function N1(e,n,s){switch(n.tag){case 3:ti(n,n.stateNode.containerInfo),Ti(n,xe,e.memoizedState.cache),Nl();break;case 27:case 5:ul(n);break;case 4:ti(n,n.stateNode.containerInfo);break;case 10:Ti(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(yi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?dy(e,n,s):(yi(n),e=Pr(e,n,s),e!==null?e.sibling:null);yi(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Gl(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return py(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),qt(De,De.current),o)break;return null;case 22:case 23:return n.lanes=0,oy(e,n,s);case 24:Ti(n,xe,e.memoizedState.cache)}return Pr(e,n,s)}function gy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ze=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return ze=!1,N1(e,n,s);ze=(e.flags&131072)!==0}else ze=!1,Ft&&(n.flags&1048576)!==0&&tg(n,Cu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Xf(o)?(e=ba(o,e),n.tag=1,n=hy(null,n,o,e,s)):(n.tag=0,n=Df(null,n,o,e,s));else{if(o!=null){if(h=o.$$typeof,h===N){n.tag=11,n=ay(null,n,o,e,s);break t}else if(h===$){n.tag=14,n=sy(null,n,o,e,s);break t}}throw n=w(o)||o,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=ba(o,n.pendingProps),hy(e,n,o,h,s);case 3:t:{if(ti(n,n.stateNode.containerInfo),e===null)throw Error(a(387));var d=n.pendingProps;h=n.memoizedState,o=h.element,Bf(e,n),Kl(n,d,null,s);var _=n.memoizedState;if(d=_.cache,Ti(n,xe,d),d!==h.cache&&kf(n,[xe],s,!0),Ql(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=fy(e,n,d,s);break t}else if(d!==o){o=On(Error(a(424)),n),Ml(o),n=fy(e,n,d,s);break t}else for(Fe=Qn(n.stateNode.containerInfo.firstChild),sn=n,Ft=!0,Gn=null,lr=!0,s=ug(n,null,d,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Nl(),d===o){n=Pr(e,n,s);break t}Ge(e,n,d,s)}n=n.child}return n;case 26:return Fl(e,n),e===null?(s=_v(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ft||(s=n.type,e=n.pendingProps,o=sc(bn.current).createElement(s),o[Ue]=n,o[Re]=e,$e(o,s,e),re(o),n.stateNode=o):n.memoizedState=_v(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ul(n),e===null&&Ft&&(o=n.stateNode=gv(n.type,n.pendingProps,bn.current),sn=n,lr=!0,Fe=Qn(o.firstChild)),o=n.pendingProps.children,e!==null||Ft?Ge(e,n,o,s):n.child=_a(n,null,o,s),Fl(e,n),n.child;case 5:return e===null&&Ft&&((h=o=Fe)&&(o=uS(o,n.type,n.pendingProps,lr),o!==null?(n.stateNode=o,sn=n,Fe=Qn(o.firstChild),lr=!1,h=!0):h=!1),h||va(n)),ul(n),h=n.type,d=n.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,Sd(h,d)?o=null:_!==null&&Sd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,w1,null,null,s),uo._currentValue=h),Fl(e,n),Ge(e,n,o,s),n.child;case 6:return e===null&&Ft&&((e=s=Fe)&&(s=cS(s,n.pendingProps,lr),s!==null?(n.stateNode=s,sn=n,Fe=null,e=!0):e=!1),e||va(n)),null;case 13:return dy(e,n,s);case 4:return ti(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=_a(n,null,o,s):Ge(e,n,o,s),n.child;case 11:return ay(e,n,n.type,n.pendingProps,s);case 7:return Ge(e,n,n.pendingProps,s),n.child;case 8:return Ge(e,n,n.pendingProps.children,s),n.child;case 12:return Ge(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ti(n,n.type,o.value),Ge(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,wa(n),h=Ze(h),o=o(h),n.flags|=1,Ge(e,n,o,s),n.child;case 14:return sy(e,n,n.type,n.pendingProps,s);case 15:return ly(e,n,n.type,n.pendingProps,s);case 19:return py(e,n,s);case 22:return oy(e,n,s);case 24:return wa(n),o=Ze(xe),e===null?(h=of(),h===null&&(h=Jt,d=sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:o,cache:h},jf(n),Ti(n,xe,h)):((e.lanes&s)!==0&&(Bf(e,n),Kl(n,null,null,s),Ql()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ti(n,xe,o)):(o=d.cache,Ti(n,xe,o),o!==h.cache&&kf(n,[xe],s,!0))),Ge(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Pf=It(null),Ra=null,zr=null;function Ti(e,n,s){qt(Pf,n._currentValue),n._currentValue=s}function kr(e){e._currentValue=Pf.current,$t(Pf)}function zf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function kf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),zf(d.return,s,e),o||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),zf(_,s,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Gl(e,n,s,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=h.type;yn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Jr.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(uo):e=[uo])}h=h.return}e!==null&&kf(n,e,s,o),n.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wa(e){Ra=e,zr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ze(e){return yy(Ra,e)}function Gu(e,n){return Ra===null&&wa(e),yy(e,n)}function yy(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zr===null){if(e===null)throw Error(a(308));zr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zr=zr.next=n;return s}var Si=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ae&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Wp(e,null,s),n}return bu(e,o,n,s),Ru(e)}function $l(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,si(e,s)}}function qf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Hf=!1;function Ql(){if(Hf){var e=ys;if(e!==null)throw e}}function Kl(e,n,s,o){Hf=!1;var h=e.updateQueue;Si=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,L=C.next;C.next=null,_===null?d=L:_.next=L,_=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=L:T.next=L,Y.lastBaseUpdate=C))}if(d!==null){var tt=h.baseState;_=0,Y=L=C=null,T=d;do{var F=T.lane&-536870913,Q=F!==T.lane;if(Q?(kt&F)===F:(o&F)===F){F!==0&&F===gs&&(Hf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var dt=e,bt=T;F=n;var fe=s;switch(bt.tag){case 1:if(dt=bt.payload,typeof dt=="function"){tt=dt.call(fe,tt,F);break t}tt=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=bt.payload,F=typeof dt=="function"?dt.call(fe,tt,F):dt,F==null)break t;tt=I({},tt,F);break t;case 2:Si=!0}}F=T.callback,F!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(L=Y=Q,C=tt):Y=Y.next=Q,_|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(C=tt),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),xi|=_,e.lanes=_,e.memoizedState=tt}}function vy(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function _y(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)vy(s[e],n)}function Yl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var d=s.create,_=s.inst;o=d(),_.destroy=o}s=s.next}while(s!==h)}}catch(T){Wt(n,n.return,T)}}function Ri(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var C=s;try{T()}catch(L){Wt(h,C,L)}}}o=o.next}while(o!==d)}}catch(L){Wt(n,n.return,L)}}function Ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{_y(n,s)}catch(o){Wt(e,e.return,o)}}}function Ty(e,n,s){s.props=ba(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function Ca(e,n){try{var s=e.ref;if(s!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof s=="function"?e.refCleanup=s(h):s.current=h}}catch(d){Wt(e,n,d)}}function vn(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function Sy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Ay(e,n,s){try{var o=e.stateNode;iS(o,e.type,s,n),o[Re]=n}catch(h){Wt(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ac));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function $u(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}var jr=!1,ce=!1,$f=!1,Ry=typeof WeakSet=="function"?WeakSet:Set,ke=null,wy=!1;function M1(e,n){if(e=e.containerInfo,Ed=fc,e=Hp(e),Qh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var _=0,T=-1,C=-1,L=0,Y=0,tt=e,F=null;e:for(;;){for(var Q;tt!==s||h!==0&&tt.nodeType!==3||(T=_+h),tt!==d||o!==0&&tt.nodeType!==3||(C=_+o),tt.nodeType===3&&(_+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)F=tt,tt=Q;for(;;){if(tt===e)break e;if(F===s&&++L===h&&(T=_),F===d&&++Y===o&&(C=_),(Q=tt.nextSibling)!==null)break;tt=F,F=tt.parentNode}tt=Q}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Td={focusedElem:e,selectionRange:s},fc=!1,ke=n;ke!==null;)if(n=ke,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ke=e;else for(;ke!==null;){switch(n=ke,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var dt=ba(s.type,h,s.elementType===s.type);e=o.getSnapshotBeforeUpdate(dt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(bt){Wt(s,s.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,ke=e;break}ke=n.return}return dt=wy,wy=!1,dt}function Cy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qr(e,s),o&4&&Yl(5,s);break;case 1:if(qr(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(T){Wt(s,s.return,T)}else{var h=ba(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Wt(s,s.return,T)}}o&64&&Ey(s),o&512&&Ca(s,s.return);break;case 3:if(qr(e,s),o&64&&(o=s.updateQueue,o!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{_y(o,e)}catch(T){Wt(s,s.return,T)}}break;case 26:qr(e,s),o&512&&Ca(s,s.return);break;case 27:case 5:qr(e,s),n===null&&o&4&&Sy(s),o&512&&Ca(s,s.return);break;case 12:qr(e,s);break;case 13:qr(e,s),o&4&&Vy(e,s);break;case 22:if(h=s.memoizedState!==null||jr,!h){n=n!==null&&n.memoizedState!==null||ce;var d=jr,_=ce;jr=h,(ce=n)&&!_?wi(e,s,(s.subtreeFlags&8772)!==0):qr(e,s),jr=d,ce=_}o&512&&(s.memoizedProps.mode==="manual"?Ca(s,s.return):vn(s,s.return));break;default:qr(e,s)}}function Dy(e){var n=e.alternate;n!==null&&(e.alternate=null,Dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ra(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,_n=!1;function Br(e,n,s){for(s=s.child;s!==null;)xy(e,n,s),s=s.sibling}function xy(e,n,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ei,s)}catch{}switch(s.tag){case 26:ce||vn(s,n),Br(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ce||vn(s,n);var o=Te,h=_n;for(Te=s.stateNode,Br(e,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);ra(s),Te=o,_n=h;break;case 5:ce||vn(s,n);case 6:h=Te;var d=_n;if(Te=null,Br(e,n,s),Te=h,_n=d,Te!==null)if(_n)try{e=Te,o=s.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(_){Wt(s,n,_)}else try{Te.removeChild(s.stateNode)}catch(_){Wt(s,n,_)}break;case 18:Te!==null&&(_n?(n=Te,s=s.stateNode,n.nodeType===8?bd(n.parentNode,s):n.nodeType===1&&bd(n,s),mo(n)):bd(Te,s.stateNode));break;case 4:o=Te,h=_n,Te=s.stateNode.containerInfo,_n=!0,Br(e,n,s),Te=o,_n=h;break;case 0:case 11:case 14:case 15:ce||Ri(2,s,n),ce||Ri(4,s,n),Br(e,n,s);break;case 1:ce||(vn(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ty(s,n,o)),Br(e,n,s);break;case 21:Br(e,n,s);break;case 22:ce||vn(s,n),ce=(o=ce)||s.memoizedState!==null,Br(e,n,s),ce=o;break;default:Br(e,n,s)}}function Vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mo(e)}catch(s){Wt(n,n.return,s)}}function U1(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ry),n;default:throw Error(a(435,e.tag))}}function Qf(e,n){var s=U1(e);n.forEach(function(o){var h=K1.bind(null,e,o);s.has(o)||(s.add(o),o.then(h,h))})}function Ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],d=e,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:Te=T.stateNode,_n=!1;break t;case 3:Te=T.stateNode.containerInfo,_n=!0;break t;case 4:Te=T.stateNode.containerInfo,_n=!0;break t}T=T.return}if(Te===null)throw Error(a(160));xy(d,_,h),Te=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Iy(n,e),n=n.sibling}var $n=null;function Iy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ln(n,e),Pn(e),o&4&&(Ri(3,e,e.return),Yl(3,e),Ri(5,e,e.return));break;case 1:Ln(n,e),Pn(e),o&512&&(ce||s===null||vn(s,s.return)),o&64&&jr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=$n;if(Ln(n,e),Pn(e),o&512&&(ce||s===null||vn(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[oi]||d[Ue]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),$e(d,o,s),d[Ue]=e,re(d),o=d;break t;case"link":var _=Sv("link","href",h).get(o+(s.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(o),$e(d,o,s),h.head.appendChild(d);break;case"meta":if(_=Sv("meta","content",h).get(o+(s.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(T,1);break e}}d=h.createElement(o),$e(d,o,s),h.head.appendChild(d);break;default:throw Error(a(468,o))}d[Ue]=e,re(d),o=d}e.stateNode=o}else Av(h,e.type,e.stateNode);else e.stateNode=Tv(h,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?Av(h,e.type,e.stateNode):Tv(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ay(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var L=C.nextSibling,Y=C.nodeName;C[oi]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=L}for(var tt=e.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);$e(h,tt,d),h[Ue]=e,h[Re]=d}catch(dt){Wt(e,e.return,dt)}}case 5:if(Ln(n,e),Pn(e),o&512&&(ce||s===null||vn(s,s.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(dt){Wt(e,e.return,dt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ay(e,h,s!==null?s.memoizedProps:h)),o&1024&&($f=!0);break;case 6:if(Ln(n,e),Pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(dt){Wt(e,e.return,dt)}}break;case 3:if(uc=null,h=$n,$n=lc(n.containerInfo),Ln(n,e),$n=h,Pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{mo(n.containerInfo)}catch(dt){Wt(e,e.return,dt)}$f&&($f=!1,Oy(e));break;case 4:o=$n,$n=lc(e.stateNode.containerInfo),Ln(n,e),Pn(e),$n=o;break;case 12:Ln(n,e),Pn(e);break;case 13:Ln(n,e),Pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nd=on()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qf(e,o)));break;case 22:if(o&512&&(ce||s===null||vn(s,s.return)),C=e.memoizedState!==null,L=s!==null&&s.memoizedState!==null,Y=jr,tt=ce,jr=Y||C,ce=tt||L,Ln(n,e),ce=tt,jr=Y,Pn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=C?n._visibility&-2:n._visibility|1,C&&(n=jr||ce,s===null||L||n||Ts(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){L=s=n;try{if(h=L.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=L.stateNode,T=L.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(dt){Wt(L,L.return,dt)}}}else if(n.tag===6){if(s===null){L=n;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(dt){Wt(L,L.return,dt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Qf(e,s))));break;case 19:Ln(n,e),Pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Qf(e,o)));break;case 21:break;default:Ln(n,e),Pn(e)}}function Pn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(by(s)){var o=s;break t}s=s.return}throw Error(a(160))}switch(o.tag){case 27:var h=o.stateNode,d=Ff(e);$u(e,d,h);break;case 5:var _=o.stateNode;o.flags&32&&(Cn(_,""),o.flags&=-33);var T=Ff(e);$u(e,T,_);break;case 3:case 4:var C=o.stateNode.containerInfo,L=Ff(e);Gf(e,L,C);break;default:throw Error(a(161))}}}catch(Y){Wt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function Ts(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ri(4,n,n.return),Ts(n);break;case 1:vn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ty(n,n.return,s),Ts(n);break;case 26:case 27:case 5:vn(n,n.return),Ts(n);break;case 22:vn(n,n.return),n.memoizedState===null&&Ts(n);break;default:Ts(n)}e=e.sibling}}function wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:wi(h,d,s),Yl(4,d);break;case 1:if(wi(h,d,s),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Wt(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)vy(C[h],T)}catch(L){Wt(o,o.return,L)}}s&&_&64&&Ey(d),Ca(d,d.return);break;case 26:case 27:case 5:wi(h,d,s),s&&o===null&&_&4&&Sy(d),Ca(d,d.return);break;case 12:wi(h,d,s);break;case 13:wi(h,d,s),s&&_&4&&Vy(h,d);break;case 22:d.memoizedState===null&&wi(h,d,s),Ca(d,d.return);break;default:wi(h,d,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&kl(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e))}function Ci(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ny(e,n,s,o),n=n.sibling}function Ny(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ci(e,n,s,o),h&2048&&Yl(9,n);break;case 3:Ci(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&kl(e)));break;case 12:if(h&2048){Ci(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Wt(n,n.return,C)}}else Ci(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Ci(e,n,s,o):Xl(e,n):d._visibility&4?Ci(e,n,s,o):(d._visibility|=4,Ss(e,n,s,o,(n.subtreeFlags&10256)!==0)),h&2048&&Kf(n.alternate,n);break;case 24:Ci(e,n,s,o),h&2048&&Yf(n.alternate,n);break;default:Ci(e,n,s,o)}}function Ss(e,n,s,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,_=n,T=s,C=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:Ss(d,_,T,C,h),Yl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?Ss(d,_,T,C,h):Xl(d,_):(Y._visibility|=4,Ss(d,_,T,C,h)),h&&L&2048&&Kf(_.alternate,_);break;case 24:Ss(d,_,T,C,h),h&&L&2048&&Yf(_.alternate,_);break;default:Ss(d,_,T,C,h)}n=n.sibling}}function Xl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:Xl(s,o),h&2048&&Kf(o.alternate,o);break;case 24:Xl(s,o),h&2048&&Yf(o.alternate,o);break;default:Xl(s,o)}n=n.sibling}}var Zl=8192;function As(e){if(e.subtreeFlags&Zl)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 26:As(e),e.flags&Zl&&e.memoizedState!==null&&AS($n,e.memoizedState,e.memoizedProps);break;case 5:As(e);break;case 3:case 4:var n=$n;$n=lc(e.stateNode.containerInfo),As(e),$n=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zl,Zl=16777216,As(e),Zl=n):As(e));break;default:As(e)}}function Uy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,Py(o,e)}Uy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ly(e),e=e.sibling}function Ly(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&Ri(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,Qu(e)):Wl(e);break;default:Wl(e)}}function Qu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ke=o,Py(o,e)}Uy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ri(8,n,n.return),Qu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,Qu(n));break;default:Qu(n)}e=e.sibling}}function Py(e,n){for(;ke!==null;){var s=ke;switch(s.tag){case 0:case 11:case 15:Ri(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:kl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ke=o;else t:for(s=e;ke!==null;){o=ke;var h=o.sibling,d=o.return;if(Dy(o),o===s){ke=null;break t}if(h!==null){h.return=d,ke=h;break t}ke=d}}}function L1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,s,o){return new L1(e,n,s,o)}function Xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Di(e,n){var s=e.alternate;return s===null?(s=zn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function zy(e,n){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ku(e,n,s,o,h,d){var _=0;if(o=e,typeof e=="function")Xf(e)&&(_=1);else if(typeof e=="string")_=TS(e,s,ve.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return Da(s.children,h,d,n);case y:_=8,h|=24;break;case E:return e=zn(12,s,n,h|2),e.elementType=E,e.lanes=d,e;case q:return e=zn(13,s,n,h),e.elementType=q,e.lanes=d,e;case P:return e=zn(19,s,n,h),e.elementType=P,e.lanes=d,e;case X:return ky(s,h,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A:case D:_=10;break t;case R:_=9;break t;case N:_=11;break t;case $:_=14;break t;case J:_=16,o=null;break t}_=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=zn(_,s,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function Da(e,n,s,o){return e=zn(7,e,o,n),e.lanes=s,e}function ky(e,n,s,o){e=zn(22,e,o,n),e.elementType=X,e.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)===0){var _=gi(d,2);_!==null&&(h._pendingVisibility|=2,ln(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if((h._pendingVisibility&2)!==0){var _=gi(d,2);_!==null&&(h._pendingVisibility&=-3,ln(_,d,2))}}};return e.stateNode=h,e}function Zf(e,n,s){return e=zn(6,e,null,n),e.lanes=s,e}function Wf(e,n,s){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hr(e){e.flags|=4}function jy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bv(n)){if(n=Un.current,n!==null&&((kt&4194176)===kt?or!==null:(kt&62914560)!==kt&&(kt&536870912)===0||n!==or))throw Ll=nf,rg;e.flags|=8192}}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ii():536870912,e.lanes|=n,Rs|=n)}function Jl(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function P1(e,n,s){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),kr(xe),Sr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ol(n)?Hr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gn!==null&&(sd(Gn),Gn=null))),ie(n),null;case 26:return s=n.memoizedState,e===null?(Hr(n),s!==null?(ie(n),jy(n,s)):(ie(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Hr(n),ie(n),jy(n,s)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&Hr(n),ie(n),n.flags&=-16777217),null;case 27:Fa(n),s=bn.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=ve.current,Ol(n)?eg(n):(e=gv(h,o,s),n.stateNode=e,Hr(n))}return ie(n),null;case 5:if(Fa(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(e=ve.current,Ol(n))eg(n);else{switch(h=sc(bn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(s,{is:o.is}):h.createElement(s)}}e[Ue]=n,e[Re]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch($e(e,s,o),s){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Hr(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Hr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bn.current,Ol(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=sn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ue]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||cv(e.nodeValue,s)),e||va(n)}else e=sc(e).createTextNode(o),e[Ue]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ol(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ue]=n}else Nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else Gn!==null&&(sd(Gn),Gn=null),h=!0;if(!h)return n.flags&256?(Ur(n),n):(Ur(n),null)}if(Ur(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=o!==null,e=e!==null&&e.memoizedState!==null,s){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Yu(n,n.updateQueue),ie(n),null;case 4:return Sr(),e===null&&yd(n.stateNode.containerInfo),ie(n),null;case 10:return kr(n.type),ie(n),null;case 19:if($t(De),h=n.memoizedState,h===null)return ie(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)Jl(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Ou(e),d!==null){for(n.flags|=128,Jl(h,!1),e=d.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)zy(s,e),s=s.sibling;return qt(De,De.current&1|2),n.child}e=e.sibling}h.tail!==null&&on()>Xu&&(n.flags|=128,o=!0,Jl(h,!1),n.lanes=4194304)}else{if(!o)if(e=Ou(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Ft)return ie(n),null}else 2*on()-h.renderingStartTime>Xu&&s!==536870912&&(n.flags|=128,o=!0,Jl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=on(),n.sibling=null,e=De.current,qt(De,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return Ur(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Yu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&$t(Ea),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),kr(xe),ie(n),null;case 25:return null}throw Error(a(156,n.tag))}function z1(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return kr(xe),Sr(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fa(n),null;case 13:if(Ur(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $t(De),null;case 4:return Sr(),null;case 10:return kr(n.type),null;case 22:case 23:return Ur(n),af(),e!==null&&$t(Ea),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return kr(xe),null;case 25:return null;default:return null}}function By(e,n){switch(tf(n),n.tag){case 3:kr(xe),Sr();break;case 26:case 27:case 5:Fa(n);break;case 4:Sr();break;case 13:Ur(n);break;case 19:$t(De);break;case 10:kr(n.type);break;case 22:case 23:Ur(n),af(),e!==null&&$t(Ea);break;case 24:kr(xe)}}var k1={getCacheForType:function(e){var n=Ze(xe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},j1=typeof WeakMap=="function"?WeakMap:Map,ae=0,Jt=null,Nt=null,kt=0,te=0,En=null,Fr=!1,bs=!1,Jf=!1,Gr=0,he=0,xi=0,xa=0,td=0,kn=0,Rs=0,to=null,cr=null,ed=!1,nd=0,Xu=1/0,Zu=null,Vi=null,Wu=!1,Va=null,eo=0,rd=0,id=null,no=0,ad=null;function Tn(){if((ae&2)!==0&&kt!==0)return kt&-kt;if(b.T!==null){var e=gs;return e!==0?e:dd()}return iu()}function qy(){kn===0&&(kn=(kt&536870912)===0||Ft?ml():536870912);var e=Un.current;return e!==null&&(e.flags|=32),kn}function ln(e,n,s){(e===Jt&&te===2||e.cancelPendingCommit!==null)&&(ws(e,0),$r(e,kt,kn,!1)),pe(e,s),((ae&2)===0||e!==Jt)&&(e===Jt&&((ae&2)===0&&(xa|=s),he===4&&$r(e,kt,kn,!1)),hr(e))}function Hy(e,n,s){if((ae&6)!==0)throw Error(a(327));var o=!s&&(n&60)===0&&(n&e.expiredLanes)===0||ri(e,n),h=o?H1(e,n):ud(e,n,!0),d=o;do{if(h===0){bs&&!o&&$r(e,n,0,!1);break}else if(h===6)$r(e,n,0,!Fr);else{if(s=e.current.alternate,d&&!B1(s)){h=ud(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=e;h=to;var C=T.current.memoizedState.isDehydrated;if(C&&(ws(T,_).flags|=256),_=ud(T,_,!1),_!==2){if(Jf&&!C){T.errorRecoveryDisabledLanes|=d,xa|=d,h=4;break t}d=cr,cr=h,d!==null&&sd(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){ws(e,0),$r(e,n,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){$r(o,n,kn,!Fr);break t}break;case 2:cr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(o.finishedWork=s,o.finishedLanes=n,(n&62914560)===n&&(d=nd+300-on(),10<d)){if($r(o,n,kn,!Fr),Rn(o,0)!==0)break t;o.timeoutHandle=dv(Fy.bind(null,o,s,cr,Zu,ed,n,kn,xa,Rs,Fr,2,-0,0),d);break t}Fy(o,s,cr,Zu,ed,n,kn,xa,Rs,Fr,0,-0,0)}}break}while(!0);hr(e)}function sd(e){cr===null?cr=e:cr.push.apply(cr,e)}function Fy(e,n,s,o,h,d,_,T,C,L,Y,tt,F){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(oo={stylesheets:null,count:0,unsuspend:SS},My(n),n=bS(),n!==null)){e.cancelPendingCommit=n(Zy.bind(null,e,s,o,h,_,T,C,1,tt,F)),$r(e,d,_,!L);return}Zy(e,s,o,h,_,T,C,Y,tt,F)}function B1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function $r(e,n,s,o){n&=~td,n&=~xa,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-nn(h),_=1<<d;o[d]=-1,h&=~_}s!==0&&ai(e,s,n)}function Ju(){return(ae&6)===0?(ro(0),!1):!0}function ld(){if(Nt!==null){if(te===0)var e=Nt.return;else e=Nt,zr=Ra=null,df(e),ms=null,Pl=0,e=Nt;for(;e!==null;)By(e.alternate,e),e=e.return;Nt=null}}function ws(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,sS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ld(),Jt=e,Nt=s=Di(e.current,null),kt=n,te=0,En=null,Fr=!1,bs=ri(e,n),Jf=!1,Rs=kn=td=xa=xi=he=0,cr=to=null,ed=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-nn(o),d=1<<h;n|=e[h],o&=~d}return Gr=n,Au(),s}function Gy(e,n){Vt=null,b.H=ur,n===Ul?(n=sg(),te=3):n===rg?(n=sg(),te=4):te=n===iy?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Nt===null&&(he=1,Hu(e,On(n,e.current)))}function $y(){var e=b.H;return b.H=ur,e===null?ur:e}function Qy(){var e=b.A;return b.A=k1,e}function od(){he=4,Fr||(kt&4194176)!==kt&&Un.current!==null||(bs=!0),(xi&134217727)===0&&(xa&134217727)===0||Jt===null||$r(Jt,kt,kn,!1)}function ud(e,n,s){var o=ae;ae|=2;var h=$y(),d=Qy();(Jt!==e||kt!==n)&&(Zu=null,ws(e,n)),n=!1;var _=he;t:do try{if(te!==0&&Nt!==null){var T=Nt,C=En;switch(te){case 8:ld(),_=6;break t;case 3:case 2:case 6:Un.current===null&&(n=!0);var L=te;if(te=0,En=null,Cs(e,T,C,L),s&&bs){_=0;break t}break;default:L=te,te=0,En=null,Cs(e,T,C,L)}}q1(),_=he;break}catch(Y){Gy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,zr=Ra=null,ae=o,b.H=h,b.A=d,Nt===null&&(Jt=null,kt=0,Au()),_}function q1(){for(;Nt!==null;)Ky(Nt)}function H1(e,n){var s=ae;ae|=2;var o=$y(),h=Qy();Jt!==e||kt!==n?(Zu=null,Xu=on()+500,ws(e,n)):bs=ri(e,n);t:do try{if(te!==0&&Nt!==null){n=Nt;var d=En;e:switch(te){case 1:te=0,En=null,Cs(e,n,d,1);break;case 2:if(ig(d)){te=0,En=null,Yy(n);break}n=function(){te===2&&Jt===e&&(te=7),hr(e)},d.then(n,n);break t;case 3:te=7;break t;case 4:te=5;break t;case 7:ig(d)?(te=0,En=null,Yy(n)):(te=0,En=null,Cs(e,n,d,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var T=Nt;if(!_||bv(_)){te=0,En=null;var C=T.sibling;if(C!==null)Nt=C;else{var L=T.return;L!==null?(Nt=L,tc(L)):Nt=null}break e}}te=0,En=null,Cs(e,n,d,5);break;case 6:te=0,En=null,Cs(e,n,d,6);break;case 8:ld(),he=6;break t;default:throw Error(a(462))}}F1();break}catch(Y){Gy(e,Y)}while(!0);return zr=Ra=null,b.H=o,b.A=h,ae=s,Nt!==null?0:(Jt=null,kt=0,Au(),he)}function F1(){for(;Nt!==null&&!Lh();)Ky(Nt)}function Ky(e){var n=gy(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,n===null?tc(e):Nt=n}function Yy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=cy(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=cy(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:df(n);default:By(s,n),n=Nt=zy(n,Gr),n=gy(s,n,Gr)}e.memoizedProps=e.pendingProps,n===null?tc(e):Nt=n}function Cs(e,n,s,o){zr=Ra=null,df(n),ms=null,Pl=0;var h=n.return;try{if(O1(e,h,n,s,kt)){he=1,Hu(e,On(s,e.current)),Nt=null;return}}catch(d){if(h!==null)throw Nt=h,d;he=1,Hu(e,On(s,e.current)),Nt=null;return}n.flags&32768?(Ft||o===1?e=!0:bs||(kt&536870912)!==0?e=!1:(Fr=e=!0,(o===2||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,Fr);return}e=n.return;var s=P1(n.alternate,n,Gr);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);he===0&&(he=5)}function Xy(e,n){do{var s=z1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);he=6,Nt=null}function Zy(e,n,s,o,h,d,_,T,C,L){var Y=b.T,tt=st.p;try{st.p=2,b.T=null,G1(e,n,s,o,tt,h,d,_,T,C,L)}finally{b.T=Y,st.p=tt}}function G1(e,n,s,o,h,d,_,T){do Ds();while(Va!==null);if((ae&6)!==0)throw Error(a(327));var C=e.finishedWork;if(o=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=Zh,nu(e,o,L,d,_,T),e===Jt&&(Nt=Jt=null,kt=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Wu||(Wu=!0,rd=L,id=s,Y1(Ar,function(){return Ds(),null})),s=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=st.p,st.p=2,_=ae,ae|=4,M1(e,C),Iy(C,e),p1(Td,e.containerInfo),fc=!!Ed,Td=Ed=null,e.current=C,Cy(e,C.alternate,C),cl(),ae=_,st.p=d,b.T=s):e.current=C,Wu?(Wu=!1,Va=e,eo=o):Wy(e,L),L=e.pendingLanes,L===0&&(Vi=null),fl(C.stateNode),hr(e),n!==null)for(h=e.onRecoverableError,C=0;C<n.length;C++)L=n[C],h(L.value,{componentStack:L.stack});return(eo&3)!==0&&Ds(),L=e.pendingLanes,(o&4194218)!==0&&(L&42)!==0?e===ad?no++:(no=0,ad=e):no=0,ro(0),null}function Wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,kl(n)))}function Ds(){if(Va!==null){var e=Va,n=rd;rd=0;var s=ru(eo),o=b.T,h=st.p;try{if(st.p=32>s?32:s,b.T=null,Va===null)var d=!1;else{s=id,id=null;var _=Va,T=eo;if(Va=null,eo=0,(ae&6)!==0)throw Error(a(331));var C=ae;if(ae|=4,Ly(_.current),Ny(_,_.current,T,s),ae=C,ro(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ei,_)}catch{}d=!0}return d}finally{st.p=h,b.T=o,Wy(e,n)}}return!1}function Jy(e,n,s){n=On(s,n),n=Cf(e.stateNode,n,2),e=bi(e,n,2),e!==null&&(pe(e,2),hr(e))}function Wt(e,n,s){if(e.tag===3)Jy(e,e,s);else for(;n!==null;){if(n.tag===3){Jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vi===null||!Vi.has(o))){e=On(s,e),s=ny(2),o=bi(n,s,2),o!==null&&(ry(s,o,n,e),pe(o,2),hr(o));break}}n=n.return}}function cd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new j1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Jf=!0,h.add(s),e=$1.bind(null,e,n,s),n.then(e,e))}function $1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(kt&s)===s&&(he===4||he===3&&(kt&62914560)===kt&&300>on()-nd?(ae&2)===0&&ws(e,0):td|=s,Rs===kt&&(Rs=0)),hr(e)}function tv(e,n){n===0&&(n=ii()),e=gi(e,n),e!==null&&(pe(e,n),hr(e))}function Q1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),tv(e,s)}function K1(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),tv(e,s)}function Y1(e,n){return ta(e,n)}var ec=null,xs=null,hd=!1,nc=!1,fd=!1,Ia=0;function hr(e){e!==xs&&e.next===null&&(xs===null?ec=xs=e:xs=xs.next=e),nc=!0,hd||(hd=!0,Z1(X1))}function ro(e,n){if(!fd&&nc){fd=!0;do for(var s=!1,o=ec;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-nn(42|e)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,rv(o,d))}else d=kt,d=Rn(o,o===Jt?d:0),(d&3)===0||ri(o,d)||(s=!0,rv(o,d));o=o.next}while(s);fd=!1}}function X1(){nc=hd=!1;var e=0;Ia!==0&&(aS()&&(e=Ia),Ia=0);for(var n=on(),s=null,o=ec;o!==null;){var h=o.next,d=ev(o,n);d===0?(o.next=null,s===null?ec=h:s.next=h,h===null&&(xs=s)):(s=o,(e!==0||(d&3)!==0)&&(nc=!0)),o=h}ro(e)}function ev(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-nn(d),T=1<<_,C=h[_];C===-1?((T&s)===0||(T&o)!==0)&&(h[_]=Qa(T,n)):C<=n&&(e.expiredLanes|=T),d&=~T}if(n=Jt,s=kt,s=Rn(e,e===n?s:0),o=e.callbackNode,s===0||e===n&&te===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&$a(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ri(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&$a(o),ru(s)){case 2:case 8:s=Me;break;case 32:s=Ar;break;case 268435456:s=hl;break;default:s=Ar}return o=nv.bind(null,e),s=ta(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&$a(o),e.callbackPriority=2,e.callbackNode=null,2}function nv(e,n){var s=e.callbackNode;if(Ds()&&e.callbackNode!==s)return null;var o=kt;return o=Rn(e,e===Jt?o:0),o===0?null:(Hy(e,o,n),ev(e,on()),e.callbackNode!=null&&e.callbackNode===s?nv.bind(null,e):null)}function rv(e,n){if(Ds())return null;Hy(e,n,!0)}function Z1(e){lS(function(){(ae&6)!==0?ta(be,e):e()})}function dd(){return Ia===0&&(Ia=ml()),Ia}function iv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:tr(""+e)}function av(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function W1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var d=iv((h[Re]||null).action),_=o.submitter;_&&(n=(n=_[Re]||null)?iv(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new ts("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ia!==0){var C=_?av(h,_):new FormData(h);Sf(s,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(T.preventDefault(),C=_?av(h,_):new FormData(h),Sf(s,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var md=0;md<Zp.length;md++){var pd=Zp[md],J1=pd.toLowerCase(),tS=pd[0].toUpperCase()+pd.slice(1);Fn(J1,"on"+tS)}Fn($p,"onAnimationEnd"),Fn(Qp,"onAnimationIteration"),Fn(Kp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(y1,"onTransitionRun"),Fn(v1,"onTransitionStart"),Fn(_1,"onTransitionCancel"),Fn(Yp,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function sv(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],C=T.instance,L=T.currentTarget;if(T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(Y){qu(Y)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(T=o[_],C=T.instance,L=T.currentTarget,T=T.listener,C!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(Y){qu(Y)}h.currentTarget=null,d=C}}}}function Ut(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||(lv(n,e,2,!1),s.add(o))}function gd(e,n,s){var o=0;n&&(o|=4),lv(s,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function yd(e){if(!e[rc]){e[rc]=!0,gl.forEach(function(s){s!=="selectionchange"&&(eS.has(s)||gd(s,!1,e),gd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,gd("selectionchange",!1,n))}}function lv(e,n,s,o){switch(Vv(n)){case 2:var h=CS;break;case 8:h=DS;break;default:h=Vd}s=h.bind(null,n,s,e),h=void 0,!xn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function vd(e,n,s,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Hn(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue t}T=T.parentNode}}o=o.return}ou(function(){var L=d,Y=Ja(s),tt=[];t:{var F=Xp.get(e);if(F!==void 0){var Q=ts,dt=e;switch(e){case"keypress":if(nr(s)===0)break t;case"keydown":case"keyup":Q=ss;break;case"focusin":dt="focus",Q=rs;break;case"focusout":dt="blur",Q=rs;break;case"beforeblur":case"afterblur":Q=rs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=gu;break;case $p:case Qp:case Kp:Q=is;break;case Yp:Q=vu;break;case"scroll":case"scrollend":Q=uu;break;case"wheel":Q=ls;break;case"copy":case"cut":case"paste":Q=as;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Dl;break;case"toggle":case"beforetoggle":Q=Eu}var bt=(n&4)!==0,fe=!bt&&(e==="scroll"||e==="scrollend"),z=bt?F!==null?F+"Capture":null:F;bt=[];for(var M=L,H;M!==null;){var Z=M;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=la(M,z),Z!=null&&bt.push(ao(M,Z,H))),fe)break;M=M.return}0<bt.length&&(F=new Q(F,dt,null,s,Y),tt.push({event:F,listeners:bt}))}}if((n&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",F&&s!==Dn&&(dt=s.relatedTarget||s.fromElement)&&(Hn(dt)||dt[br]))break t;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(dt=s.relatedTarget||s.toElement,Q=L,dt=dt?Hn(dt):null,dt!==null&&(fe=mt(dt),bt=dt.tag,dt!==fe||bt!==5&&bt!==27&&bt!==6)&&(dt=null)):(Q=null,dt=L),Q!==dt)){if(bt=Vn,Z="onMouseLeave",z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(bt=Dl,Z="onPointerLeave",z="onPointerEnter",M="pointer"),fe=Q==null?F:ui(Q),H=dt==null?F:ui(dt),F=new bt(Z,M+"leave",Q,s,Y),F.target=fe,F.relatedTarget=H,Z=null,Hn(Y)===L&&(bt=new bt(z,M+"enter",dt,s,Y),bt.target=H,bt.relatedTarget=fe,Z=bt),fe=Z,Q&&dt)e:{for(bt=Q,z=dt,M=0,H=bt;H;H=Vs(H))M++;for(H=0,Z=z;Z;Z=Vs(Z))H++;for(;0<M-H;)bt=Vs(bt),M--;for(;0<H-M;)z=Vs(z),H--;for(;M--;){if(bt===z||z!==null&&bt===z.alternate)break e;bt=Vs(bt),z=Vs(z)}bt=null}else bt=null;Q!==null&&ov(tt,F,Q,bt,!1),dt!==null&&fe!==null&&ov(tt,fe,dt,bt,!0)}}t:{if(F=L?ui(L):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ft=Up;else if(Ce(F))if(Lp)ft=d1;else{ft=h1;var Ot=c1}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&Tl(L.elementType)&&(ft=Up):ft=f1;if(ft&&(ft=ft(e,L))){Or(tt,ft,s,Y);break t}Ot&&Ot(e,F,L),e==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Wa(F,"number",F.value)}switch(Ot=L?ui(L):window,e){case"focusin":(Ce(Ot)||Ot.contentEditable==="true")&&(os=Ot,Kh=L,Il=null);break;case"focusout":Il=Kh=os=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Fp(tt,s,Y);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":Fp(tt,s,Y)}var pt;if(ar)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?G(e,s)&&(_t="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(v&&s.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(pt=Al()):(er=Y,pi="value"in er?er.value:er.textContent,Pt=!0)),Ot=ic(L,_t),0<Ot.length&&(_t=new wl(_t,e,null,s,Y),tt.push({event:_t,listeners:Ot}),pt?_t.data=pt:(pt=rt(s),pt!==null&&(_t.data=pt)))),(pt=g?we(e,s):zt(e,s))&&(_t=ic(L,"onBeforeInput"),0<_t.length&&(Ot=new wl("onBeforeInput","beforeinput",null,s,Y),tt.push({event:Ot,listeners:_t}),Ot.data=pt)),W1(tt,e,L,s,Y)}sv(tt,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ic(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=la(e,s),h!=null&&o.unshift(ao(e,h,d)),h=la(e,n),h!=null&&o.push(ao(e,h,d))),e=e.return}return o}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ov(e,n,s,o,h){for(var d=n._reactName,_=[];s!==null&&s!==o;){var T=s,C=T.alternate,L=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||L===null||(C=L,h?(L=la(s,d),L!=null&&_.unshift(ao(s,L,C))):h||(L=la(s,d),L!=null&&_.push(ao(s,L,C)))),s=s.return}_.length!==0&&e.push({event:n,listeners:_})}var nS=/\r\n?/g,rS=/\u0000|\uFFFD/g;function uv(e){return(typeof e=="string"?e:""+e).replace(nS,`
`).replace(rS,"")}function cv(e,n){return n=uv(n),uv(e)===n}function ac(){}function Zt(e,n,s,o,h,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(e,""+o);break;case"className":fi(e,"class",o);break;case"tabIndex":fi(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fi(e,s,o);break;case"style":lu(e,o,d);break;case"data":if(n!=="object"){fi(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=tr(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=tr(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ac);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=tr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ut("beforetoggle",e),Ut("toggle",e),hi(e,"popover",o);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":hi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Bh.get(s)||s,hi(e,s,o))}}function _d(e,n,s,o,h,d){switch(s){case"style":lu(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&Cn(e,""+o);break;case"onScroll":o!=null&&Ut("scroll",e);break;case"onScrollEnd":o!=null&&Ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xa.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Re]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):hi(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",e),Ut("load",e);var o=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,d,_,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Ut("invalid",e);var T=d=_=h=null,C=null,L=null;for(o in s)if(s.hasOwnProperty(o)){var Y=s[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":_=Y;break;case"checked":C=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(a(137,n));break;default:Zt(e,n,o,Y,s,null)}}aa(e,d,T,C,L,_,h,!1),ia(e);return;case"select":Ut("invalid",e),o=_=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Zt(e,n,h,T,s,null)}n=d,s=_,e.multiple=!!o,n!=null?Ht(e,!!o,n,!1):s!=null&&Ht(e,!!o,s,!0);return;case"textarea":Ut("invalid",e),d=h=o=null;for(_ in s)if(s.hasOwnProperty(_)&&(T=s[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Zt(e,n,_,T,s,null)}mi(e,o,h,d),ia(e);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,C,o,s,null)}return;case"dialog":Ut("cancel",e),Ut("close",e);break;case"iframe":case"object":Ut("load",e);break;case"video":case"audio":for(o=0;o<io.length;o++)Ut(io[o],e);break;case"image":Ut("error",e),Ut("load",e);break;case"details":Ut("toggle",e);break;case"embed":case"source":case"link":Ut("error",e),Ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(o=s[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,L,o,s,null)}return;default:if(Tl(n)){for(Y in s)s.hasOwnProperty(Y)&&(o=s[Y],o!==void 0&&_d(e,n,Y,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&Zt(e,n,T,o,s,null))}function iS(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,C=null,L=null,Y=null;for(Q in s){var tt=s[Q];if(s.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=tt;default:o.hasOwnProperty(Q)||Zt(e,n,Q,null,o,tt)}}for(var F in o){var Q=o[F];if(tt=s[F],o.hasOwnProperty(F)&&(Q!=null||tt!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Q!==tt&&Zt(e,n,F,Q,o,tt)}}di(e,_,T,C,L,Y,d,h);return;case"select":Q=_=T=F=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:o.hasOwnProperty(d)||Zt(e,n,d,null,o,C)}for(h in o)if(d=o[h],C=s[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==C&&Zt(e,n,h,d,o,C)}n=T,s=_,o=Q,F!=null?Ht(e,!!s,F,!1):!!o!=!!s&&(n!=null?Ht(e,!!s,n,!0):Ht(e,!!s,s?[]:"",!1));return;case"textarea":Q=F=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(_ in o)if(h=o[_],d=s[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Zt(e,n,_,h,o,d)}sa(e,F,Q);return;case"option":for(var dt in s)if(F=s[dt],s.hasOwnProperty(dt)&&F!=null&&!o.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:Zt(e,n,dt,null,o,F)}for(C in o)if(F=o[C],Q=s[C],o.hasOwnProperty(C)&&F!==Q&&(F!=null||Q!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Zt(e,n,C,F,o,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)F=s[bt],s.hasOwnProperty(bt)&&F!=null&&!o.hasOwnProperty(bt)&&Zt(e,n,bt,null,o,F);for(L in o)if(F=o[L],Q=s[L],o.hasOwnProperty(L)&&F!==Q&&(F!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(e,n,L,F,o,Q)}return;default:if(Tl(n)){for(var fe in s)F=s[fe],s.hasOwnProperty(fe)&&F!==void 0&&!o.hasOwnProperty(fe)&&_d(e,n,fe,void 0,o,F);for(Y in o)F=o[Y],Q=s[Y],!o.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||_d(e,n,Y,F,o,Q);return}}for(var z in s)F=s[z],s.hasOwnProperty(z)&&F!=null&&!o.hasOwnProperty(z)&&Zt(e,n,z,null,o,F);for(tt in o)F=o[tt],Q=s[tt],!o.hasOwnProperty(tt)||F===Q||F==null&&Q==null||Zt(e,n,tt,F,o,Q)}var Ed=null,Td=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function hv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function aS(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,lS=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(e){return mv.resolve(null).then(e).catch(oS)}:dv;function oS(e){setTimeout(function(){throw e})}function bd(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(o===0){e.removeChild(h),mo(n);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=h}while(s);mo(n)}function Rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),ra(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function uS(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function cS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qn(e.nextSibling),e===null))return null;return e}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function pv(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function gv(e,n,s){switch(n=sc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var jn=new Map,yv=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Qr=st.d;st.d={f:hS,r:fS,D:dS,C:mS,L:pS,m:gS,X:vS,S:yS,M:_S};function hS(){var e=Qr.f(),n=Ju();return e||n}function fS(e){var n=Rr(e);n!==null&&n.tag===5&&n.type==="form"?Fg(n):Qr.r(e)}var Is=typeof document>"u"?null:document;function vv(e,n,s){var o=Is;if(o&&typeof n=="string"&&n){var h=ue(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),yv.has(h)||(yv.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),re(n),o.head.appendChild(n)))}}function dS(e){Qr.D(e),vv("dns-prefetch",e,null)}function mS(e,n){Qr.C(e,n),vv("preconnect",e,n)}function pS(e,n,s){Qr.L(e,n,s);var o=Is;if(o&&e&&n){var h='link[rel="preload"][as="'+ue(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ue(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ue(s.imageSizes)+'"]')):h+='[href="'+ue(e)+'"]';var d=h;switch(n){case"style":d=Os(e);break;case"script":d=Ns(e)}jn.has(d)||(e=I({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(so(d))||n==="script"&&o.querySelector(lo(d))||(n=o.createElement("link"),$e(n,"link",e),re(n),o.head.appendChild(n)))}}function gS(e,n){Qr.m(e,n);var s=Is;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ue(o)+'"][href="'+ue(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ns(e)}if(!jn.has(d)&&(e=I({rel:"modulepreload",href:e},n),jn.set(d,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(lo(d)))return}o=s.createElement("link"),$e(o,"link",e),re(o),s.head.appendChild(o)}}}function yS(e,n,s){Qr.S(e,n,s);var o=Is;if(o&&e){var h=ci(o).hoistableStyles,d=Os(e);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(so(d)))T.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(d))&&wd(e,s);var C=_=o.createElement("link");re(C),$e(C,"link",e),C._p=new Promise(function(L,Y){C.onload=L,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,oc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function vS(e,n){Qr.X(e,n);var s=Is;if(s&&e){var o=ci(s).hoistableScripts,h=Ns(e),d=o.get(h);d||(d=s.querySelector(lo(h)),d||(e=I({src:e,async:!0},n),(n=jn.get(h))&&Cd(e,n),d=s.createElement("script"),re(d),$e(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function _S(e,n){Qr.M(e,n);var s=Is;if(s&&e){var o=ci(s).hoistableScripts,h=Ns(e),d=o.get(h);d||(d=s.querySelector(lo(h)),d||(e=I({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Cd(e,n),d=s.createElement("script"),re(d),$e(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function _v(e,n,s,o){var h=(h=bn.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Os(s.href),s=ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Os(s.href);var d=ci(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(so(e)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),d||ES(h,e,s,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ns(s),s=ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Os(e){return'href="'+ue(e)+'"'}function so(e){return'link[rel="stylesheet"]['+e+"]"}function Ev(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function ES(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),re(n),e.head.appendChild(n))}function Ns(e){return'[src="'+ue(e)+'"]'}function lo(e){return"script[async]"+e}function Tv(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ue(s.href)+'"]');if(o)return n.instance=o,re(o),o;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),re(o),$e(o,"style",h),oc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Os(s.href);var d=e.querySelector(so(h));if(d)return n.state.loading|=4,n.instance=d,re(d),d;o=Ev(s),(h=jn.get(h))&&wd(o,h),d=(e.ownerDocument||e).createElement("link"),re(d);var _=d;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),$e(d,"link",o),n.state.loading|=4,oc(d,s.precedence,e),n.instance=d;case"script":return d=Ns(s.src),(h=e.querySelector(lo(d)))?(n.instance=h,re(h),h):(o=s,(h=jn.get(d))&&(o=I({},s),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),re(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,s.precedence,e));return n.instance}function oc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function wd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function Sv(e,n,s){if(uc===null){var o=new Map,h=uc=new Map;h.set(s,o)}else h=uc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[oi]||d[Ue]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=e+_;var T=o.get(_);T?T.push(d):o.set(_,[d])}}return o}function Av(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function TS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function bv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var oo=null;function SS(){}function AS(e,n,s){if(oo===null)throw Error(a(475));var o=oo;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Os(s.href),d=e.querySelector(so(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=cc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,re(d);return}d=e.ownerDocument||e,s=Ev(s),(h=jn.get(h))&&wd(s,h),d=d.createElement("link"),re(d);var _=d;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),$e(d,"link",s),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=cc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function bS(){if(oo===null)throw Error(a(475));var e=oo;return e.stylesheets&&e.count===0&&Dd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Dd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function Dd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(RS,e),hc=null,cc.call(e))}function RS(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var o=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),o=_)}o&&s.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),d=s.get(_)||o,d===o&&s.set(null,h),s.set(_,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var uo={$$typeof:D,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function wS(e,n,s,o,h,d,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ka(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.hiddenUpdates=Ka(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Rv(e,n,s,o,h,d,_,T,C,L,Y,tt){return e=new wS(e,n,s,_,T,C,L,tt),n=1,d===!0&&(n|=24),d=zn(3,null,null,n),e.current=d,d.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},jf(d),e}function wv(e){return e?(e=hs,e):hs}function Cv(e,n,s,o,h,d){h=wv(h),o.context===null?o.context=h:o.pendingContext=h,o=Ai(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=bi(e,o,n),s!==null&&(ln(s,e,n),$l(s,e,n))}function Dv(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function xd(e,n){Dv(e,n),(e=e.alternate)&&Dv(e,n)}function xv(e){if(e.tag===13){var n=gi(e,67108864);n!==null&&ln(n,e,67108864),xd(e,67108864)}}var fc=!0;function CS(e,n,s,o){var h=b.T;b.T=null;var d=st.p;try{st.p=2,Vd(e,n,s,o)}finally{st.p=d,b.T=h}}function DS(e,n,s,o){var h=b.T;b.T=null;var d=st.p;try{st.p=8,Vd(e,n,s,o)}finally{st.p=d,b.T=h}}function Vd(e,n,s,o){if(fc){var h=Id(o);if(h===null)vd(e,n,o,dc,s),Iv(e,o);else if(VS(h,e,n,s,o))o.stopPropagation();else if(Iv(e,o),n&4&&-1<xS.indexOf(e)){for(;h!==null;){var d=Rr(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=qn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-nn(_);T.entanglements[1]|=C,_&=~C}hr(d),(ae&6)===0&&(Xu=on()+500,ro(0))}}break;case 13:T=gi(d,2),T!==null&&ln(T,d,2),Ju(),xd(d,2)}if(d=Id(o),d===null&&vd(e,n,o,dc,s),d===h)break;h=d}h!==null&&o.stopPropagation()}else vd(e,n,o,null,s)}}function Id(e){return e=Ja(e),Od(e)}var dc=null;function Od(e){if(dc=null,e=Hn(e),e!==null){var n=mt(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=Dt(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function Vv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wo()){case be:return 2;case Me:return 8;case Ar:case Jo:return 32;case hl:return 268435456;default:return 32}default:return 32}}var Nd=!1,Ii=null,Oi=null,Ni=null,co=new Map,ho=new Map,Mi=[],xS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iv(e,n){switch(e){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(e,n,s,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Rr(n),n!==null&&xv(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function VS(e,n,s,o,h){switch(n){case"focusin":return Ii=fo(Ii,e,n,s,o,h),!0;case"dragenter":return Oi=fo(Oi,e,n,s,o,h),!0;case"mouseover":return Ni=fo(Ni,e,n,s,o,h),!0;case"pointerover":var d=h.pointerId;return co.set(d,fo(co.get(d)||null,e,n,s,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ho.set(d,fo(ho.get(d)||null,e,n,s,o,h)),!0}return!1}function Ov(e){var n=Hn(e.target);if(n!==null){var s=mt(n);if(s!==null){if(n=s.tag,n===13){if(n=Dt(s),n!==null){e.blockedOn=n,li(e.priority,function(){if(s.tag===13){var o=Tn(),h=gi(s,o);h!==null&&ln(h,s,o),xd(s,o)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Dn=o,s.target.dispatchEvent(o),Dn=null}else return n=Rr(s),n!==null&&xv(n),e.blockedOn=s,!1;n.shift()}return!0}function Nv(e,n,s){mc(e)&&s.delete(n)}function IS(){Nd=!1,Ii!==null&&mc(Ii)&&(Ii=null),Oi!==null&&mc(Oi)&&(Oi=null),Ni!==null&&mc(Ni)&&(Ni=null),co.forEach(Nv),ho.forEach(Nv)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,IS)))}var gc=null;function Mv(e){gc!==e&&(gc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||s)===null)continue;break}var d=Rr(s);d!==null&&(e.splice(n,3),n-=3,Sf(d,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function mo(e){function n(C){return pc(C,e)}Ii!==null&&pc(Ii,e),Oi!==null&&pc(Oi,e),Ni!==null&&pc(Ni,e),co.forEach(n),ho.forEach(n);for(var s=0;s<Mi.length;s++){var o=Mi[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mi.length&&(s=Mi[0],s.blockedOn===null);)Ov(s),s.blockedOn===null&&Mi.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],d=s[o+1],_=h[Re]||null;if(typeof d=="function")_||Mv(s);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Re]||null)T=_.formAction;else if(Od(h)!==null)continue}else T=_.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),Mv(s)}}}function Md(e){this._internalRoot=e}yc.prototype.render=Md.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();Cv(s,o,e,n,null,null)},yc.prototype.unmount=Md.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Ds(),Cv(e.current,2,null,e,null,null),Ju(),n[br]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mi.length&&n!==0&&n<Mi[s].priority;s++);Mi.splice(s,0,e),s===0&&Ov(e)}};var Uv=t.version;if(Uv!=="19.0.0")throw Error(a(527,Uv,"19.0.0"));st.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=et(n),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var OS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ei=vc.inject(OS),Xe=vc}catch{}}return go.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Wg,d=Jg,_=ty,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Rv(e,1,!1,null,null,s,o,h,d,_,T,null),e[br]=n.current,yd(e.nodeType===8?e.parentNode:e),new Md(n)},go.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",d=Wg,_=Jg,T=ty,C=null,L=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks),s.formState!==void 0&&(L=s.formState)),n=Rv(e,1,!0,n,s??null,o,h,d,_,T,C,L),n.context=wv(null),s=n.current,o=Tn(),h=Ai(o),h.callback=null,bi(s,h,o),n.current.lanes=o,pe(n,o),hr(n),e[br]=n.current,yd(e),new yc(n)},go.version="19.0.0",go}var Gv;function HS(){if(Gv)return Pd.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Pd.exports=qS(),Pd.exports}var FS=HS();function GS(){const[i,t]=K.useState(0);return B.jsxs(B.Fragment,{children:[B.jsx("h1",{children:"Vite + React"}),B.jsxs("div",{className:"card",children:[B.jsxs("button",{onClick:()=>t(r=>r+1),children:["count is ",i]}),B.jsxs("p",{children:["Edit ",B.jsx("code",{children:"src/App.tsx"})," and save to test HMR"]})]}),B.jsx("p",{className:"read-the-docs",children:"Click on the Vite and React logos to learn more"})]})}var yo={},$v;function $S(){if($v)return yo;$v=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.parse=f,yo.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,D){const N=new u,q=R.length;if(q<2)return N;const P=(D==null?void 0:D.decode)||E;let $=0;do{const J=R.indexOf("=",$);if(J===-1)break;const X=R.indexOf(";",$),ot=X===-1?q:X;if(J>ot){$=R.lastIndexOf(";",J-1)+1;continue}const at=m(R,$,J),ct=p(R,J,at),V=R.slice(at,ct);if(N[V]===void 0){let w=m(R,J+1,ot),b=p(R,ot,w);const I=P(R.slice(w,b));N[V]=I}$=ot+1}while($<q);return N}function m(R,D,N){do{const q=R.charCodeAt(D);if(q!==32&&q!==9)return D}while(++D<N);return N}function p(R,D,N){for(;D>N;){const q=R.charCodeAt(--D);if(q!==32&&q!==9)return D+1}return N}function y(R,D,N){const q=(N==null?void 0:N.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const P=q(D);if(!t.test(P))throw new TypeError(`argument val is invalid: ${D}`);let $=R+"="+P;if(!N)return $;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);$+="; Max-Age="+N.maxAge}if(N.domain){if(!r.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);$+="; Domain="+N.domain}if(N.path){if(!a.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);$+="; Path="+N.path}if(N.expires){if(!A(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);$+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&($+="; HttpOnly"),N.secure&&($+="; Secure"),N.partitioned&&($+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return $}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return l.call(R)==="[object Date]"}return yo}$S();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Qv="popstate";function QS(i={}){function t(a,l){let{pathname:u,search:f,hash:m}=a.location;return im("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:Oo(l)}return YS(t,r,null,i)}function se(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Yn(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function KS(){return Math.random().toString(36).substring(2,10)}function Kv(i,t){return{usr:i.state,key:i.key,idx:t}}function im(i,t,r=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?el(t):t,state:r,key:t&&t.key||a||KS()}}function Oo({pathname:i="/",search:t="",hash:r=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function el(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substring(r),i=i.substring(0,r));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function YS(i,t,r,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let P=E(),$=P==null?null:P-y;y=P,p&&p({action:m,location:q.location,delta:$})}function R(P,$){m="PUSH";let J=im(q.location,P,$);y=E()+1;let X=Kv(J,y),ot=q.createHref(J);try{f.pushState(X,"",ot)}catch(at){if(at instanceof DOMException&&at.name==="DataCloneError")throw at;l.location.assign(ot)}u&&p&&p({action:m,location:q.location,delta:1})}function D(P,$){m="REPLACE";let J=im(q.location,P,$);y=E();let X=Kv(J,y),ot=q.createHref(J);f.replaceState(X,"",ot),u&&p&&p({action:m,location:q.location,delta:0})}function N(P){let $=l.location.origin!=="null"?l.location.origin:l.location.href,J=typeof P=="string"?P:Oo(P);return J=J.replace(/ $/,"%20"),se($,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,$)}let q={get action(){return m},get location(){return i(l,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Qv,A),p=P,()=>{l.removeEventListener(Qv,A),p=null}},createHref(P){return t(l,P)},createURL:N,encodeLocation(P){let $=N(P);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:D,go(P){return f.go(P)}};return q}function D0(i,t,r="/"){return XS(i,t,r,!1)}function XS(i,t,r,a){let l=typeof t=="string"?el(t):t,u=Hi(l.pathname||"/",r);if(u==null)return null;let f=x0(i);ZS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=oA(u);m=sA(f[p],y,a)}return m}function x0(i,t=[],r=[],a=""){let l=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(se(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Yr([a,p.relativePath]),E=r.concat(p);u.children&&u.children.length>0&&(se(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),x0(u.children,t,E,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:iA(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let p of V0(u.path))l(u,f,p)}),t}function V0(i){let t=i.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),u=r.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=V0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function ZS(i){i.sort((t,r)=>t.score!==r.score?r.score-t.score:aA(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var WS=/^:[\w-]+$/,JS=3,tA=2,eA=1,nA=10,rA=-2,Yv=i=>i==="*";function iA(i,t){let r=i.split("/"),a=r.length;return r.some(Yv)&&(a+=rA),t&&(a+=tA),r.filter(l=>!Yv(l)).reduce((l,u)=>l+(WS.test(u)?JS:u===""?eA:nA),a)}function aA(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function sA(i,t,r=!1){let{routesMeta:a}=i,l={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",A=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),R=p.route;if(!A&&y&&r&&!a[a.length-1].route.index&&(A=qc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(l,A.params),f.push({params:l,pathname:Yr([u,A.pathname]),pathnameBase:fA(Yr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=Yr([u,A.pathnameBase]))}return f}function qc(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=lA(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:A},R)=>{if(E==="*"){let N=m[R]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const D=m[R];return A&&!D?y[E]=void 0:y[E]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function lA(i,t=!1,r=!0){Yn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function oA(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Hi(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}function uA(i,t="/"){let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?el(i):i;return{pathname:r?r.startsWith("/")?r:cA(r,t):t,search:dA(a),hash:mA(l)}}function cA(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Bd(i,t,r,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hA(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I0(i){let t=hA(i);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function O0(i,t,r,a=!1){let l;typeof i=="string"?l=el(i):(l={...i},se(!l.pathname||!l.pathname.includes("?"),Bd("?","pathname","search",l)),se(!l.pathname||!l.pathname.includes("#"),Bd("#","pathname","hash",l)),se(!l.search||!l.search.includes("#"),Bd("#","search","hash",l)));let u=i===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=r;else{let A=t.length-1;if(!a&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;l.pathname=R.join("/")}m=A>=0?t[A]:"/"}let p=uA(l,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Yr=i=>i.join("/").replace(/\/\/+/g,"/"),fA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),dA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,mA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function pA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var N0=["POST","PUT","PATCH","DELETE"];new Set(N0);var gA=["GET",...N0];new Set(gA);var nl=K.createContext(null);nl.displayName="DataRouter";var ch=K.createContext(null);ch.displayName="DataRouterState";var M0=K.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var yA=K.createContext(new Map);yA.displayName="Fetchers";var vA=K.createContext(null);vA.displayName="Await";var Er=K.createContext(null);Er.displayName="Navigation";var Fo=K.createContext(null);Fo.displayName="Location";var Tr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Bm=K.createContext(null);Bm.displayName="RouteError";function _A(i,{relative:t}={}){se(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=K.useContext(Er),{hash:l,pathname:u,search:f}=$o(i,{relative:t}),m=u;return r!=="/"&&(m=u==="/"?r:Yr([r,u])),a.createHref({pathname:m,search:f,hash:l})}function Go(){return K.useContext(Fo)!=null}function Zi(){return se(Go(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Fo).location}var U0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L0(i){K.useContext(Er).static||K.useLayoutEffect(i)}function P0(){let{isDataRoute:i}=K.useContext(Tr);return i?OA():EA()}function EA(){se(Go(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(nl),{basename:t,navigator:r}=K.useContext(Er),{matches:a}=K.useContext(Tr),{pathname:l}=Zi(),u=JSON.stringify(I0(a)),f=K.useRef(!1);return L0(()=>{f.current=!0}),K.useCallback((p,y={})=>{if(Yn(f.current,U0),!f.current)return;if(typeof p=="number"){r.go(p);return}let E=O0(p,JSON.parse(u),l,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Yr([t,E.pathname])),(y.replace?r.replace:r.push)(E,y.state,y)},[t,r,u,l,i])}K.createContext(null);function qm(){let{matches:i}=K.useContext(Tr),t=i[i.length-1];return t?t.params:{}}function $o(i,{relative:t}={}){let{matches:r}=K.useContext(Tr),{pathname:a}=Zi(),l=JSON.stringify(I0(r));return K.useMemo(()=>O0(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function TA(i,t){return z0(i,t)}function z0(i,t,r,a){var J;se(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=K.useContext(Er),{matches:f}=K.useContext(Tr),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let X=A&&A.path||"";k0(y,!A||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=Zi(),D;if(t){let X=typeof t=="string"?el(t):t;se(E==="/"||((J=X.pathname)==null?void 0:J.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=R;let N=D.pathname||"/",q=N;if(E!=="/"){let X=E.replace(/^\//,"").split("/");q="/"+N.replace(/^\//,"").split("/").slice(X.length).join("/")}let P=!u&&r&&r.matches&&r.matches.length>0?r.matches:D0(i,{pathname:q});Yn(A||P!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Yn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=wA(P&&P.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:Yr([E,l.encodeLocation?l.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?E:Yr([E,l.encodeLocation?l.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),f,r,a);return t&&$?K.createElement(Fo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},$):$}function SA(){let i=IA(),t=pA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),r?K.createElement("pre",{style:l},r):null,f)}var AA=K.createElement(SA,null),bA=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?K.createElement(Tr.Provider,{value:this.props.routeContext},K.createElement(Bm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RA({routeContext:i,match:t,children:r}){let a=K.useContext(nl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Tr.Provider,{value:i},r)}function wA(i,t=[],r=null,a=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let l=i,u=r==null?void 0:r.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);se(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,m=-1;if(r)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:A}=r,R=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||R){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let A,R=!1,D=null,N=null;r&&(A=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||AA,f&&(m<0&&E===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,N=null):m===E&&(R=!0,N=y.route.hydrateFallbackElement||null)));let q=t.concat(l.slice(0,E+1)),P=()=>{let $;return A?$=D:R?$=N:y.route.Component?$=K.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,K.createElement(RA,{match:y,routeContext:{outlet:p,matches:q,isDataRoute:r!=null},children:$})};return r&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(bA,{location:r.location,revalidation:r.revalidation,component:D,error:A,children:P(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):P()},null)}function Hm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CA(i){let t=K.useContext(nl);return se(t,Hm(i)),t}function DA(i){let t=K.useContext(ch);return se(t,Hm(i)),t}function xA(i){let t=K.useContext(Tr);return se(t,Hm(i)),t}function Fm(i){let t=xA(i),r=t.matches[t.matches.length-1];return se(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function VA(){return Fm("useRouteId")}function IA(){var a;let i=K.useContext(Bm),t=DA("useRouteError"),r=Fm("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[r]}function OA(){let{router:i}=CA("useNavigate"),t=Fm("useNavigate"),r=K.useRef(!1);return L0(()=>{r.current=!0}),K.useCallback(async(l,u={})=>{Yn(r.current,U0),r.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...u}))},[i,t])}var Xv={};function k0(i,t,r){!t&&!Xv[i]&&(Xv[i]=!0,Yn(!1,r))}K.memo(NA);function NA({routes:i,future:t,state:r}){return z0(i,void 0,r,t)}function Eo(i){se(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MA({basename:i="/",children:t=null,location:r,navigationType:a="POP",navigator:l,static:u=!1}){se(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof r=="string"&&(r=el(r));let{pathname:p="/",search:y="",hash:E="",state:A=null,key:R="default"}=r,D=K.useMemo(()=>{let N=Hi(p,f);return N==null?null:{location:{pathname:N,search:y,hash:E,state:A,key:R},navigationType:a}},[f,p,y,E,A,R,a]);return Yn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:K.createElement(Er.Provider,{value:m},K.createElement(Fo.Provider,{children:t,value:D}))}function UA({children:i,location:t}){return TA(am(i),t)}function am(i,t=[]){let r=[];return K.Children.forEach(i,(a,l)=>{if(!K.isValidElement(a))return;let u=[...t,l];if(a.type===K.Fragment){r.push.apply(r,am(a.props.children,u));return}se(a.type===Eo,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),se(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=am(a.props.children,u)),r.push(f)}),r}var xc="get",Vc="application/x-www-form-urlencoded";function hh(i){return i!=null&&typeof i.tagName=="string"}function LA(i){return hh(i)&&i.tagName.toLowerCase()==="button"}function PA(i){return hh(i)&&i.tagName.toLowerCase()==="form"}function zA(i){return hh(i)&&i.tagName.toLowerCase()==="input"}function kA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jA(i,t){return i.button===0&&(!t||t==="_self")&&!kA(i)}function sm(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((t,r)=>{let a=i[r];return t.concat(Array.isArray(a)?a.map(l=>[r,l]):[[r,a]])},[]))}function BA(i,t){let r=sm(i);return t&&t.forEach((a,l)=>{r.has(l)||t.getAll(l).forEach(u=>{r.append(l,u)})}),r}var _c=null;function qA(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var HA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qd(i){return i!=null&&!HA.has(i)?(Yn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):i}function FA(i,t){let r,a,l,u,f;if(PA(i)){let m=i.getAttribute("action");a=m?Hi(m,t):null,r=i.getAttribute("method")||xc,l=qd(i.getAttribute("enctype"))||Vc,u=new FormData(i)}else if(LA(i)||zA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?Hi(p,t):null,r=i.getAttribute("formmethod")||m.getAttribute("method")||xc,l=qd(i.getAttribute("formenctype"))||qd(m.getAttribute("enctype"))||Vc,u=new FormData(m,i),!qA()){let{name:y,type:E,value:A}=i;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,A)}}else{if(hh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xc,a=null,l=Vc,f=i}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:r.toLowerCase(),encType:l,formData:u,body:f}}function Gm(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function GA(i,t){if(i.id in t)return t[i.id];try{let r=await import(i.module);return t[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $A(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function QA(i,t,r){let a=await Promise.all(i.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await GA(u,r);return f.links?f.links():[]}return[]}));return ZA(a.flat(1).filter($A).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Zv(i,t,r,a,l,u){let f=(p,y)=>r[y]?p.route.id!==r[y].route.id:!0,m=(p,y)=>{var E;return r[y].pathname!==p.pathname||((E=r[y].route.path)==null?void 0:E.endsWith("*"))&&r[y].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{var A;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((A=r[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function KA(i,t,{includeHydrateFallback:r}={}){return YA(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function YA(i){return[...new Set(i)]}function XA(i){let t={},r=Object.keys(i).sort();for(let a of r)t[a]=i[a];return t}function ZA(i,t){let r=new Set;return new Set(t),i.reduce((a,l)=>{let u=JSON.stringify(XA(l));return r.has(u)||(r.add(u),a.push({key:u,link:l})),a},[])}function WA(i){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function JA(){let i=K.useContext(nl);return Gm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function tb(){let i=K.useContext(ch);return Gm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var $m=K.createContext(void 0);$m.displayName="FrameworkContext";function j0(){let i=K.useContext($m);return Gm(i,"You must render this element inside a <HydratedRouter> element"),i}function eb(i,t){let r=K.useContext($m),[a,l]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:A}=t,R=K.useRef(null);K.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let q=$=>{$.forEach(J=>{f(J.isIntersecting)})},P=new IntersectionObserver(q,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[i]),K.useEffect(()=>{if(a){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[a]);let D=()=>{l(!0)},N=()=>{l(!1),f(!1)};return r?i!=="intent"?[u,R,{}]:[u,R,{onFocus:vo(m,D),onBlur:vo(p,N),onMouseEnter:vo(y,D),onMouseLeave:vo(E,N),onTouchStart:vo(A,D)}]:[!1,R,{}]}function vo(i,t){return r=>{i&&i(r),r.defaultPrevented||t(r)}}function nb({page:i,...t}){let{router:r}=JA(),a=K.useMemo(()=>D0(r.routes,i,r.basename),[r.routes,i,r.basename]);return a?K.createElement(ib,{page:i,matches:a,...t}):null}function rb(i){let{manifest:t,routeModules:r}=j0(),[a,l]=K.useState([]);return K.useEffect(()=>{let u=!1;return QA(i,t,r).then(f=>{u||l(f)}),()=>{u=!0}},[i,t,r]),a}function ib({page:i,matches:t,...r}){let a=Zi(),{manifest:l,routeModules:u}=j0(),{loaderData:f,matches:m}=tb(),p=K.useMemo(()=>Zv(i,t,m,l,a,"data"),[i,t,m,l,a]),y=K.useMemo(()=>Zv(i,t,m,l,a,"assets"),[i,t,m,l,a]),E=K.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let D=new Set,N=!1;if(t.forEach(P=>{var J;let $=l.routes[P.route.id];!$||!$.hasLoader||(!p.some(X=>X.route.id===P.route.id)&&P.route.id in f&&((J=u[P.route.id])!=null&&J.shouldRevalidate)||$.hasClientLoader?N=!0:D.add(P.route.id))}),D.size===0)return[];let q=WA(i);return N&&D.size>0&&q.searchParams.set("_routes",t.filter(P=>D.has(P.route.id)).map(P=>P.route.id).join(",")),[q.pathname+q.search]},[f,a,l,p,t,i,u]),A=K.useMemo(()=>KA(y,l),[y,l]),R=rb(y);return K.createElement(K.Fragment,null,E.map(D=>K.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...r})),A.map(D=>K.createElement("link",{key:D,rel:"modulepreload",href:D,...r})),R.map(({key:D,link:N})=>K.createElement("link",{key:D,...N})))}function ab(...i){return t=>{i.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B0&&(window.__reactRouterVersion="7.2.0")}catch{}function sb({basename:i,children:t,window:r}){let a=K.useRef();a.current==null&&(a.current=QS({window:r,v5Compat:!0}));let l=a.current,[u,f]=K.useState({action:l.action,location:l.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>l.listen(m),[l,m]),K.createElement(MA,{basename:i,children:t,location:u.location,navigationType:u.action,navigator:l})}var q0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H0=K.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:A,...R},D){let{basename:N}=K.useContext(Er),q=typeof y=="string"&&q0.test(y),P,$=!1;if(typeof y=="string"&&q&&(P=y,B0))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),U=Hi(I.pathname,N);I.origin===b.origin&&U!=null?y=U+I.search+I.hash:$=!0}catch{Yn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=_A(y,{relative:l}),[X,ot,at]=eb(a,R),ct=cb(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:l,viewTransition:A});function V(b){t&&t(b),b.defaultPrevented||ct(b)}let w=K.createElement("a",{...R,...at,href:P||J,onClick:$||u?t:V,ref:ab(D,ot),target:p,"data-discover":!q&&r==="render"?"true":void 0});return X&&!q?K.createElement(K.Fragment,null,w,K.createElement(nb,{page:J})):w});H0.displayName="Link";var lb=K.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let A=$o(f,{relative:y.relative}),R=Zi(),D=K.useContext(ch),{navigator:N,basename:q}=K.useContext(Er),P=D!=null&&pb(A)&&m===!0,$=N.encodeLocation?N.encodeLocation(A).pathname:A.pathname,J=R.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(J=J.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&q&&(X=Hi(X,q)||X);const ot=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let at=J===$||!l&&J.startsWith($)&&J.charAt(ot)==="/",ct=X!=null&&(X===$||!l&&X.startsWith($)&&X.charAt($.length)==="/"),V={isActive:at,isPending:ct,isTransitioning:P},w=at?t:void 0,b;typeof a=="function"?b=a(V):b=[a,at?"active":null,ct?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(V):u;return K.createElement(H0,{...y,"aria-current":w,className:b,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(V):p)});lb.displayName="NavLink";var ob=K.forwardRef(({discover:i="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:l,state:u,method:f=xc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:A,...R},D)=>{let N=db(),q=mb(m,{relative:y}),P=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&q0.test(m),J=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let ot=X.nativeEvent.submitter,at=(ot==null?void 0:ot.getAttribute("formmethod"))||f;N(ot||X.currentTarget,{fetcherKey:t,method:at,navigate:r,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:A})};return K.createElement("form",{ref:D,method:P,action:q,onSubmit:a?p:J,...R,"data-discover":!$&&i==="render"?"true":void 0})});ob.displayName="Form";function ub(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(i){let t=K.useContext(nl);return se(t,ub(i)),t}function cb(i,{target:t,replace:r,state:a,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=P0(),p=Zi(),y=$o(i,{relative:u});return K.useCallback(E=>{if(jA(E,t)){E.preventDefault();let A=r!==void 0?r:Oo(p)===Oo(y);m(i,{replace:A,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,y,r,a,t,i,l,u,f])}function G0(i){Yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=K.useRef(sm(i)),r=K.useRef(!1),a=Zi(),l=K.useMemo(()=>BA(a.search,r.current?null:t.current),[a.search]),u=P0(),f=K.useCallback((m,p)=>{const y=sm(typeof m=="function"?m(l):m);r.current=!0,u("?"+y,p)},[u,l]);return[l,f]}var hb=0,fb=()=>`__${String(++hb)}__`;function db(){let{router:i}=F0("useSubmit"),{basename:t}=K.useContext(Er),r=VA();return K.useCallback(async(a,l={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=FA(a,t);if(l.navigate===!1){let E=l.fetcherKey||fb();await i.fetch(E,r,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await i.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,r])}function mb(i,{relative:t}={}){let{basename:r}=K.useContext(Er),a=K.useContext(Tr);se(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...$o(i||".",{relative:t})},f=Zi();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Yr([r,u.pathname])),Oo(u)}function pb(i,t={}){let r=K.useContext(M0);se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=F0("useViewTransitionState"),l=$o(i,{relative:t.relative});if(!r.isTransitioning)return!1;let u=Hi(r.currentLocation.pathname,a)||r.currentLocation.pathname,f=Hi(r.nextLocation.pathname,a)||r.nextLocation.pathname;return qc(l.pathname,f)!=null||qc(l.pathname,u)!=null}new TextEncoder;const $0=(i,t)=>{const r=Q0(i.length)-i.reduce((a,l)=>a+l,0);return i.map((a,l)=>{const u=i.filter(D=>D>a).length,f=i.filter(D=>D===a).length,m=i.slice(0,l).filter(D=>D===a).length,p=(a-Jv)/1e3,y=u===0?(Jv-K0)*4:0,E=1e3*t.uma.slice(u,u+f).reduce((D,N)=>D+N,0),A=Wv(y+E,f)[m]/1e3,R=u===0?r%f===0?r/f/1e3:Wv(1e3,f)[m]*(r/1e3)/1e3:0;return p+A+R})},Q0=i=>i*K0,Wv=(i,t)=>{const r=100*t,a=Math.trunc(i/r),l=i%r,u=Math.abs(l/100);return Array.from({length:t},(f,m)=>100*a+(m<u?l/u:0)).sort((f,m)=>m-f)},K0=25e3,Jv=3e4,gb=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=function(i){const t=[];let r=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[r++]=l:l<2048?(t[r++]=l>>6|192,t[r++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[r++]=l>>18|240,t[r++]=l>>12&63|128,t[r++]=l>>6&63|128,t[r++]=l&63|128):(t[r++]=l>>12|224,t[r++]=l>>6&63|128,t[r++]=l&63|128)}return t},yb=function(i){const t=[];let r=0,a=0;for(;r<i.length;){const l=i[r++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=i[r++];t[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=i[r++],f=i[r++],m=i[r++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[r++],f=i[r++];t[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const u=i[l],f=l+1<i.length,m=f?i[l+1]:0,p=l+2<i.length,y=p?i[l+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,D=y&63;p||(D=64,f||(R=64)),a.push(r[E],r[A],r[R],r[D])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Y0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):yb(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const u=r[i.charAt(l++)],m=l<i.length?r[i.charAt(l)]:0;++l;const y=l<i.length?r[i.charAt(l)]:64;++l;const A=l<i.length?r[i.charAt(l)]:64;if(++l,u==null||m==null||y==null||A==null)throw new vb;const R=u<<2|m>>4;if(a.push(R),y!==64){const D=m<<4&240|y>>2;if(a.push(D),A!==64){const N=y<<6&192|A;a.push(N)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _b=function(i){const t=Y0(i);return X0.encodeByteArray(t,!0)},Hc=function(i){return _b(i).replace(/\./g,"")},Eb=function(i){try{return X0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=()=>Tb().__FIREBASE_DEFAULTS__,Ab=()=>{if(typeof process>"u"||typeof t_>"u")return;const i=t_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},bb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&Eb(i[1]);return t&&JSON.parse(t)},Qm=()=>{try{return gb()||Sb()||Ab()||bb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Rb=i=>{var t,r;return(r=(t=Qm())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},wb=i=>{const t=Rb(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},Z0=()=>{var i;return(i=Qm())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Hc(JSON.stringify(r)),Hc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){var i;const t=(i=Qm())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ib(){return!Vb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ob(){try{return typeof indexedDB=="object"}catch{return!1}}function Nb(){return new Promise((i,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),r||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{r=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="FirebaseError";class rl extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=Mb,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W0.prototype.create)}}class W0{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?Ub(u,a):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new rl(l,m,a)}}function Ub(i,t){return i.replace(Lb,(r,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Lb=/\{\$([^}]+)}/g;function Fc(i,t){if(i===t)return!0;const r=Object.keys(i),a=Object.keys(t);for(const l of r){if(!a.includes(l))return!1;const u=i[l],f=t[l];if(e_(u)&&e_(f)){if(!Fc(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!r.includes(l))return!1;return!0}function e_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(i){return i&&i._delegate?i._delegate:i}class No{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new Cb;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:r});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kb(t))try{this.getOrInitializeService({instanceIdentifier:Na})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(t=Na){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Na){return this.instances.has(t)}getOptions(t=Na){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(l)}return l}onInit(t,r){var a;const l=this.normalizeInstanceIdentifier(r),u=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;u.add(t),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&t(f,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const l of a)try{l(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zb(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Na){return this.component?this.component.multipleInstances?t:Na:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zb(i){return i===Na?void 0:i}function kb(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Pb(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Bt||(Bt={}));const Bb={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},qb=Bt.INFO,Hb={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},Fb=(i,t,...r)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=Hb[t];if(l)console[l](`[${a}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class J0{constructor(t){this.name=t,this._logLevel=qb,this._logHandler=Fb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const Gb=(i,t)=>t.some(r=>i instanceof r);let n_,r_;function $b(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qb(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tE=new WeakMap,lm=new WeakMap,eE=new WeakMap,Hd=new WeakMap,Km=new WeakMap;function Kb(i){const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{r(ki(i.result)),l()},f=()=>{a(i.error),l()};i.addEventListener("success",u),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&tE.set(r,i)}).catch(()=>{}),Km.set(t,i),t}function Yb(i){if(lm.has(i))return;const t=new Promise((r,a)=>{const l=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{r(),l()},f=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});lm.set(i,t)}let om={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return lm.get(i);if(t==="objectStoreNames")return i.objectStoreNames||eE.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ki(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Xb(i){om=i(om)}function Zb(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=i.call(Fd(this),t,...r);return eE.set(a,t.sort?t.sort():[t]),ki(a)}:Qb().includes(i)?function(...t){return i.apply(Fd(this),t),ki(tE.get(this))}:function(...t){return ki(i.apply(Fd(this),t))}}function Wb(i){return typeof i=="function"?Zb(i):(i instanceof IDBTransaction&&Yb(i),Gb(i,$b())?new Proxy(i,om):i)}function ki(i){if(i instanceof IDBRequest)return Kb(i);if(Hd.has(i))return Hd.get(i);const t=Wb(i);return t!==i&&(Hd.set(i,t),Km.set(t,i)),t}const Fd=i=>Km.get(i);function Jb(i,t,{blocked:r,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(i,t),m=ki(f);return a&&f.addEventListener("upgradeneeded",p=>{a(ki(f.result),p.oldVersion,p.newVersion,ki(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const tR=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],Gd=new Map;function i_(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,l=eR.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(l||tR.includes(r)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[r](...m),l&&p.done]))[0]};return Gd.set(t,u),u}Xb(i=>({...i,get:(t,r,a)=>i_(t,r)||i.get(t,r,a),has:(t,r)=>!!i_(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(rR(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function rR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const um="@firebase/app",a_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new J0("@firebase/app"),iR="@firebase/app-compat",aR="@firebase/analytics-compat",sR="@firebase/analytics",lR="@firebase/app-check-compat",oR="@firebase/app-check",uR="@firebase/auth",cR="@firebase/auth-compat",hR="@firebase/database",fR="@firebase/data-connect",dR="@firebase/database-compat",mR="@firebase/functions",pR="@firebase/functions-compat",gR="@firebase/installations",yR="@firebase/installations-compat",vR="@firebase/messaging",_R="@firebase/messaging-compat",ER="@firebase/performance",TR="@firebase/performance-compat",SR="@firebase/remote-config",AR="@firebase/remote-config-compat",bR="@firebase/storage",RR="@firebase/storage-compat",wR="@firebase/firestore",CR="@firebase/vertexai",DR="@firebase/firestore-compat",xR="firebase",VR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",IR={[um]:"fire-core",[iR]:"fire-core-compat",[sR]:"fire-analytics",[aR]:"fire-analytics-compat",[oR]:"fire-app-check",[lR]:"fire-app-check-compat",[uR]:"fire-auth",[cR]:"fire-auth-compat",[hR]:"fire-rtdb",[fR]:"fire-data-connect",[dR]:"fire-rtdb-compat",[mR]:"fire-fn",[pR]:"fire-fn-compat",[gR]:"fire-iid",[yR]:"fire-iid-compat",[vR]:"fire-fcm",[_R]:"fire-fcm-compat",[ER]:"fire-perf",[TR]:"fire-perf-compat",[SR]:"fire-rc",[AR]:"fire-rc-compat",[bR]:"fire-gcs",[RR]:"fire-gcs-compat",[wR]:"fire-fst",[DR]:"fire-fst-compat",[CR]:"fire-vertex","fire-js":"fire-js",[xR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,OR=new Map,hm=new Map;function s_(i,t){try{i.container.addComponent(t)}catch(r){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function $c(i){const t=i.name;if(hm.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,i);for(const r of Gc.values())s_(r,i);for(const r of OR.values())s_(r,i);return!0}function NR(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function MR(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new W0("app","Firebase",UR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new No("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=VR;function nE(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:cm,automaticDataCollectionEnabled:!1},t),l=a.name;if(typeof l!="string"||!l)throw ji.create("bad-app-name",{appName:String(l)});if(r||(r=Z0()),!r)throw ji.create("no-options");const u=Gc.get(l);if(u){if(Fc(r,u.options)&&Fc(a,u.config))return u;throw ji.create("duplicate-app",{appName:l})}const f=new jb(l);for(const p of hm.values())f.addComponent(p);const m=new LR(r,a,f);return Gc.set(l,m),m}function zR(i=cm){const t=Gc.get(i);if(!t&&i===cm&&Z0())return nE();if(!t)throw ji.create("no-app",{appName:i});return t}function js(i,t,r){var a;let l=(a=IR[i])!==null&&a!==void 0?a:i;r&&(l+=`-${r}`);const u=l.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(m.join(" "));return}$c(new No(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",jR=1,Mo="firebase-heartbeat-store";let $d=null;function rE(){return $d||($d=Jb(kR,jR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Mo)}catch(r){console.warn(r)}}}}).catch(i=>{throw ji.create("idb-open",{originalErrorMessage:i.message})})),$d}async function BR(i){try{const r=(await rE()).transaction(Mo),a=await r.objectStore(Mo).get(iE(i));return await r.done,a}catch(t){if(t instanceof rl)Xr.warn(t.message);else{const r=ji.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xr.warn(r.message)}}}async function l_(i,t){try{const a=(await rE()).transaction(Mo,"readwrite");await a.objectStore(Mo).put(t,iE(i)),await a.done}catch(r){if(r instanceof rl)Xr.warn(r.message);else{const a=ji.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Xr.warn(a.message)}}}function iE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1024,HR=30;class FR{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new $R(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=o_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>HR){const f=QR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Xr.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=o_(),{heartbeatsToSend:a,unsentEntries:l}=GR(this._heartbeatsCache.heartbeats),u=Hc(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Xr.warn(r),""}}}function o_(){return new Date().toISOString().substring(0,10)}function GR(i,t=qR){const r=[];let a=i.slice();for(const l of i){const u=r.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),u_(r)>t){u.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),u_(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class $R{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ob()?Nb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await BR(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return l_(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const l=await this.read();return l_(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function u_(i){return Hc(JSON.stringify({version:2,heartbeats:i})).length}function QR(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(i){$c(new No("platform-logger",t=>new nR(t),"PRIVATE")),$c(new No("heartbeat",t=>new FR(t),"PRIVATE")),js(um,a_,i),js(um,a_,"esm2017"),js("fire-js","")}KR("");var YR="firebase",XR="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(YR,XR,"app");var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bi,aE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,w){function b(){}b.prototype=w.prototype,V.D=w.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(I,U,k){for(var x=Array(arguments.length-2),me=2;me<arguments.length;me++)x[me-2]=arguments[me];return w.prototype[U].apply(I,x)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,w,b){b||(b=0);var I=Array(16);if(typeof w=="string")for(var U=0;16>U;++U)I[U]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(U=0;16>U;++U)I[U]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=V.g[0],b=V.g[1],U=V.g[2];var k=V.g[3],x=w+(k^b&(U^k))+I[0]+3614090360&4294967295;w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[2]+606105819&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[3]+3250441966&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(k^b&(U^k))+I[4]+4118548399&4294967295,w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[6]+2821735955&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[7]+4249261313&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(k^b&(U^k))+I[8]+1770035416&4294967295,w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[10]+4294925233&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[11]+2304563134&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(k^b&(U^k))+I[12]+1804603682&4294967295,w=b+(x<<7&4294967295|x>>>25),x=k+(U^w&(b^U))+I[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=U+(b^k&(w^b))+I[14]+2792965006&4294967295,U=k+(x<<17&4294967295|x>>>15),x=b+(w^U&(k^w))+I[15]+1236535329&4294967295,b=U+(x<<22&4294967295|x>>>10),x=w+(U^k&(b^U))+I[1]+4129170786&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[11]+643717713&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[0]+3921069994&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(U^k&(b^U))+I[5]+3593408605&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[15]+3634488961&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[4]+3889429448&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(U^k&(b^U))+I[9]+568446438&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[3]+4107603335&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[8]+1163531501&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(U^k&(b^U))+I[13]+2850285829&4294967295,w=b+(x<<5&4294967295|x>>>27),x=k+(b^U&(w^b))+I[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=U+(w^b&(k^w))+I[7]+1735328473&4294967295,U=k+(x<<14&4294967295|x>>>18),x=b+(k^w&(U^k))+I[12]+2368359562&4294967295,b=U+(x<<20&4294967295|x>>>12),x=w+(b^U^k)+I[5]+4294588738&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[11]+1839030562&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[14]+4259657740&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(b^U^k)+I[1]+2763975236&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[7]+4139469664&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[10]+3200236656&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(b^U^k)+I[13]+681279174&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[3]+3572445317&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[6]+76029189&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(b^U^k)+I[9]+3654602809&4294967295,w=b+(x<<4&4294967295|x>>>28),x=k+(w^b^U)+I[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=U+(k^w^b)+I[15]+530742520&4294967295,U=k+(x<<16&4294967295|x>>>16),x=b+(U^k^w)+I[2]+3299628645&4294967295,b=U+(x<<23&4294967295|x>>>9),x=w+(U^(b|~k))+I[0]+4096336452&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[14]+2878612391&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[5]+4237533241&4294967295,b=U+(x<<21&4294967295|x>>>11),x=w+(U^(b|~k))+I[12]+1700485571&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[10]+4293915773&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[1]+2240044497&4294967295,b=U+(x<<21&4294967295|x>>>11),x=w+(U^(b|~k))+I[8]+1873313359&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[6]+2734768916&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[13]+1309151649&4294967295,b=U+(x<<21&4294967295|x>>>11),x=w+(U^(b|~k))+I[4]+4149444226&4294967295,w=b+(x<<6&4294967295|x>>>26),x=k+(b^(w|~U))+I[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=U+(w^(k|~b))+I[2]+718787259&4294967295,U=k+(x<<15&4294967295|x>>>17),x=b+(k^(U|~w))+I[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(U+(x<<21&4294967295|x>>>11))&4294967295,V.g[2]=V.g[2]+U&4294967295,V.g[3]=V.g[3]+k&4294967295}a.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var b=w-this.blockSize,I=this.B,U=this.h,k=0;k<w;){if(U==0)for(;k<=b;)l(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<w;)if(I[U++]=V.charCodeAt(k++),U==this.blockSize){l(this,I),U=0;break}}else for(;k<w;)if(I[U++]=V[k++],U==this.blockSize){l(this,I),U=0;break}}this.h=U,this.o+=w},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var b=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=b&255,b/=256;for(this.u(V),V=Array(16),w=b=0;4>w;++w)for(var I=0;32>I;I+=8)V[b++]=this.g[w]>>>I&255;return V};function u(V,w){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=w(V)}function f(V,w){this.h=w;for(var b=[],I=!0,U=V.length-1;0<=U;U--){var k=V[U]|0;I&&k==w||(b[U]=k,I=!1)}this.g=b}var m={};function p(V){return-128<=V&&128>V?u(V,function(w){return new f([w|0],0>w?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return P(y(-V));for(var w=[],b=1,I=0;V>=b;I++)w[I]=V/b|0,b*=4294967296;return new f(w,0)}function E(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return P(E(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(w,8)),I=A,U=0;U<V.length;U+=8){var k=Math.min(8,V.length-U),x=parseInt(V.substring(U,U+k),w);8>k?(k=y(Math.pow(w,k)),I=I.j(k).add(y(x))):(I=I.j(b),I=I.add(y(x)))}return I}var A=p(0),R=p(1),D=p(16777216);i=f.prototype,i.m=function(){if(q(this))return-P(this).m();for(var V=0,w=1,b=0;b<this.g.length;b++){var I=this.i(b);V+=(0<=I?I:4294967296+I)*w,w*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(q(this))return"-"+P(this).toString(V);for(var w=y(Math.pow(V,6)),b=this,I="";;){var U=ot(b,w).g;b=$(b,U.j(w));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=U,N(b))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function q(V){return V.h==-1}i.l=function(V){return V=$(this,V),q(V)?-1:N(V)?0:1};function P(V){for(var w=V.g.length,b=[],I=0;I<w;I++)b[I]=~V.g[I];return new f(b,~V.h).add(R)}i.abs=function(){return q(this)?P(this):this},i.add=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0,U=0;U<=w;U++){var k=I+(this.i(U)&65535)+(V.i(U)&65535),x=(k>>>16)+(this.i(U)>>>16)+(V.i(U)>>>16);I=x>>>16,k&=65535,x&=65535,b[U]=x<<16|k}return new f(b,b[b.length-1]&-2147483648?-1:0)};function $(V,w){return V.add(P(w))}i.j=function(V){if(N(this)||N(V))return A;if(q(this))return q(V)?P(this).j(P(V)):P(P(this).j(V));if(q(V))return P(this.j(P(V)));if(0>this.l(D)&&0>V.l(D))return y(this.m()*V.m());for(var w=this.g.length+V.g.length,b=[],I=0;I<2*w;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var U=0;U<V.g.length;U++){var k=this.i(I)>>>16,x=this.i(I)&65535,me=V.i(U)>>>16,oe=V.i(U)&65535;b[2*I+2*U]+=x*oe,J(b,2*I+2*U),b[2*I+2*U+1]+=k*oe,J(b,2*I+2*U+1),b[2*I+2*U+1]+=x*me,J(b,2*I+2*U+1),b[2*I+2*U+2]+=k*me,J(b,2*I+2*U+2)}for(I=0;I<w;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=w;I<2*w;I++)b[I]=0;return new f(b,0)};function J(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function X(V,w){this.g=V,this.h=w}function ot(V,w){if(N(w))throw Error("division by zero");if(N(V))return new X(A,A);if(q(V))return w=ot(P(V),w),new X(P(w.g),P(w.h));if(q(w))return w=ot(V,P(w)),new X(P(w.g),w.h);if(30<V.g.length){if(q(V)||q(w))throw Error("slowDivide_ only works with positive integers.");for(var b=R,I=w;0>=I.l(V);)b=at(b),I=at(I);var U=ct(b,1),k=ct(I,1);for(I=ct(I,2),b=ct(b,2);!N(I);){var x=k.add(I);0>=x.l(V)&&(U=U.add(b),k=x),I=ct(I,1),b=ct(b,1)}return w=$(V,U.j(w)),new X(U,w)}for(U=A;0<=V.l(w);){for(b=Math.max(1,Math.floor(V.m()/w.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=y(b),x=k.j(w);q(x)||0<x.l(V);)b-=I,k=y(b),x=k.j(w);N(k)&&(k=R),U=U.add(k),V=$(V,x)}return new X(U,V)}i.A=function(V){return ot(this,V).h},i.and=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)&V.i(I);return new f(b,this.h&V.h)},i.or=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)|V.i(I);return new f(b,this.h|V.h)},i.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),b=[],I=0;I<w;I++)b[I]=this.i(I)^V.i(I);return new f(b,this.h^V.h)};function at(V){for(var w=V.g.length+1,b=[],I=0;I<w;I++)b[I]=V.i(I)<<1|V.i(I-1)>>>31;return new f(b,V.h)}function ct(V,w){var b=w>>5;w%=32;for(var I=V.g.length-b,U=[],k=0;k<I;k++)U[k]=0<w?V.i(k+b)>>>w|V.i(k+b+1)<<32-w:V.i(k+b);return new f(U,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,aE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Bi=f}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,To,lE,Ic,fm,oE,uE,cE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=r(this);function l(c,g){if(g)t:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break t;v=v[j]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function A(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function R(c,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function D(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function N(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,G){for(var rt=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)rt[Pt-2]=arguments[Pt];return g.prototype[j].apply(S,rt)}}function q(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function P(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const j=c.length||0,G=S.length||0;c.length=j+G;for(let rt=0;rt<G;rt++)c[j+rt]=S[rt]}else c.push(S)}}class ${constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var at=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ct(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function V(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function w(c){const g={};for(const v in c)g[v]=c[v];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<b.length;G++)v=b[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function U(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Dt;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class me{constructor(){this.h=this.g=null}add(g,v){const S=oe.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new $(()=>new it,c=>c.reset());class it{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,Dt=new me,O=()=>{const c=m.Promise.resolve(void 0);yt=()=>{c.then(et)}};var et=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){k(v)}var g=oe;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}mt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function St(c,g){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(at){t:{try{ot(g.nodeName);var j=!0;break t}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&St.aa.h.call(this)}}N(St,lt);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),It=0;function $t(c,g,v,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=j,this.key=++It,this.da=this.fa=!1}function qt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ve(c){this.src=c,this.g={},this.h=0}ve.prototype.add=function(c,g,v,S,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var rt=bn(c,g,S,j);return-1<rt?(g=c[rt],v||(g.fa=!1)):(g=new $t(g,this.src,G,!!S,j),g.fa=v,c.push(g)),g};function Ne(c,g){var v=g.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=j)&&Array.prototype.splice.call(S,j,1),G&&(qt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function bn(c,g,v,S){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return j}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),ti={};function Sr(c,g,v,S,j){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Sr(c,g[G],v,S,j);return null}return v=Wo(v),c&&c[ee]?c.K(g,v,y(S)?!!S.capture:!1,j):ul(c,g,v,!1,S,j)}function ul(c,g,v,S,j,G){if(!g)throw Error("Invalid event type");var rt=y(j)?!!j.capture:!!j,Pt=cl(c);if(Pt||(c[Jr]=Pt=new ve(c)),v=Pt.add(g,v,S,rt,G),v.proxy)return v;if(S=Fa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)st||(j=rt),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent($a(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fa(){function c(v){return g.call(c.src,c.listener,v)}const g=Lh;return c}function Ga(c,g,v,S,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ga(c,g[G],v,S,j);else S=y(S)?!!S.capture:!!S,v=Wo(v),c&&c[ee]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=bn(G,v,S,j),-1<v&&(qt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=cl(c))&&(g=c.g[g.toString()],c=-1,g&&(c=bn(g,v,S,j)),(v=-1<c?g[c]:null)&&ta(v))}function ta(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ee])Ne(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent($a(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=cl(g))?(Ne(v,c),v.h==0&&(v.src=null,g[Jr]=null)):qt(c)}}}function $a(c){return c in ti?ti[c]:ti[c]="on"+c}function Lh(c,g){if(c.da)c=!0;else{g=new St(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&ta(c),c=v.call(S,g)}return c}function cl(c){return c=c[Jr],c instanceof ve?c:null}var on="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(c){return typeof c=="function"?c:(c[on]||(c[on]=function(g){return c.handleEvent(g)}),c[on])}function be(){ht.call(this),this.i=new ve(this),this.M=this,this.F=null}N(be,ht),be.prototype[ee]=!0,be.prototype.removeEventListener=function(c,g,v,S){Ga(this,c,g,v,S)};function Me(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new lt(g,c);else if(g instanceof lt)g.target=g.target||c;else{var j=g;g=new lt(S,c),I(g,j)}if(j=!0,v)for(var G=v.length-1;0<=G;G--){var rt=g.g=v[G];j=Ar(rt,S,!0,g)&&j}if(rt=g.g=c,j=Ar(rt,S,!0,g)&&j,j=Ar(rt,S,!1,g)&&j,v)for(G=0;G<v.length;G++)rt=g.g=v[G],j=Ar(rt,S,!1,g)&&j}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)qt(v[S]);delete c.g[g],c.h--}}this.F=null},be.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},be.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Ar(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,G=0;G<g.length;++G){var rt=g[G];if(rt&&!rt.da&&rt.capture==v){var Pt=rt.listener,we=rt.ha||rt.src;rt.fa&&Ne(c.i,rt),j=Pt.call(we,S)!==!1&&j}}return j&&!S.defaultPrevented}function Jo(c,g,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function hl(c){c.g=Jo(()=>{c.g=null,c.i&&(c.i=!1,hl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ph extends ht{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ea(c){ht.call(this),this.h=c,this.g={}}N(ea,ht);var ei=[];function Xe(c){ct(c.g,function(g,v){this.g.hasOwnProperty(v)&&ta(g)},c),c.g={}}ea.prototype.N=function(){ea.aa.N.call(this),Xe(this)},ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fl=m.JSON.stringify,Xn=m.JSON.parse,nn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function dl(){}dl.prototype.h=null;function tu(c){return c.h||(c.h=c.i())}function eu(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ni(){lt.call(this,"d")}N(ni,lt);function qn(){lt.call(this,"c")}N(qn,lt);var Rn={},ri=null;function Qa(){return ri=ri||new be}Rn.La="serverreachability";function ml(c){lt.call(this,Rn.La,c)}N(ml,lt);function ii(c){const g=Qa();Me(g,new ml(g))}Rn.STAT_EVENT="statevent";function Ka(c,g){lt.call(this,Rn.STAT_EVENT,c),this.stat=g}N(Ka,lt);function pe(c){const g=Qa();Me(g,new Ka(g,c))}Rn.Ma="timingevent";function nu(c,g){lt.call(this,Rn.Ma,c),this.size=g}N(nu,lt);function ai(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function ru(c,g,v,S,j,G){c.info(function(){if(c.g)if(G)for(var rt="",Pt=G.split("&"),we=0;we<Pt.length;we++){var zt=Pt[we].split("=");if(1<zt.length){var Pe=zt[0];zt=zt[1];var Ce=Pe.split("_");rt=2<=Ce.length&&Ce[1]=="type"?rt+(Pe+"="+zt+"&"):rt+(Pe+"=redacted&")}}else rt=null;else rt=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+v+`
`+rt})}function iu(c,g,v,S,j,G,rt){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+v+`
`+G+" "+rt})}function li(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ue(c,v)+(S?" "+S:"")})}function Wn(c,g){c.info(function(){return"TIMEOUT: "+g})}si.prototype.info=function(){};function Ue(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var rt=1;rt<j.length;rt++)j[rt]=""}}}}return fl(v)}catch{return g}}var Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},na;function Ya(){}N(Ya,dl),Ya.prototype.g=function(){return new XMLHttpRequest},Ya.prototype.i=function(){return{}},na=new Ya;function Jn(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pl}function pl(){this.i=null,this.g="",this.h=!1}var oi={},ra={};function Hn(c,g,v){c.L=1,c.v=sa(ue(g)),c.m=v,c.P=!0,Rr(c,null)}function Rr(c,g){c.F=Date.now(),re(c),c.A=ue(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Dr(v.i,"t",S),c.C=0,v=c.j.J,c.h=new pl,c.g=vu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Ph(R(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(ei[0]=j.toString()),j=ei);for(var G=0;G<j.length;G++){var rt=Sr(v,j[G],S||g.handleEvent,!1,g.h||g);if(!rt)break;g.g[rt.key]=rt}g=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ii(),ru(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Vn(c)==3?g.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)t:{const Ce=Vn(this.g);var g=this.g.Ba();const Or=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||Ce!=4||g==7||(g==8||0>=Or?ii(3):ii(2)),Xa(this);var v=this.g.Z();this.X=v;e:if(ui(this)){var S=cu(this.g);c="";var j=S.length,G=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),pn(this);var rt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==j-1)});S.length=0,this.h.g+=c,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=v==200,iu(this.i,this.u,this.A,this.l,this.R,Ce,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,we=this.g;if((Pt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Pt)){var zt=Pt;break e}}zt=null}if(v=zt)li(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gn(this,v);else{this.o=!1,this.s=3,pe(12),un(this),pn(this);break t}}if(this.P){v=!0;let He;for(;!this.J&&this.C<rt.length;)if(He=ci(this,rt),He==ra){Ce==4&&(this.s=4,pe(14),v=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(He==oi){this.s=4,pe(15),li(this.i,this.l,rt,"[Invalid Chunk]"),v=!1;break}else li(this.i,this.l,He,null),gn(this,He);if(ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||rt.length!=0||this.h.h||(this.s=1,pe(16),v=!1),this.o=this.o&&v,!v)li(this.i,this.l,rt,"[Invalid Chunked Response]"),un(this),pn(this);else if(0<rt.length&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.ba&&!Pe.M&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),da(Pe),Pe.M=!0,pe(11))}}else li(this.i,this.l,rt,null),gn(this,rt);Ce==4&&un(this),this.o&&!this.J&&(Ce==4?pu(this.j,this):(this.o=!1,re(this)))}else Hh(this.g),v==400&&0<rt.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),un(this),pn(this)}}}catch{}finally{}};function ui(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ci(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?ra:(v=Number(g.substring(v,S)),isNaN(v)?oi:(S+=1,S+v>g.length?ra:(g=g.slice(S,S+v),c.C=S+v,g)))}Jn.prototype.cancel=function(){this.J=!0,un(this)};function re(c){c.S=Date.now()+c.I,gl(c,c.I)}function gl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ai(R(c.ba,c),g)}function Xa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wn(this.i,this.A),this.L!=2&&(ii(),pe(17)),un(this),this.s=2,pn(this)):gl(this,this.S-c)};function pn(c){c.j.G==0||c.J||pu(c.j,c)}function un(c){Xa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Xe(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function gn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||hi(v.h,c))){if(!c.K&&hi(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ss(v),is(v);else break t;Cl(v),pe(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=ai(R(v.Za,v),6e3));if(1>=au(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ir(v,11)}else if((c.K||v.g==c)&&ss(v),!J(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let zt=j[g];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const Pe=zt[3];Pe!=null&&(v.la=Pe,v.j.info("VER="+v.la));const Ce=zt[4];Ce!=null&&(v.Aa=Ce,v.j.info("SVER="+v.Aa));const Or=zt[5];Or!=null&&typeof Or=="number"&&0<Or&&(S=1.5*Or,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const He=c.g;if(He){const sr=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var G=S.h;G.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(fi(G,G.h),G.h=null))}if(S.D){const xl=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;xl&&(S.ya=xl,Ht(S.I,S.D,xl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var rt=c;if(S.qa=yu(S,S.J?S.ia:null,S.W),rt.K){wn(S.h,rt);var Pt=rt,we=S.L;we&&(Pt.I=we),Pt.B&&(Xa(Pt),re(Pt)),S.g=rt}else du(S);0<v.i.length&&as(v)}else zt[0]!="stop"&&zt[0]!="close"||Ir(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ir(v,7):Rl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}ii(4)}catch{}}var zh=class{constructor(c,g){this.g=c,this.map=g}};function yl(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function au(c){return c.h?1:c.g?c.g.size:0}function hi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function fi(c,g){c.g?c.g.add(g):c.h=g}function wn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}yl.prototype.cancel=function(){if(this.i=rn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function rn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return q(c.i)}function su(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function kh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function ia(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=kh(c),S=su(c),j=S.length,G=0;G<j;G++)g.call(void 0,S[G],v&&v[G],c)}var _l=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var G=c[v].substring(0,S);j=c[v].substring(S+1)}else G=c[v];g(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function wr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wr){this.h=c.h,di(this,c.j),this.o=c.o,this.g=c.g,aa(this,c.s),this.l=c.l;var g=c.i,v=new tr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Wa(this,v),this.m=c.m}else c&&(g=String(c).match(_l))?(this.h=!1,di(this,g[1]||"",!0),this.o=mi(g[2]||""),this.g=mi(g[3]||"",!0),aa(this,g[4]),this.l=mi(g[5]||"",!0),Wa(this,g[6]||"",!0),this.m=mi(g[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}wr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Cn(g,El,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Cn(g,El,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cn(v,v.charAt(0)=="/"?Tl:lu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cn(v,qh)),c.join("")};function ue(c){return new wr(c)}function di(c,g,v){c.j=v?mi(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function aa(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Wa(c,g,v){g instanceof tr?(c.i=g,Sl(c.i,c.h)):(v||(g=Cn(g,Bh)),c.i=new tr(g,c.h))}function Ht(c,g,v){c.i.set(g,v)}function sa(c){return Ht(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mi(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,jh),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var El=/[#\/\?@]/g,lu=/[#\?:]/g,Tl=/[#\?]/g,Bh=/[#\?@]/g,qh=/#/g;function tr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&Za(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=tr.prototype,i.add=function(c,g){Dn(this),this.i=null,c=xr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ja(c,g){Dn(c),g=xr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Cr(c,g){return Dn(c),g=xr(c,g),c.g.has(g)}i.forEach=function(c,g){Dn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(g,j,S,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const j=c[S];for(let G=0;G<j.length;G++)v.push(g[S])}return v},i.V=function(c){Dn(this);let g=[];if(typeof c=="string")Cr(this,c)&&(g=g.concat(this.g.get(xr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},i.set=function(c,g){return Dn(this),this.i=null,c=xr(this,c),Cr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Dr(c,g,v){Ja(c,g),0<v.length&&(c.i=null,c.g.set(xr(c,g),q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),rt=this.V(S);for(S=0;S<rt.length;S++){var j=G;rt[S]!==""&&(j+="="+encodeURIComponent(String(rt[S]))),c.push(j)}}return this.i=c.join("&")};function xr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Sl(c,g){g&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(Ja(this,S),Dr(this,j,v))},c)),c.j=g}function ou(c,g){const v=new si;if(m.Image){const S=new Image;S.onload=D(xn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=D(xn,v,"TestLoadImage: error",!1,g,S),S.onabort=D(xn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=D(xn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function la(c,g){const v=new si,S=new AbortController,j=setTimeout(()=>{S.abort(),xn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?xn(v,"TestPingServer: ok",!0,g):xn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),xn(v,"TestPingServer: error",!1,g)})}function xn(c,g,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function oa(){this.g=new nn}function er(c,g,v){const S=v||"";try{ia(c,function(j,G){let rt=j;y(j)&&(rt=fl(j)),g.push(S+G+"="+encodeURIComponent(rt))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function pi(c){this.l=c.Ub||null,this.j=c.eb||!1}N(pi,dl),pi.prototype.g=function(){return new Vr(this.l,this.j)},pi.prototype.i=function(c){return function(){return c}}({});function Vr(c,g){be.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Vr,be),i=Vr.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,rr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?nr(this):rr(this),this.readyState==3&&Al(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,nr(this))},i.Qa=function(c){this.g&&(this.response=c,nr(this))},i.ga=function(){this.g&&nr(this)};function nr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,rr(c)}i.setRequestHeader=function(c,g){this.u.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function rr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bl(c){let g="";return ct(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Le(c,g,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=bl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ht(c,g,v))}function Qt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(Qt,be);var ts=/^https?$/i,ua=["POST","PUT"];i=Qt.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():na.g(),this.v=this.o?tu(this.o):tu(na),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){uu(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ua,g,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,rt]of v)this.g.setRequestHeader(G,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ca(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){uu(this,G)}};function uu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,es(c),ir(c)}function es(c){c.A||(c.A=!0,Me(c,"complete"),Me(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Me(this,"complete"),Me(this,"abort"),ir(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ir(this,!0)),Qt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ns(this):this.bb())},i.bb=function(){ns(this)};function ns(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Jo(c.Ea,0,c);else if(Me(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const rt=c.Z();t:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var S;if(S=rt===0){var j=String(c.D).match(_l)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!ts.test(j?j.toLowerCase():"")}v=S}if(v)Me(c,"complete"),Me(c,"success");else{c.m=6;try{var G=2<Vn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",es(c)}}finally{ir(c)}}}}function ir(c,g){if(c.g){ca(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Me(c,"ready");try{v.onreadystatechange=S}catch{}}}function ca(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Xn(g)}};function cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hh(c){const g={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var v=U(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[j]||[];g[j]=G,G.push(v)}V(g,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function rs(c){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,c),this.cb=ha("retryDelaySeedMs",1e4,c),this.Wa=ha("forwardChannelMaxRetries",2,c),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new yl(c&&c.concurrentRequestLimit),this.Da=new oa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=rs.prototype,i.la=8,i.G=1,i.connect=function(c,g,v,S){pe(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=yu(this,null,this.W),as(this)};function Rl(c){if(hu(c),c.G==3){var g=c.U++,v=ue(c.I);if(Ht(v,"SID",c.K),Ht(v,"RID",g),Ht(v,"TYPE","terminate"),fa(c,v),g=new Jn(c,c.j,g),g.L=2,g.v=sa(ue(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=vu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),re(g)}gu(c)}function is(c){c.g&&(da(c),c.g.cancel(),c.g=null)}function hu(c){is(c),c.u&&(m.clearTimeout(c.u),c.u=null),ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function as(c){if(!vl(c.h)&&!c.s){c.s=!0;var g=c.Ga;yt||O(),mt||(yt(),mt=!0),Dt.add(g,c),c.B=0}}function Fh(c,g){return au(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ai(R(c.Ga,c,g),Dl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Jn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),I(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=fu(this,j,g),v=ue(this.I),Ht(v,"RID",c),Ht(v,"CVER",22),this.D&&Ht(v,"X-HTTP-Session-Id",this.D),fa(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(bl(G)))+"&"+g:this.m&&Le(v,this.m,G)),fi(this.h,j),this.Ua&&Ht(v,"TYPE","init"),this.P?(Ht(v,"$req",g),Ht(v,"SID","null"),j.T=!0,Hn(j,v,null)):Hn(j,v,g),this.G=2}}else this.G==3&&(c?wl(this,c):this.i.length==0||vl(this.h)||wl(this))};function wl(c,g){var v;g?v=g.l:v=c.U++;const S=ue(c.I);Ht(S,"SID",c.K),Ht(S,"RID",v),Ht(S,"AID",c.T),fa(c,S),c.m&&c.o&&Le(S,c.m,c.o),v=new Jn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=fu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fi(c.h,v),Hn(v,S,g)}function fa(c,g){c.H&&ct(c.H,function(v,S){Ht(g,S,v)}),c.l&&ia({},function(v,S){Ht(g,S,v)})}function fu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;t:{var j=c.i;let G=-1;for(;;){const rt=["count="+v];G==-1?0<v?(G=j[0].g,rt.push("ofs="+G)):G=0:rt.push("ofs="+G);let Pt=!0;for(let we=0;we<v;we++){let zt=j[we].g;const Pe=j[we].map;if(zt-=G,0>zt)G=Math.max(0,j[we].g-100),Pt=!1;else try{er(Pe,rt,"req"+zt+"_")}catch{S&&S(Pe)}}if(Pt){S=rt.join("&");break t}}}return c=c.i.splice(0,v),g.D=c,S}function du(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;yt||O(),mt||(yt(),mt=!0),Dt.add(g,c),c.v=0}}function Cl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ai(R(c.Fa,c),Dl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ai(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),is(this),mu(this))};function da(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function mu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ue(c.qa);Ht(g,"RID","rpc"),Ht(g,"SID",c.K),Ht(g,"AID",c.T),Ht(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ht(g,"TO",c.ja),Ht(g,"TYPE","xmlhttp"),fa(c,g),c.m&&c.o&&Le(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=sa(ue(g)),v.m=null,v.P=!0,Rr(v,c)}i.Za=function(){this.C!=null&&(this.C=null,is(this),Cl(this),pe(19))};function ss(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function pu(c,g){var v=null;if(c.g==g){ss(c),da(c),c.g=null;var S=2}else if(hi(c.h,g))v=g.D,wn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;S=Qa(),Me(S,new nu(S,v)),as(c)}else du(c);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&Fh(c,g)||S==2&&Cl(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function Dl(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Ir(c,g){if(c.j.info("Error code "+g),g==2){var v=R(c.fb,c),S=c.Xa;const j=!S;S=new wr(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||di(S,"https"),sa(S),j?ou(S.toString(),v):la(S.toString(),v)}else pe(2);c.G=0,c.l&&c.l.sa(g),gu(c),hu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function gu(c){if(c.G=0,c.ka=[],c.l){const g=rn(c.h);(g.length!=0||c.i.length!=0)&&(P(c.ka,g),P(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function yu(c,g,v){var S=v instanceof wr?ue(v):new wr(v);if(S.g!="")g&&(S.g=g+"."+S.g),aa(S,S.s);else{var j=m.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var G=new wr(null);S&&di(G,S),g&&(G.g=g),j&&aa(G,j),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&Ht(S,v,g),Ht(S,"VER",c.la),fa(c,S),S}function vu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Qt(new pi({eb:v})):new Qt(c.pa),g.Ha(c.J),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}i=_u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ls(){}ls.prototype.g=function(c,g){return new an(c,g)};function an(c,g){be.call(this),this.g=new rs(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!J(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ar(this)}N(an,be),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Rl(this.g)},an.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=fl(c),c=v);g.i.push(new zh(g.Ya++,c)),g.G==3&&as(g)},an.prototype.N=function(){this.g.l=null,delete this.j,Rl(this.g),delete this.g,an.aa.N.call(this)};function Eu(c){ni.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}N(Eu,ni);function Tu(){qn.call(this),this.status=1}N(Tu,qn);function ar(c){this.g=c}N(ar,_u),ar.prototype.ua=function(){Me(this.g,"a")},ar.prototype.ta=function(c){Me(this.g,new Eu(c))},ar.prototype.sa=function(c){Me(this.g,new Tu)},ar.prototype.ra=function(){Me(this.g,"b")},ls.prototype.createWebChannel=ls.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,cE=function(){return new ls},uE=function(){return Qa()},oE=Rn,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Ic=Re,br.COMPLETE="complete",lE=br,eu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",be.prototype.listen=be.prototype.K,To=eu,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,sE=Qt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",f_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new J0("@firebase/firestore");function Us(){return ja.logLevel}function ut(i,...t){if(ja.logLevel<=Bt.DEBUG){const r=t.map(Ym);ja.debug(`Firestore (${il}): ${i}`,...r)}}function Zr(i,...t){if(ja.logLevel<=Bt.ERROR){const r=t.map(Ym);ja.error(`Firestore (${il}): ${i}`,...r)}}function qs(i,...t){if(ja.logLevel<=Bt.WARN){const r=t.map(Ym);ja.warn(`Firestore (${il}): ${i}`,...r)}}function Ym(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i="Unexpected state"){const t=`FIRESTORE (${il}) INTERNAL ASSERTION FAILED: `+i;throw Zr(t),new Error(t)}function Yt(i,t){i||Et()}function Rt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends rl{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ZR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(tn.UNAUTHENTICATED))}shutdown(){}}class WR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class JR{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Yt(this.o===void 0);let a=this.i;const l=p=>this.i!==a?(a=this.i,r(p)):Promise.resolve();let u=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new qi,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},m=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new qi)}},0),f()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string"),new hE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string"),new tn(t)}}class tw{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class ew{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new tw(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nw{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,MR(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){Yt(this.o===void 0);const a=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>a(u))};const l=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new d_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Yt(typeof r.token=="string"),this.R=r.token,new d_(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=rw(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<r&&(a+=t.charAt(l[u]%62))}return a}}function Lt(i,t){return i<t?-1:i>t?1:0}function Hs(i,t,r){return i.length===t.length&&i.every((a,l)=>r(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,p_=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*p_);return new Ie(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new gt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<m_)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-m_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new Ie(0,0))}static max(){return new At(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="__name__";class fr{constructor(t,r,a){r===void 0?r=0:r>t.length&&Et(),a===void 0?a=t.length-r:a>t.length-r&&Et(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return fr.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof fr?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const u=fr.compareSegments(t.get(l),r.get(l));if(u!==0)return u}return Math.sign(t.length-r.length)}static compareSegments(t,r){const a=fr.isNumericId(t),l=fr.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?fr.extractNumericId(t).compare(fr.extractNumericId(r)):t<r?-1:t>r?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Bi.fromString(t.substring(4,t.length-2))}}class de extends fr{construct(t,r,a){return new de(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new gt(nt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new de(r)}static emptyPath(){return new de([])}}const iw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends fr{construct(t,r,a){return new Ke(t,r,a)}static isValidIdentifier(t){return iw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g_}static keyField(){return new Ke([g_])}static fromServerFormat(t){const r=[];let a="",l=0;const u=()=>{if(a.length===0)throw new gt(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new gt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(a+=m,l++):(u(),l++)}if(u(),f)throw new gt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(r)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(de.fromString(t))}static fromName(t){return new vt(de.fromString(t).popFirst(5))}static empty(){return new vt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return de.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new de(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=-1;function aw(i,t){const r=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new Ie(r+1,0):new Ie(r,a));return new Gi(l,vt.empty(),t)}function sw(i){return new Gi(i.readTime,i.key,Uo)}class Gi{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new Gi(At.min(),vt.empty(),Uo)}static max(){return new Gi(At.max(),vt.empty(),Uo)}}function lw(i,t){let r=i.readTime.compareTo(t.readTime);return r!==0?r:(r=vt.comparator(i.documentKey,t.documentKey),r!==0?r:Lt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(i){if(i.code!==nt.FAILED_PRECONDITION||i.message!==ow)throw i;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new W((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(r,u).next(a,l)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof W?r:W.resolve(r)}catch(r){return W.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):W.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):W.reject(r)}static resolve(t){return new W((r,a)=>{r(t)})}static reject(t){return new W((r,a)=>{a(t)})}static waitFor(t){return new W((r,a)=>{let l=0,u=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&r()},p=>a(p))}),f=!0,u===l&&r()})}static or(t){let r=W.resolve(!1);for(const a of t)r=r.next(l=>l?W.resolve(l):a());return r}static forEach(t,r){const a=[];return t.forEach((l,u)=>{a.push(r.call(this,l,u))}),this.waitFor(a)}static mapArray(t,r){return new W((a,l)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;r(t[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>l(E))}})}static doWhile(t,r){return new W((a,l)=>{const u=()=>{t()===!0?r().next(()=>{u()},l):a()};u()})}}function cw(i){const t=i.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function sl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=-1;function dh(i){return i==null}function Qc(i){return i===0&&1/i==-1/0}function hw(i){return typeof i=="number"&&Number.isInteger(i)&&!Qc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="";function fw(i){let t="";for(let r=0;r<i.length;r++)t.length>0&&(t=y_(t)),t=dw(i.get(r),t);return y_(t)}function dw(i,t){let r=t;const a=i.length;for(let l=0;l<a;l++){const u=i.charAt(l);switch(u){case"\0":r+="";break;case dE:r+="";break;default:r+=u}}return r}function y_(i){return i+dE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(i){let t=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t++;return t}function Wi(i,t){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t(r,i[r])}function mE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,r){this.comparator=t,this.root=r||Qe.EMPTY}insert(t,r){return new le(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,r,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=r?a(t.key,r):1,r&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,r,a,l,u){this.key=t,this.value=r,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,l,u){return new Qe(t??this.key,r??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let l=this;const u=a(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,r,a),null):u===0?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(t,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,l=this;if(r(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),r(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Et();const t=this.left.check();if(t!==this.right.check())throw Et();return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et()}get value(){throw Et()}get color(){throw Et()}get left(){throw Et()}get right(){throw Et()}copy(t,r,a,l,u){return this}insert(t,r,a){return new Qe(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;r(l.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(t){return new __(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Oe(this.comparator);return r.data=t,r}}class __{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new An([])}unionWith(t){let r=new Oe(Ke.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new An(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Hs(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new pE("Invalid base64 string: "+u):u}}(t);return new Ye(r)}static fromUint8Array(t){const r=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(t);return new Ye(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const mw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(i){if(Yt(!!i),typeof i=="string"){let t=0;const r=mw.exec(i);if(Yt(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(i.seconds),nanos:ye(i.nanos)}}function ye(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Qi(i){return typeof i=="string"?Ye.fromBase64String(i):Ye.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="server_timestamp",yE="__type__",vE="__previous_value__",_E="__local_write_time__";function Zm(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[yE])===null||r===void 0?void 0:r.stringValue)===gE}function mh(i){const t=i.mapValue.fields[vE];return Zm(t)?mh(t):t}function Lo(i){const t=$i(i.mapValue.fields[_E].timestampValue);return new Ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,r,a,l,u,f,m,p,y){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Kc="(default)";class Po{constructor(t,r){this.projectId=t,this.database=r||Kc}static empty(){return new Po("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Po&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="__type__",gw="__max__",Sc={mapValue:{}},TE="__vector__",Yc="value";function Ki(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zm(i)?4:vw(i)?9007199254740991:yw(i)?10:11:Et()}function vr(i,t){if(i===t)return!0;const r=Ki(i);if(r!==Ki(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Lo(i).isEqual(Lo(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=$i(l.timestampValue),m=$i(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,u){return Qi(l.bytesValue).isEqual(Qi(u.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,u){return ye(l.geoPointValue.latitude)===ye(u.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(u.geoPointValue.longitude)}(i,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return ye(l.integerValue)===ye(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=ye(l.doubleValue),m=ye(u.doubleValue);return f===m?Qc(f)===Qc(m):isNaN(f)&&isNaN(m)}return!1}(i,t);case 9:return Hs(i.arrayValue.values||[],t.arrayValue.values||[],vr);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(v_(f)!==v_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vr(f[p],m[p])))return!1;return!0}(i,t);default:return Et()}}function zo(i,t){return(i.values||[]).find(r=>vr(r,t))!==void 0}function Fs(i,t){if(i===t)return 0;const r=Ki(i),a=Ki(t);if(r!==a)return Lt(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return Lt(i.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ye(u.integerValue||u.doubleValue),p=ye(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,t);case 3:return E_(i.timestampValue,t.timestampValue);case 4:return E_(Lo(i),Lo(t));case 5:return Lt(i.stringValue,t.stringValue);case 6:return function(u,f){const m=Qi(u),p=Qi(f);return m.compareTo(p)}(i.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Lt(m[y],p[y]);if(E!==0)return E}return Lt(m.length,p.length)}(i.referenceValue,t.referenceValue);case 8:return function(u,f){const m=Lt(ye(u.latitude),ye(f.latitude));return m!==0?m:Lt(ye(u.longitude),ye(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return T_(i.arrayValue,t.arrayValue);case 10:return function(u,f){var m,p,y,E;const A=u.fields||{},R=f.fields||{},D=(m=A[Yc])===null||m===void 0?void 0:m.arrayValue,N=(p=R[Yc])===null||p===void 0?void 0:p.arrayValue,q=Lt(((y=D==null?void 0:D.values)===null||y===void 0?void 0:y.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:T_(D,N)}(i.mapValue,t.mapValue);case 11:return function(u,f){if(u===Sc.mapValue&&f===Sc.mapValue)return 0;if(u===Sc.mapValue)return 1;if(f===Sc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const R=Lt(p[A],E[A]);if(R!==0)return R;const D=Fs(m[p[A]],y[E[A]]);if(D!==0)return D}return Lt(p.length,E.length)}(i.mapValue,t.mapValue);default:throw Et()}}function E_(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Lt(i,t);const r=$i(i),a=$i(t),l=Lt(r.seconds,a.seconds);return l!==0?l:Lt(r.nanos,a.nanos)}function T_(i,t){const r=i.values||[],a=t.values||[];for(let l=0;l<r.length&&l<a.length;++l){const u=Fs(r[l],a[l]);if(u)return u}return Lt(r.length,a.length)}function Gs(i){return dm(i)}function dm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const a=$i(r);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(r){return Qi(r).toBase64()}(i.bytesValue):"referenceValue"in i?function(r){return vt.fromName(r).toString()}(i.referenceValue):"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let a="[",l=!0;for(const u of r.values||[])l?l=!1:a+=",",a+=dm(u);return a+"]"}(i.arrayValue):"mapValue"in i?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",u=!0;for(const f of a)u?u=!1:l+=",",l+=`${f}:${dm(r.fields[f])}`;return l+"}"}(i.mapValue):Et()}function Oc(i){switch(Ki(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(i);return t?16+Oc(t):16;case 5:return 2*i.stringValue.length;case 6:return Qi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,u)=>l+Oc(u),0)}(i.arrayValue);case 10:case 11:return function(a){let l=0;return Wi(a.fields,(u,f)=>{l+=u.length+Oc(f)}),l}(i.mapValue);default:throw Et()}}function mm(i){return!!i&&"integerValue"in i}function Wm(i){return!!i&&"arrayValue"in i}function S_(i){return!!i&&"nullValue"in i}function A_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nc(i){return!!i&&"mapValue"in i}function yw(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[EE])===null||r===void 0?void 0:r.stringValue)===TE}function wo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Wi(i.mapValue.fields,(r,a)=>t.mapValue.fields[r]=wo(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=wo(i.arrayValue.values[r]);return t}return Object.assign({},i)}function vw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===gw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!Nc(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(r)}setAll(t){let r=Ke.emptyPath(),a={},l=[];t.forEach((f,m)=>{if(!r.isImmediateParentOf(m)){const p=this.getFieldsMap(r);this.applyChanges(p,a,l),a={},l=[],r=m.popLast()}f?a[m.lastSegment()]=wo(f):l.push(m.lastSegment())});const u=this.getFieldsMap(r);this.applyChanges(u,a,l)}delete(t){const r=this.field(t.popLast());Nc(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return vr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=r.mapValue.fields[t.get(a)];Nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(t,r,a){Wi(r,(l,u)=>t[l]=u);for(const l of a)delete t[l]}clone(){return new fn(wo(this.value))}}function SE(i){const t=[];return Wi(i.fields,(r,a)=>{const l=new Ke([r]);if(Nc(a)){const u=SE(a.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)}),new An(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,r,a,l,u,f,m){this.key=t,this.documentType=r,this.version=a,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new en(t,0,At.min(),At.min(),At.min(),fn.empty(),0)}static newFoundDocument(t,r,a,l){return new en(t,1,r,At.min(),a,l,0)}static newNoDocument(t,r){return new en(t,2,r,At.min(),At.min(),fn.empty(),0)}static newUnknownDocument(t,r){return new en(t,3,r,At.min(),At.min(),fn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,r){this.position=t,this.inclusive=r}}function b_(i,t,r){let a=0;for(let l=0;l<i.position.length;l++){const u=t[l],f=i.position[l];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(f.referenceValue),r.key):a=Fs(f,r.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function R_(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!vr(i.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,r="asc"){this.field=t,this.dir=r}}function _w(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{}class Ve extends AE{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new Tw(t,r,a):r==="array-contains"?new bw(t,a):r==="in"?new Rw(t,a):r==="not-in"?new ww(t,a):r==="array-contains-any"?new Cw(t,a):new Ve(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new Sw(t,a):new Aw(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Fs(r,this.value)):r!==null&&Ki(this.value)===Ki(r)&&this.matchesComparison(Fs(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends AE{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new _r(t,r)}matches(t){return bE(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bE(i){return i.op==="and"}function RE(i){return Ew(i)&&bE(i)}function Ew(i){for(const t of i.filters)if(t instanceof _r)return!1;return!0}function pm(i){if(i instanceof Ve)return i.field.canonicalString()+i.op.toString()+Gs(i.value);if(RE(i))return i.filters.map(t=>pm(t)).join(",");{const t=i.filters.map(r=>pm(r)).join(",");return`${i.op}(${t})`}}function wE(i,t){return i instanceof Ve?function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&vr(a.value,l.value)}(i,t):i instanceof _r?function(a,l){return l instanceof _r&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((u,f,m)=>u&&wE(f,l.filters[m]),!0):!1}(i,t):void Et()}function CE(i){return i instanceof Ve?function(r){return`${r.field.canonicalString()} ${r.op} ${Gs(r.value)}`}(i):i instanceof _r?function(r){return r.op.toString()+" {"+r.getFilters().map(CE).join(" ,")+"}"}(i):"Filter"}class Tw extends Ve{constructor(t,r,a){super(t,r,a),this.key=vt.fromName(a.referenceValue)}matches(t){const r=vt.comparator(t.key,this.key);return this.matchesComparison(r)}}class Sw extends Ve{constructor(t,r){super(t,"in",r),this.keys=DE("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Aw extends Ve{constructor(t,r){super(t,"not-in",r),this.keys=DE("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function DE(i,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>vt.fromName(a.referenceValue))}class bw extends Ve{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return Wm(r)&&zo(r.arrayValue,this.value)}}class Rw extends Ve{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&zo(this.value.arrayValue,r)}}class ww extends Ve{constructor(t,r){super(t,"not-in",r)}matches(t){if(zo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!zo(this.value.arrayValue,r)}}class Cw extends Ve{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!Wm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>zo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,r=null,a=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function w_(i,t=null,r=[],a=[],l=null,u=null,f=null){return new Dw(i,t,r,a,l,u,f)}function Jm(i){const t=Rt(i);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>pm(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),dh(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Gs(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Gs(a)).join(",")),t.le=r}return t.le}function tp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!_w(i.orderBy[r],t.orderBy[r]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!wE(i.filters[r],t.filters[r]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!R_(i.startAt,t.startAt)&&R_(i.endAt,t.endAt)}function gm(i){return vt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,r=null,a=[],l=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function xw(i,t,r,a,l,u,f,m){return new ph(i,t,r,a,l,u,f,m)}function gh(i){return new ph(i)}function C_(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Vw(i){return i.collectionGroup!==null}function Co(i){const t=Rt(i);if(t.he===null){t.he=[];const r=new Set;for(const u of t.explicitOrderBy)t.he.push(u),r.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Oe(Ke.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{r.has(u.canonicalString())||u.isKeyField()||t.he.push(new Zc(u,a))}),r.has(Ke.keyField().canonicalString())||t.he.push(new Zc(Ke.keyField(),a))}return t.he}function mr(i){const t=Rt(i);return t.Pe||(t.Pe=Iw(t,Co(i))),t.Pe}function Iw(i,t){if(i.limitType==="F")return w_(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new Zc(l.field,u)});const r=i.endAt?new Xc(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Xc(i.startAt.position,i.startAt.inclusive):null;return w_(i.path,i.collectionGroup,t,i.filters,i.limit,r,a)}}function ym(i,t,r){return new ph(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,r,i.startAt,i.endAt)}function yh(i,t){return tp(mr(i),mr(t))&&i.limitType===t.limitType}function xE(i){return`${Jm(mr(i))}|lt:${i.limitType}`}function Ls(i){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(l=>CE(l)).join(", ")}]`),dh(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(l=>Gs(l)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(l=>Gs(l)).join(",")),`Target(${a})`}(mr(i))}; limitType=${i.limitType})`}function vh(i,t){return t.isFoundDocument()&&function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(i,t)&&function(a,l){for(const u of Co(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(i,t)&&function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0}(i,t)&&function(a,l){return!(a.startAt&&!function(f,m,p){const y=b_(f,m,p);return f.inclusive?y<=0:y<0}(a.startAt,Co(a),l)||a.endAt&&!function(f,m,p){const y=b_(f,m,p);return f.inclusive?y>=0:y>0}(a.endAt,Co(a),l))}(i,t)}function Ow(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function VE(i){return(t,r)=>{let a=!1;for(const l of Co(i)){const u=Nw(l,t,r);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function Nw(i,t,r){const a=i.field.isKeyField()?vt.comparator(t.key,r.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Fs(p,y):Et()}(i.field,t,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Et()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,r]);l.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[r]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wi(this.inner,(r,a)=>{for(const[l,u]of a)t(l,u)})}isEmpty(){return mE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new le(vt.comparator);function Wr(){return Mw}const IE=new le(vt.comparator);function So(...i){let t=IE;for(const r of i)t=t.insert(r.key,r);return t}function OE(i){let t=IE;return i.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function Ma(){return Do()}function NE(){return Do()}function Do(){return new qa(i=>i.toString(),(i,t)=>i.isEqual(t))}const Uw=new le(vt.comparator),Lw=new Oe(vt.comparator);function Mt(...i){let t=Lw;for(const r of i)t=t.add(r);return t}const Pw=new Oe(Lt);function zw(){return Pw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function ME(i){return{integerValue:""+i}}function kw(i,t){return hw(t)?ME(t):ep(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function jw(i,t,r){return i instanceof Wc?function(l,u){const f={fields:{[yE]:{stringValue:gE},[_E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Zm(u)&&(u=mh(u)),u&&(f.fields[vE]=u),{mapValue:f}}(r,t):i instanceof ko?LE(i,t):i instanceof jo?PE(i,t):function(l,u){const f=UE(l,u),m=D_(f)+D_(l.Ie);return mm(f)&&mm(l.Ie)?ME(m):ep(l.serializer,m)}(i,t)}function Bw(i,t,r){return i instanceof ko?LE(i,t):i instanceof jo?PE(i,t):r}function UE(i,t){return i instanceof Jc?function(a){return mm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(t)?t:{integerValue:0}:null}class Wc extends _h{}class ko extends _h{constructor(t){super(),this.elements=t}}function LE(i,t){const r=zE(t);for(const a of i.elements)r.some(l=>vr(l,a))||r.push(a);return{arrayValue:{values:r}}}class jo extends _h{constructor(t){super(),this.elements=t}}function PE(i,t){let r=zE(t);for(const a of i.elements)r=r.filter(l=>!vr(l,a));return{arrayValue:{values:r}}}class Jc extends _h{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function D_(i){return ye(i.integerValue||i.doubleValue)}function zE(i){return Wm(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function qw(i,t){return i.field.isEqual(t.field)&&function(a,l){return a instanceof ko&&l instanceof ko||a instanceof jo&&l instanceof jo?Hs(a.elements,l.elements,vr):a instanceof Jc&&l instanceof Jc?vr(a.Ie,l.Ie):a instanceof Wc&&l instanceof Wc}(i.transform,t.transform)}class Hw{constructor(t,r){this.version=t,this.transformResults=r}}class pr{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Eh{}function kE(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new BE(i.key,pr.none()):new Qo(i.key,i.data,pr.none());{const r=i.data,a=fn.empty();let l=new Oe(Ke.comparator);for(let u of t.fields)if(!l.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?a.delete(u):a.set(u,f),l=l.add(u)}return new Ji(i.key,a,new An(l.toArray()),pr.none())}}function Fw(i,t,r){i instanceof Qo?function(l,u,f){const m=l.value.clone(),p=V_(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,t,r):i instanceof Ji?function(l,u,f){if(!Mc(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=V_(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(jE(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,t,r):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,r)}function xo(i,t,r,a){return i instanceof Qo?function(u,f,m,p){if(!Mc(u.precondition,f))return m;const y=u.value.clone(),E=I_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,t,r,a):i instanceof Ji?function(u,f,m,p){if(!Mc(u.precondition,f))return m;const y=I_(u.fieldTransforms,p,f),E=f.data;return E.setAll(jE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,t,r,a):function(u,f,m){return Mc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,t,r)}function Gw(i,t){let r=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),u=UE(a.transform,l||null);u!=null&&(r===null&&(r=fn.empty()),r.set(a.field,u))}return r||null}function x_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Hs(a,l,(u,f)=>qw(u,f))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Qo extends Eh{constructor(t,r,a,l=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ji extends Eh{constructor(t,r,a,l,u=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function jE(i){const t=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);t.set(r,a)}}),t}function V_(i,t,r){const a=new Map;Yt(i.length===r.length);for(let l=0;l<r.length;l++){const u=i[l],f=u.transform,m=t.data.field(u.field);a.set(u.field,Bw(f,m,r[l]))}return a}function I_(i,t,r){const a=new Map;for(const l of i){const u=l.transform,f=r.data.field(l.field);a.set(l.field,jw(u,f,t))}return a}class BE extends Eh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $w extends Eh{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,r,a,l){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&Fw(u,t,a[l])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=xo(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=xo(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=NE();return this.mutations.forEach(l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=r.has(l.key)?null:m;const p=kE(f,m);p!==null&&a.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Mt())}isEqual(t){return this.batchId===t.batchId&&Hs(this.mutations,t.mutations,(r,a)=>x_(r,a))&&Hs(this.baseMutations,t.baseMutations,(r,a)=>x_(r,a))}}class np{constructor(t,r,a,l){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(t,r,a){Yt(t.mutations.length===a.length);let l=function(){return Uw}();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,a[f].version);return new np(t,r,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,jt;function Xw(i){switch(i){case nt.OK:return Et();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Et()}}function qE(i){if(i===void 0)return Zr("GRPC error has no .code"),nt.UNKNOWN;switch(i){case Se.OK:return nt.OK;case Se.CANCELLED:return nt.CANCELLED;case Se.UNKNOWN:return nt.UNKNOWN;case Se.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Se.INTERNAL:return nt.INTERNAL;case Se.UNAVAILABLE:return nt.UNAVAILABLE;case Se.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Se.NOT_FOUND:return nt.NOT_FOUND;case Se.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Se.ABORTED:return nt.ABORTED;case Se.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Se.DATA_LOSS:return nt.DATA_LOSS;default:return Et()}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Bi([4294967295,4294967295],0);function O_(i){const t=Zw().encode(i),r=new aE;return r.update(t),new Uint8Array(r.digest())}function N_(i){const t=new DataView(i.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Bi([r,a],0),new Bi([l,u],0)]}class rp{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Ao(`Invalid padding: ${r}`);if(a<0)throw new Ao(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=Bi.fromNumber(this.Ee)}Ae(t,r,a){let l=t.add(r.multiply(Bi.fromNumber(a)));return l.compare(Ww)===1&&(l=new Bi([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=O_(t),[a,l]=N_(r);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,l,u);if(!this.Re(f))return!1}return!0}static create(t,r,a){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new rp(u,l,r);return a.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const r=O_(t),[a,l]=N_(r);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,l,u);this.Ve(f)}}Ve(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(t,r,a,l,u){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const l=new Map;return l.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new Th(At.min(),l,new le(Lt),Wr(),Mt())}}class Ko{constructor(t,r,a,l,u){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Ko(a,r,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,r,a,l){this.me=t,this.removedTargetIds=r,this.key=a,this.fe=l}}class HE{constructor(t,r){this.targetId=t,this.ge=r}}class FE{constructor(t,r,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=l}}class M_{constructor(){this.pe=0,this.ye=U_(),this.we=Ye.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Mt(),r=Mt(),a=Mt();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:Et()}}),new Ko(this.we,this.be,t,r,a)}Me(){this.Se=!1,this.ye=U_()}xe(t,r){this.Se=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Yt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Jw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Wr(),this.$e=Ac(),this.Ke=Ac(),this.Ue=new le(Lt)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const a=this.He(r);switch(t.state){case 0:this.Je(r)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(t.resumeToken));break;default:Et()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((a,l)=>{this.Je(l)&&r(l)})}Ze(t){const r=t.targetId,a=t.ge.count,l=this.Xe(r);if(l){const u=l.target;if(gm(u))if(a===0){const f=new vt(u.path);this.ze(r,f,en.newNoDocument(f,At.min()))}else Yt(a===1);else{const f=this.et(r);if(f!==a){const m=this.tt(t),p=m?this.nt(m,t,f):1;if(p!==0){this.Ye(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,y)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=r;let f,m;try{f=Qi(a).toUint8Array()}catch(p){if(p instanceof pE)return qs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new rp(f,l,u)}catch(p){return qs(p instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,r,a){return r.ge.count===a-this.st(t,r.targetId)?0:2}st(t,r){const a=this.ke.getRemoteKeysForTarget(r);let l=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(r,u,null),l++)}),l}ot(t){const r=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&gm(m.target)){const p=new vt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,en.newNoDocument(p,t))}u.ve&&(r.set(f,u.Fe()),u.Me())}});let a=Mt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const l=new Th(t,r,this.Ue,this.Qe,a);return this.Qe=Wr(),this.$e=Ac(),this.Ke=Ac(),this.Ue=new le(Lt),l}Ge(t,r){if(!this.Je(t))return;const a=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ke=this.Ke.insert(r.key,this.ct(r.key).add(t))}ze(t,r,a){if(!this.Je(t))return;const l=this.He(t);this.ut(t,r)?l.xe(r,1):l.Oe(r),this.Ke=this.Ke.insert(r,this.ct(r).delete(t)),this.Ke=this.Ke.insert(r,this.ct(r).add(t)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new M_,this.qe.set(t,r)),r}ct(t){let r=this.Ke.get(t);return r||(r=new Oe(Lt),this.Ke=this.Ke.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new Oe(Lt),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||ut("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new M_),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function Ac(){return new le(vt.comparator)}function U_(){return new le(vt.comparator)}const tC={asc:"ASCENDING",desc:"DESCENDING"},eC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nC={and:"AND",or:"OR"};class rC{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function vm(i,t){return i.useProto3Json||dh(t)?t:{value:t}}function th(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function GE(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function iC(i,t){return th(i,t.toTimestamp())}function gr(i){return Yt(!!i),At.fromTimestamp(function(r){const a=$i(r);return new Ie(a.seconds,a.nanos)}(i))}function ip(i,t){return _m(i,t).canonicalString()}function _m(i,t){const r=function(l){return new de(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?r:r.child(t)}function $E(i){const t=de.fromString(i);return Yt(ZE(t)),t}function Em(i,t){return ip(i.databaseId,t.path)}function Qd(i,t){const r=$E(t);if(r.get(1)!==i.databaseId.projectId)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new gt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new vt(KE(r))}function QE(i,t){return ip(i.databaseId,t)}function aC(i){const t=$E(i);return t.length===4?de.emptyPath():KE(t)}function Tm(i){return new de(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function KE(i){return Yt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function L_(i,t,r){return{name:Em(i,t),fields:r.value.mapValue.fields}}function sC(i,t){let r;if("targetChange"in t){t.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Et()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Yt(E===void 0||typeof E=="string"),Ye.fromBase64String(E||"")):(Yt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ye.fromUint8Array(E||new Uint8Array))}(i,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const E=y.code===void 0?nt.UNKNOWN:qE(y.code);return new gt(E,y.message||"")}(f);r=new FE(a,l,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(i,a.document.name),u=gr(a.document.updateTime),f=a.document.createTime?gr(a.document.createTime):At.min(),m=new fn({mapValue:{fields:a.document.fields}}),p=en.newFoundDocument(l,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];r=new Uc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Qd(i,a.document),u=a.readTime?gr(a.readTime):At.min(),f=en.newNoDocument(l,u),m=a.removedTargetIds||[];r=new Uc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Qd(i,a.document),u=a.removedTargetIds||[];r=new Uc([],u,l,null)}else{if(!("filter"in t))return Et();{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,f=new Yw(l,u),m=a.targetId;r=new HE(m,f)}}return r}function lC(i,t){let r;if(t instanceof Qo)r={update:L_(i,t.key,t.value)};else if(t instanceof BE)r={delete:Em(i,t.key)};else if(t instanceof Ji)r={update:L_(i,t.key,t.data),updateMask:gC(t.fieldMask)};else{if(!(t instanceof $w))return Et();r={verify:Em(i,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof Wc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ko)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof jo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Jc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Et()}(0,a))),t.precondition.isNone||(r.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:iC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et()}(i,t.precondition)),r}function oC(i,t){return i&&i.length>0?(Yt(t!==void 0),i.map(r=>function(l,u){let f=l.updateTime?gr(l.updateTime):gr(u);return f.isEqual(At.min())&&(f=gr(u)),new Hw(f,l.transformResults||[])}(r,t))):[]}function uC(i,t){return{documents:[QE(i,t.path)]}}function cC(i,t){const r={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=QE(i,l);const u=function(y){if(y.length!==0)return XE(_r.create(y,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(R){return{field:Ps(R.field),direction:dC(R.dir)}}(E))}(t.orderBy);f&&(r.structuredQuery.orderBy=f);const m=vm(i,t.limit);return m!==null&&(r.structuredQuery.limit=m),t.startAt&&(r.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:r,parent:l}}function hC(i){let t=aC(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){Yt(a===1);const E=r.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let u=[];r.where&&(u=function(A){const R=YE(A);return R instanceof _r&&RE(R)?R.getFilters():[R]}(r.where));let f=[];r.orderBy&&(f=function(A){return A.map(R=>function(N){return new Zc(zs(N.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(R))}(r.orderBy));let m=null;r.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,dh(R)?null:R}(r.limit));let p=null;r.startAt&&(p=function(A){const R=!!A.before,D=A.values||[];return new Xc(D,R)}(r.startAt));let y=null;return r.endAt&&(y=function(A){const R=!A.before,D=A.values||[];return new Xc(D,R)}(r.endAt)),xw(t,l,f,u,m,"F",p,y)}function fC(i,t){const r=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function YE(i){return i.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=zs(r.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=zs(r.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=zs(r.unaryFilter.field);return Ve.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=zs(r.unaryFilter.field);return Ve.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Et()}}(i):i.fieldFilter!==void 0?function(r){return Ve.create(zs(r.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Et()}}(r.fieldFilter.op),r.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(r){return _r.create(r.compositeFilter.filters.map(a=>YE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Et()}}(r.compositeFilter.op))}(i):Et()}function dC(i){return tC[i]}function mC(i){return eC[i]}function pC(i){return nC[i]}function Ps(i){return{fieldPath:i.canonicalString()}}function zs(i){return Ke.fromServerFormat(i.fieldPath)}function XE(i){return i instanceof Ve?function(r){if(r.op==="=="){if(A_(r.value))return{unaryFilter:{field:Ps(r.field),op:"IS_NAN"}};if(S_(r.value))return{unaryFilter:{field:Ps(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(A_(r.value))return{unaryFilter:{field:Ps(r.field),op:"IS_NOT_NAN"}};if(S_(r.value))return{unaryFilter:{field:Ps(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(r.field),op:mC(r.op),value:r.value}}}(i):i instanceof _r?function(r){const a=r.getFilters().map(l=>XE(l));return a.length===1?a[0]:{compositeFilter:{op:pC(r.op),filters:a}}}(i):Et()}function gC(i){const t=[];return i.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function ZE(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,r,a,l,u=At.min(),f=At.min(),m=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Pi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Pi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.Tt=t}}function vC(i){const t=hC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ym(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.Tn=new EC}addToCollectionParentIndex(t,r){return this.Tn.add(r),W.resolve()}getCollectionParents(t,r){return W.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return W.resolve()}deleteFieldIndex(t,r){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,r){return W.resolve()}getDocumentsMatchingTarget(t,r){return W.resolve(null)}getIndexType(t,r){return W.resolve(0)}getFieldIndexes(t,r){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,r){return W.resolve(Gi.min())}getMinOffsetFromCollectionGroup(t,r){return W.resolve(Gi.min())}updateCollectionGroup(t,r,a){return W.resolve()}updateIndexEntries(t,r){return W.resolve()}}class EC{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r]||new Oe(de.comparator),u=!l.has(a);return this.index[r]=l.add(a),u}has(t){const r=t.lastSegment(),a=t.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Oe(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(WE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new $s(0)}static Un(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",TC=1048576;function k_([i,t],[r,a]){const l=Lt(i,r);return l===0?Lt(t,a):l}class SC{constructor(t){this.Hn=t,this.buffer=new Oe(k_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();k_(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class AC{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(z_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){sl(r)?ut(z_,"Ignoring IndexedDB error during garbage collection: ",r):await al(r)}await this.er(3e5)})}}class bC{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return W.resolve(fh.ae);const a=new SC(r);return this.tr.forEachTarget(t,l=>a.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>a.Zn(l))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.tr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(P_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let a,l,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,f=Date.now(),this.nthSequenceNumber(t,l))).next(A=>(a=A,m=Date.now(),this.removeTargets(t,a,r))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(t,a))).next(A=>(y=Date.now(),Us()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A})))}}function RC(i,t){return new bC(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.changes=new qa(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?W.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,r,a,l){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,r))).next(l=>(a!==null&&xo(a.mutation,l,An.empty(),Ie.now()),l))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,Mt()).next(()=>a))}getLocalViewOfDocuments(t,r,a=Mt()){const l=Ma();return this.populateOverlays(t,l,r).next(()=>this.computeViews(t,r,l,a).next(u=>{let f=So();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,r){const a=Ma();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,Mt()))}populateOverlays(t,r,a){const l=[];return a.forEach(u=>{r.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((f,m)=>{r.set(f,m)})})}computeViews(t,r,a,l){let u=Wr();const f=Do(),m=function(){return Do()}();return r.forEach((p,y)=>{const E=a.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Ji)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),xo(E.mutation,y,E.mutation.getFieldMask(),Ie.now())):f.set(y.key,An.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),r.forEach((y,E)=>{var A;return m.set(y,new CC(E,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(t,r){const a=Do();let l=new le((f,m)=>f-m),u=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=r.get(p);if(y===null)return;let E=a.get(p)||An.empty();E=m.applyToLocalView(y,E),a.set(p,E);const A=(l.get(m.batchId)||Mt()).add(p);l=l.insert(m.batchId,A)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,A=NE();E.forEach(R=>{if(!u.has(R)){const D=kE(r.get(R),a.get(R));D!==null&&A.set(R,D),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,A))}return W.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,l){return function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Vw(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,l):this.getDocumentsMatchingCollectionQuery(t,r,a,l)}getNextDocuments(t,r,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,l-u.size):W.resolve(Ma());let m=Uo,p=u;return f.next(y=>W.forEach(y,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Mt())).next(E=>({batchId:m,changes:OE(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new vt(r)).next(a=>{let l=So();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,r,a,l){const u=r.collectionGroup;let f=So();return this.indexManager.getCollectionParents(t,u).next(m=>W.forEach(m,p=>{const y=function(A,R){return new ph(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next(E=>{E.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,r,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,u,l))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,en.newInvalidDocument(E)))});let m=So();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&xo(E.mutation,y,An.empty(),Ie.now()),vh(r,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return W.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(l){return{id:l.id,version:l.version,createTime:gr(l.createTime)}}(r)),W.resolve()}getNamedQuery(t,r){return W.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(l){return{name:l.name,query:vC(l.bundledQuery),readTime:gr(l.readTime)}}(r)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new le(vt.comparator),this.Rr=new Map}getOverlay(t,r){return W.resolve(this.overlays.get(r))}getOverlays(t,r){const a=Ma();return W.forEach(r,l=>this.getOverlay(t,l).next(u=>{u!==null&&a.set(l,u)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((l,u)=>{this.Et(t,r,u)}),W.resolve()}removeOverlaysForBatchId(t,r,a){const l=this.Rr.get(a);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),W.resolve()}getOverlaysForCollection(t,r,a){const l=Ma(),u=r.length+1,f=new vt(r.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&l.set(p.getKey(),p)}return W.resolve(l)}getOverlaysForCollectionGroup(t,r,a,l){let u=new le((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Ma(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ma(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=l)););return W.resolve(m)}Et(t,r,a){const l=this.overlays.get(a.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(a.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new Kw(r,a));let u=this.Rr.get(r);u===void 0&&(u=Mt(),this.Rr.set(r,u)),this.Rr.set(r,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(){this.Vr=new Oe(Be.mr),this.gr=new Oe(Be.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const a=new Be(t,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.wr(new Be(t,r))}br(t,r){t.forEach(a=>this.removeReference(a,r))}Sr(t){const r=new vt(new de([])),a=new Be(r,t),l=new Be(r,t+1),u=[];return this.gr.forEachInRange([a,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new vt(new de([])),a=new Be(r,t),l=new Be(r,t+1);let u=Mt();return this.gr.forEachInRange([a,l],f=>{u=u.add(f.key)}),u}containsKey(t){const r=new Be(t,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return vt.comparator(t.key,r.key)||Lt(t.Cr,r.Cr)}static pr(t,r){return Lt(t.Cr,r.Cr)||vt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Oe(Be.mr)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Qw(u,r,a,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new Be(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,r){return W.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,l=this.Nr(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Xm:this.Fr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new Be(r,0),l=new Be(r,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,l],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new Oe(Lt);return r.forEach(l=>{const u=new Be(l,0),f=new Be(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),W.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,l=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const f=new Be(new vt(u),0);let m=new Oe(Lt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(t){const r=[];return t.forEach(a=>{const l=this.Or(a);l!==null&&r.push(l)}),r}removeMutationBatch(t,r){Yt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return W.forEach(r.mutations,l=>{const u=new Be(l.key,r.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,r){const a=new Be(r,0),l=this.Mr.firstAfterOrEqual(a);return W.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.kr=t,this.docs=function(){return new le(vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,l=this.docs.get(a),u=l?l.size:0,f=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return W.resolve(a?a.document.mutableCopy():en.newInvalidDocument(r))}getEntries(t,r){let a=Wr();return r.forEach(l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))}),W.resolve(a)}getDocumentsMatchingQuery(t,r,a,l){let u=Wr();const f=r.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||lw(sw(E),a)<=0||(l.has(E.key)||vh(r,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,r,a,l){Et()}qr(t,r){return W.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new MC(this)}getSize(t){return W.resolve(this.size)}}class MC extends wC{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?r.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(a)}),W.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.persistence=t,this.Qr=new qa(r=>Jm(r),tp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ap,this.targetCount=0,this.Ur=$s.Kn()}forEachTarget(t,r){return this.Qr.forEach((a,l)=>r(l)),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),W.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Ur=new $s(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,W.resolve()}updateTargetData(t,r){return this.zn(r),W.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Kr.Sr(r.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,r,a){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=r&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),W.waitFor(u).next(()=>l)}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,r){const a=this.Qr.get(r)||null;return W.resolve(a)}addMatchingKeys(t,r,a){return this.Kr.yr(r,a),W.resolve()}removeMatchingKeys(t,r,a){this.Kr.br(r,a);const l=this.persistence.referenceDelegate,u=[];return l&&r.forEach(f=>{u.push(l.markPotentiallyOrphaned(t,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(t,r){return this.Kr.Sr(r),W.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Kr.vr(r);return W.resolve(a)}containsKey(t,r){return W.resolve(this.Kr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new fh(0),this.zr=!1,this.zr=!0,this.jr=new IC,this.referenceDelegate=t(this),this.Hr=new UC(this),this.indexManager=new _C,this.remoteDocumentCache=function(l){return new NC(l)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new yC(r),this.Yr=new xC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new VC,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Wr[t.toKey()];return a||(a=new OC(r,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,a){ut("MemoryPersistence","Starting transaction:",t);const l=new LC(this.Gr.next());return this.referenceDelegate.Zr(),a(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,r){return W.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,r)))}}class LC extends uw{constructor(t){super(),this.currentSequenceNumber=t}}class sp{constructor(t){this.persistence=t,this.ti=new ap,this.ni=null}static ri(t){return new sp(t)}get ii(){if(this.ni)return this.ni;throw Et()}addReference(t,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),W.resolve()}removeReference(t,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),W.resolve()}removeTarget(t,r){this.ti.Sr(r.targetId).forEach(l=>this.ii.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,a=>{const l=vt.fromPath(a);return this.si(t,l).next(u=>{u||r.removeEntry(l,At.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return W.or([()=>W.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class eh{constructor(t,r){this.persistence=t,this.oi=new qa(a=>fw(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=RC(this,r)}static ri(t,r){return new eh(t,r)}Zr(){}Xr(t){return W.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(l=>a+l))}sr(t){let r=0;return this.rr(t,a=>{r++}).next(()=>r)}rr(t,r){return W.forEach(this.oi,(a,l)=>this.ar(t,a,l).next(u=>u?W.resolve():r(l)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,r).next(m=>{m||(a++,u.removeEntry(f,At.min()))})).next(()=>u.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),W.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Oc(t.data.value)),r}ar(t,r,a){return W.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const l=this.oi.get(r);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,r,a,l){this.targetId=t,this.fromCache=r,this.Hi=a,this.Ji=l}static Yi(t,r){let a=Mt(),l=Mt();for(const u of r.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new lp(t,r.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ib()?8:cw(xb())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,a,l){const u={result:null};return this.rs(t,r).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,r,l,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new PC;return this._s(t,r,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,r,f,m.size)})}).next(()=>u.result)}us(t,r,a,l){return a.documentReadCount<this.es?(Us()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ls(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Us()<=Bt.DEBUG&&ut("QueryEngine","Query:",Ls(r),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ts*l?(Us()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ls(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mr(r))):W.resolve())}rs(t,r){if(C_(r))return W.resolve(null);let a=mr(r);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(r.limit!==null&&l===1&&(r=ym(r,null,"F"),a=mr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(u=>{const f=Mt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,a).next(p=>{const y=this.cs(r,m);return this.ls(r,y,f,p.readTime)?this.rs(t,ym(r,null,"F")):this.hs(t,y,r,p)}))})))}ss(t,r,a,l){return C_(r)||l.isEqual(At.min())?W.resolve(null):this.ns.getDocuments(t,a).next(u=>{const f=this.cs(r,u);return this.ls(r,f,a,l)?W.resolve(null):(Us()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ls(r)),this.hs(t,f,r,aw(l,Uo)).next(m=>m))})}cs(t,r){let a=new Oe(VE(t));return r.forEach((l,u)=>{vh(t,u)&&(a=a.add(u))}),a}ls(t,r,a,l){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const u=t.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,r,a){return Us()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ls(r)),this.ns.getDocumentsMatchingQuery(t,r,Gi.min(),a)}hs(t,r,a,l){return this.ns.getDocumentsMatchingQuery(t,a,l).next(u=>(r.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="LocalStore",kC=3e8;class jC{constructor(t,r,a,l){this.persistence=t,this.Ps=r,this.serializer=l,this.Ts=new le(Lt),this.Is=new qa(u=>Jm(u),tp),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function BC(i,t,r,a){return new jC(i,t,r,a)}async function tT(i,t){const r=Rt(i);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let l;return r.mutationQueue.getAllMutationBatches(a).next(u=>(l=u,r.As(t),r.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let p=Mt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return r.localDocuments.getDocuments(a,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function qC(i,t){const r=Rt(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),u=r.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const A=y.batch,R=A.keys();let D=W.resolve();return R.forEach(N=>{D=D.next(()=>E.getEntry(p,N)).next(q=>{const P=y.docVersions.get(N);Yt(P!==null),q.version.compareTo(P)<0&&(A.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(r,a,t,u).next(()=>u.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let p=Mt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>r.localDocuments.getDocuments(a,l))})}function eT(i){const t=Rt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function HC(i,t){const r=Rt(i),a=t.snapshotVersion;let l=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=r.ds.newChangeBuffer({trackRemovals:!0});l=r.Ts;const m=[];t.targetChanges.forEach((E,A)=>{const R=l.get(A);if(!R)return;m.push(r.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>r.Hr.addMatchingKeys(u,E.addedDocuments,A)));let D=R.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?D=D.withResumeToken(Ye.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),l=l.insert(A,D),function(q,P,$){return q.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=kC?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,D,E)&&m.push(r.Hr.updateTargetData(u,D))});let p=Wr(),y=Mt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(r.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(FC(u,f,t.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!a.isEqual(At.min())){const E=r.Hr.getLastRemoteSnapshotVersion(u).next(A=>r.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>r.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(r.Ts=l,u))}function FC(i,t,r){let a=Mt(),l=Mt();return r.forEach(u=>a=a.add(u)),t.getEntries(i,a).next(u=>{let f=Wr();return r.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ut(op,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function GC(i,t){const r=Rt(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=Xm),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function $C(i,t){const r=Rt(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.Hr.getTargetData(a,t).next(u=>u?(l=u,W.resolve(l)):r.Hr.allocateTargetId(a).next(f=>(l=new Pi(t,f,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Ts.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(t,a.targetId)),a})}async function Sm(i,t,r){const a=Rt(i),l=a.Ts.get(t),u=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!sl(f))throw f;ut(op,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ts=a.Ts.remove(t),a.Is.delete(l.target)}function j_(i,t,r){const a=Rt(i);let l=At.min(),u=Mt();return a.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const A=Rt(p),R=A.Is.get(E);return R!==void 0?W.resolve(A.Ts.get(R)):A.Hr.getTargetData(y,E)}(a,f,mr(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,t,r?l:At.min(),r?u:Mt())).next(m=>(QC(a,Ow(t),m),{documents:m,gs:u})))}function QC(i,t,r){let a=i.Es.get(t)||At.min();r.forEach((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),i.Es.set(t,a)}class B_{constructor(){this.activeTargetIds=zw()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class KC{constructor(){this.ho=new B_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,a){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new B_,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class H_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(q_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(q_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Am(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${a}/databases/${l}`,this.wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}bo(t,r,a,l,u){const f=Am(),m=this.So(t,r.toUriEncodedString());ut(Kd,`Sending RPC '${t}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(t,m,p,a).then(y=>(ut(Kd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw qs(Kd,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(t,r,a,l,u,f){return this.bo(t,r,a,l,u)}Do(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+il}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((l,u)=>t[u]=l),a&&a.headers.forEach((l,u)=>t[u]=l)}So(t,r){const a=XC[t];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class JC extends ZC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,a,l){const u=Am();return new Promise((f,m)=>{const p=new sE;p.setWithCredentials(!0),p.listenOnce(lE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ic.NO_ERROR:const E=p.getResponseJson();ut(Je,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(E)),f(E);break;case Ic.TIMEOUT:ut(Je,`RPC '${t}' ${u} timed out`),m(new gt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const A=p.getStatus();if(ut(Je,`RPC '${t}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R==null?void 0:R.error;if(D&&D.status&&D.message){const N=function(P){const $=P.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf($)>=0?$:nt.UNKNOWN}(D.status);m(new gt(N,D.message))}else m(new gt(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new gt(nt.UNAVAILABLE,"Connection failed."));break;default:Et()}}finally{ut(Je,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);ut(Je,`RPC '${t}' ${u} sending request:`,l),p.send(r,"POST",y,a,15)})}Wo(t,r,a){const l=Am(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=cE(),m=uE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,r,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ut(Je,`Creating RPC '${t}' stream ${l}: ${E}`,p);const A=f.createWebChannel(E,p);let R=!1,D=!1;const N=new WC({Fo:P=>{D?ut(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,P):(R||(ut(Je,`Opening RPC '${t}' stream ${l} transport.`),A.open(),R=!0),ut(Je,`RPC '${t}' stream ${l} sending:`,P),A.send(P))},Mo:()=>A.close()}),q=(P,$,J)=>{P.listen($,X=>{try{J(X)}catch(ot){setTimeout(()=>{throw ot},0)}})};return q(A,To.EventType.OPEN,()=>{D||(ut(Je,`RPC '${t}' stream ${l} transport opened.`),N.Qo())}),q(A,To.EventType.CLOSE,()=>{D||(D=!0,ut(Je,`RPC '${t}' stream ${l} transport closed`),N.Ko())}),q(A,To.EventType.ERROR,P=>{D||(D=!0,qs(Je,`RPC '${t}' stream ${l} transport errored:`,P),N.Ko(new gt(nt.UNAVAILABLE,"The operation could not be completed")))}),q(A,To.EventType.MESSAGE,P=>{var $;if(!D){const J=P.data[0];Yt(!!J);const X=J,ot=(X==null?void 0:X.error)||(($=X[0])===null||$===void 0?void 0:$.error);if(ot){ut(Je,`RPC '${t}' stream ${l} received error:`,ot);const at=ot.status;let ct=function(b){const I=Se[b];if(I!==void 0)return qE(I)}(at),V=ot.message;ct===void 0&&(ct=nt.INTERNAL,V="Unknown error status: "+at+" with message "+ot.message),D=!0,N.Ko(new gt(ct,V)),A.close()}else ut(Je,`RPC '${t}' stream ${l} received:`,J),N.Uo(J)}}),q(m,oE.STAT_EVENT,P=>{P.stat===fm.PROXY?ut(Je,`RPC '${t}' stream ${l} detected buffering proxy`):P.stat===fm.NOPROXY&&ut(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(i){return new rC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,r,a=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=r,this.Go=a,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),l=Math.max(0,r-a);l>0&&ut("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="PersistentStream";class rT{constructor(t,r,a,l,u,f,m,p){this.Ti=t,this.n_=a,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nT(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===nt.RESOURCE_EXHAUSTED?(Zr(r.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.i_===r&&this.V_(a,l)},a=>{t(()=>{const l=new gt(nt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(l)})})}V_(t,r){const a=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{a(()=>this.m_(l))}),this.stream.onMessage(l=>{a(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(F_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(ut(F_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tD extends rT{constructor(t,r,a,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,l,f),this.serializer=u}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=sC(this.serializer,t),a=function(u){if(!("targetChange"in u))return At.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?gr(f.readTime):At.min()}(t);return this.listener.p_(r,a)}y_(t){const r={};r.database=Tm(this.serializer),r.addTarget=function(u,f){let m;const p=f.target;if(m=gm(p)?{documents:uC(u,p)}:{query:cC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GE(u,f.resumeToken);const y=vm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){m.readTime=th(u,f.snapshotVersion.toTimestamp());const y=vm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const a=fC(this.serializer,t);a&&(r.labels=a),this.I_(r)}w_(t){const r={};r.database=Tm(this.serializer),r.removeTarget=t,this.I_(r)}}class eD extends rT{constructor(t,r,a,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,l,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Yt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=oC(t.writeResults,t.commitTime),a=gr(t.commitTime);return this.listener.v_(a,r)}C_(){const t={};t.database=Tm(this.serializer),this.I_(t)}S_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>lC(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{}class rD extends nD{constructor(t,r,a,l){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,_m(r,a),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(nt.UNKNOWN,u.toString())})}Co(t,r,a,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,_m(r,a),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(nt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iD{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zr(r),this.N_=!1):ut("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="RemoteStore";class aD{constructor(t,r,a,l,u){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{Ha(this)&&(ut(Ba,"Restarting streams for network reachability change."),await async function(p){const y=Rt(p);y.W_.add(4),await Yo(y),y.j_.set("Unknown"),y.W_.delete(4),await Ah(y)}(this))})}),this.j_=new iD(a,l)}}async function Ah(i){if(Ha(i))for(const t of i.G_)await t(!0)}async function Yo(i){for(const t of i.G_)await t(!1)}function iT(i,t){const r=Rt(i);r.U_.has(t.targetId)||(r.U_.set(t.targetId,t),fp(r)?hp(r):ll(r).c_()&&cp(r,t))}function up(i,t){const r=Rt(i),a=ll(r);r.U_.delete(t),a.c_()&&aT(r,t),r.U_.size===0&&(a.c_()?a.P_():Ha(r)&&r.j_.set("Unknown"))}function cp(i,t){if(i.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ll(i).y_(t)}function aT(i,t){i.H_.Ne(t),ll(i).w_(t)}function hp(i){i.H_=new Jw({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>i.U_.get(t)||null,it:()=>i.datastore.serializer.databaseId}),ll(i).start(),i.j_.B_()}function fp(i){return Ha(i)&&!ll(i).u_()&&i.U_.size>0}function Ha(i){return Rt(i).W_.size===0}function sT(i){i.H_=void 0}async function sD(i){i.j_.set("Online")}async function lD(i){i.U_.forEach((t,r)=>{cp(i,t)})}async function oD(i,t){sT(i),fp(i)?(i.j_.q_(t),hp(i)):i.j_.set("Unknown")}async function uD(i,t,r){if(i.j_.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.U_.delete(m),l.H_.removeTarget(m))}(i,t)}catch(a){ut(Ba,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await nh(i,a)}else if(t instanceof Uc?i.H_.We(t):t instanceof HE?i.H_.Ze(t):i.H_.je(t),!r.isEqual(At.min()))try{const a=await eT(i.localStore);r.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.U_.get(p);if(!E)return;u.U_.set(p,E.withResumeToken(Ye.EMPTY_BYTE_STRING,E.snapshotVersion)),aT(u,p);const A=new Pi(E.target,p,y,E.sequenceNumber);cp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,r)}catch(a){ut(Ba,"Failed to raise snapshot:",a),await nh(i,a)}}async function nh(i,t,r){if(!sl(t))throw t;i.W_.add(1),await Yo(i),i.j_.set("Offline"),r||(r=()=>eT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ut(Ba,"Retrying IndexedDB access"),await r(),i.W_.delete(1),await Ah(i)})}function lT(i,t){return t().catch(r=>nh(i,r,t))}async function bh(i){const t=Rt(i),r=Yi(t);let a=t.K_.length>0?t.K_[t.K_.length-1].batchId:Xm;for(;cD(t);)try{const l=await GC(t.localStore,a);if(l===null){t.K_.length===0&&r.P_();break}a=l.batchId,hD(t,l)}catch(l){await nh(t,l)}oT(t)&&uT(t)}function cD(i){return Ha(i)&&i.K_.length<10}function hD(i,t){i.K_.push(t);const r=Yi(i);r.c_()&&r.b_&&r.S_(t.mutations)}function oT(i){return Ha(i)&&!Yi(i).u_()&&i.K_.length>0}function uT(i){Yi(i).start()}async function fD(i){Yi(i).C_()}async function dD(i){const t=Yi(i);for(const r of i.K_)t.S_(r.mutations)}async function mD(i,t,r){const a=i.K_.shift(),l=np.from(a,t,r);await lT(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await bh(i)}async function pD(i,t){t&&Yi(i).b_&&await async function(a,l){if(function(f){return Xw(f)&&f!==nt.ABORTED}(l.code)){const u=a.K_.shift();Yi(a).h_(),await lT(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l)),await bh(a)}}(i,t),oT(i)&&uT(i)}async function G_(i,t){const r=Rt(i);r.asyncQueue.verifyOperationInProgress(),ut(Ba,"RemoteStore received new credentials");const a=Ha(r);r.W_.add(3),await Yo(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Ah(r)}async function gD(i,t){const r=Rt(i);t?(r.W_.delete(2),await Ah(r)):t||(r.W_.add(2),await Yo(r),r.j_.set("Unknown"))}function ll(i){return i.J_||(i.J_=function(r,a,l){const u=Rt(r);return u.M_(),new tD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{xo:sD.bind(null,i),No:lD.bind(null,i),Lo:oD.bind(null,i),p_:uD.bind(null,i)}),i.G_.push(async t=>{t?(i.J_.h_(),fp(i)?hp(i):i.j_.set("Unknown")):(await i.J_.stop(),sT(i))})),i.J_}function Yi(i){return i.Y_||(i.Y_=function(r,a,l){const u=Rt(r);return u.M_(),new eD(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:fD.bind(null,i),Lo:pD.bind(null,i),D_:dD.bind(null,i),v_:mD.bind(null,i)}),i.G_.push(async t=>{t?(i.Y_.h_(),await bh(i)):(await i.Y_.stop(),i.K_.length>0&&(ut(Ba,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t,r,a,l,u){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,u){const f=Date.now()+a,m=new dp(t,r,f,l,u);return m.start(a),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(i,t){if(Zr("AsyncQueue",`${t}: ${i}`),sl(i))return new gt(nt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{static emptySet(t){return new Bs(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||vt.comparator(r.key,a.key):(r,a)=>vt.comparator(r.key,a.key),this.keyedMap=So(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Bs)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new Bs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(){this.Z_=new le(vt.comparator)}track(t){const r=t.doc.key,a=this.Z_.get(r);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(r):t.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):Et():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,a)=>{t.push(a)}),t}}class Qs{constructor(t,r,a,l,u,f,m,p,y){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,r,a,l,u){const f=[];return r.forEach(m=>{f.push({type:0,doc:m})}),new Qs(t,r,Bs.emptySet(r),f,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class vD{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const l=Rt(r),u=l.queries;l.queries=Q_(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(a)})})(this,new gt(nt.ABORTED,"Firestore shutting down"))}}function Q_(){return new qa(i=>xE(i),yh)}async function cT(i,t){const r=Rt(i);let a=3;const l=t.query;let u=r.queries.get(l);u?!u.na()&&t.ra()&&(a=2):(u=new yD,a=t.ra()?0:1);try{switch(a){case 0:u.ea=await r.onListen(l,!0);break;case 1:u.ea=await r.onListen(l,!1);break;case 2:await r.onFirstRemoteStoreListen(l)}}catch(f){const m=mp(f,`Initialization of query '${Ls(t.query)}' failed`);return void t.onError(m)}r.queries.set(l,u),u.ta.push(t),t.sa(r.onlineState),u.ea&&t.oa(u.ea)&&pp(r)}async function hT(i,t){const r=Rt(i),a=t.query;let l=3;const u=r.queries.get(a);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function _D(i,t){const r=Rt(i);let a=!1;for(const l of t){const u=l.query,f=r.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(a=!0);f.ea=l}}a&&pp(r)}function ED(i,t,r){const a=Rt(i),l=a.queries.get(t);if(l)for(const u of l.ta)u.onError(r);a.queries.delete(t)}function pp(i){i.ia.forEach(t=>{t.next()})}var bm,K_;(K_=bm||(bm={}))._a="default",K_.Cache="cache";class fT{constructor(t,r,a){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Qs(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=Qs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t){this.key=t}}class mT{constructor(t){this.key=t}}class TD{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=VE(t),this.wa=new Bs(this.ya)}get ba(){return this.fa}Sa(t,r){const a=r?r.Da:new $_,l=r?r.wa:this.wa;let u=r?r.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((E,A)=>{const R=l.get(E),D=vh(this.query,A)?A:null,N=!!R&&this.mutatedKeys.has(R.key),q=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let P=!1;R&&D?R.data.isEqual(D.data)?N!==q&&(a.track({type:3,doc:D}),P=!0):this.va(R,D)||(a.track({type:2,doc:D}),P=!0,(p&&this.ya(D,p)>0||y&&this.ya(D,y)<0)&&(m=!0)):!R&&D?(a.track({type:0,doc:D}),P=!0):R&&!D&&(a.track({type:1,doc:R}),P=!0,(p||y)&&(m=!0)),P&&(D?(f=f.add(D),u=q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((E,A)=>function(D,N){const q=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et()}};return q(D)-q(N)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(a),l=l!=null&&l;const m=r&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Qs(this.query,t.wa,u,f,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return t.forEach(a=>{this.pa.has(a)||r.push(new mT(a))}),this.pa.forEach(a=>{t.has(a)||r.push(new dT(a))}),r}Oa(t){this.fa=t.gs,this.pa=Mt();const r=this.Sa(t.documents);return this.applyChanges(r,!0)}Na(){return Qs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gp="SyncEngine";class SD{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class AD{constructor(t){this.key=t,this.Ba=!1}}class bD{constructor(t,r,a,l,u,f){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new qa(m=>xE(m),yh),this.qa=new Map,this.Qa=new Set,this.$a=new le(vt.comparator),this.Ka=new Map,this.Ua=new ap,this.Wa={},this.Ga=new Map,this.za=$s.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function RD(i,t,r=!0){const a=ET(i);let l;const u=a.ka.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await pT(a,t,r,!0),l}async function wD(i,t){const r=ET(i);await pT(r,t,!0,!1)}async function pT(i,t,r,a){const l=await $C(i.localStore,mr(t)),u=l.targetId,f=i.sharedClientState.addLocalQueryTarget(u,r);let m;return a&&(m=await CD(i,t,u,f==="current",l.resumeToken)),i.isPrimaryClient&&r&&iT(i.remoteStore,l),m}async function CD(i,t,r,a,l){i.Ha=(A,R,D)=>async function(q,P,$,J){let X=P.view.Sa($);X.ls&&(X=await j_(q.localStore,P.query,!1).then(({documents:V})=>P.view.Sa(V,X)));const ot=J&&J.targetChanges.get(P.targetId),at=J&&J.targetMismatches.get(P.targetId)!=null,ct=P.view.applyChanges(X,q.isPrimaryClient,ot,at);return X_(q,P.targetId,ct.Ma),ct.snapshot}(i,A,R,D);const u=await j_(i.localStore,t,!0),f=new TD(t,u.gs),m=f.Sa(u.documents),p=Ko.createSynthesizedTargetChangeForCurrentChange(r,a&&i.onlineState!=="Offline",l),y=f.applyChanges(m,i.isPrimaryClient,p);X_(i,r,y.Ma);const E=new SD(t,r,f);return i.ka.set(t,E),i.qa.has(r)?i.qa.get(r).push(t):i.qa.set(r,[t]),y.snapshot}async function DD(i,t,r){const a=Rt(i),l=a.ka.get(t),u=a.qa.get(l.targetId);if(u.length>1)return a.qa.set(l.targetId,u.filter(f=>!yh(f,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),r&&up(a.remoteStore,l.targetId),Rm(a,l.targetId)}).catch(al)):(Rm(a,l.targetId),await Sm(a.localStore,l.targetId,!0))}async function xD(i,t){const r=Rt(i),a=r.ka.get(t),l=r.qa.get(a.targetId);r.isPrimaryClient&&l.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),up(r.remoteStore,a.targetId))}async function VD(i,t,r){const a=PD(i);try{const l=await function(f,m){const p=Rt(f),y=Ie.now(),E=m.reduce((D,N)=>D.add(N.key),Mt());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let N=Wr(),q=Mt();return p.ds.getEntries(D,E).next(P=>{N=P,N.forEach(($,J)=>{J.isValidDocument()||(q=q.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,N)).next(P=>{A=P;const $=[];for(const J of m){const X=Gw(J,A.get(J.key).overlayedDocument);X!=null&&$.push(new Ji(J.key,X,SE(X.value.mapValue),pr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,y,$,m)}).next(P=>{R=P;const $=P.applyToLocalDocumentSet(A,q);return p.documentOverlayCache.saveOverlays(D,P.batchId,$)})}).then(()=>({batchId:R.batchId,changes:OE(A)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new le(Lt)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(a,l.batchId,r),await Xo(a,l.changes),await bh(a.remoteStore)}catch(l){const u=mp(l,"Failed to persist write");r.reject(u)}}async function gT(i,t){const r=Rt(i);try{const a=await HC(r.localStore,t);t.targetChanges.forEach((l,u)=>{const f=r.Ka.get(u);f&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?Yt(f.Ba):l.removedDocuments.size>0&&(Yt(f.Ba),f.Ba=!1))}),await Xo(r,a,t)}catch(a){await al(a)}}function Y_(i,t,r){const a=Rt(i);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const l=[];a.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const p=Rt(f);p.onlineState=m;let y=!1;p.queries.forEach((E,A)=>{for(const R of A.ta)R.sa(m)&&(y=!0)}),y&&pp(p)}(a.eventManager,t),l.length&&a.La.p_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ID(i,t,r){const a=Rt(i);a.sharedClientState.updateQueryState(t,"rejected",r);const l=a.Ka.get(t),u=l&&l.key;if(u){let f=new le(vt.comparator);f=f.insert(u,en.newNoDocument(u,At.min()));const m=Mt().add(u),p=new Th(At.min(),new Map,new le(Lt),f,m);await gT(a,p),a.$a=a.$a.remove(u),a.Ka.delete(t),yp(a)}else await Sm(a.localStore,t,!1).then(()=>Rm(a,t,r)).catch(al)}async function OD(i,t){const r=Rt(i),a=t.batch.batchId;try{const l=await qC(r.localStore,t);vT(r,a,null),yT(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await Xo(r,l)}catch(l){await al(l)}}async function ND(i,t,r){const a=Rt(i);try{const l=await function(f,m){const p=Rt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(A=>(Yt(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(y,A))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(a.localStore,t);vT(a,t,r),yT(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await Xo(a,l)}catch(l){await al(l)}}function yT(i,t){(i.Ga.get(t)||[]).forEach(r=>{r.resolve()}),i.Ga.delete(t)}function vT(i,t,r){const a=Rt(i);let l=a.Wa[a.currentUser.toKey()];if(l){const u=l.get(t);u&&(r?u.reject(r):u.resolve(),l=l.remove(t)),a.Wa[a.currentUser.toKey()]=l}}function Rm(i,t,r=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.qa.get(t))i.ka.delete(a),r&&i.La.Ja(a,r);i.qa.delete(t),i.isPrimaryClient&&i.Ua.Sr(t).forEach(a=>{i.Ua.containsKey(a)||_T(i,a)})}function _T(i,t){i.Qa.delete(t.path.canonicalString());const r=i.$a.get(t);r!==null&&(up(i.remoteStore,r),i.$a=i.$a.remove(t),i.Ka.delete(r),yp(i))}function X_(i,t,r){for(const a of r)a instanceof dT?(i.Ua.addReference(a.key,t),MD(i,a)):a instanceof mT?(ut(gp,"Document no longer in limbo: "+a.key),i.Ua.removeReference(a.key,t),i.Ua.containsKey(a.key)||_T(i,a.key)):Et()}function MD(i,t){const r=t.key,a=r.path.canonicalString();i.$a.get(r)||i.Qa.has(a)||(ut(gp,"New document in limbo: "+r),i.Qa.add(a),yp(i))}function yp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const t=i.Qa.values().next().value;i.Qa.delete(t);const r=new vt(de.fromString(t)),a=i.za.next();i.Ka.set(a,new AD(r)),i.$a=i.$a.insert(r,a),iT(i.remoteStore,new Pi(mr(gh(r.path)),a,"TargetPurposeLimboResolution",fh.ae))}}async function Xo(i,t,r){const a=Rt(i),l=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,p)=>{f.push(a.Ha(p,t,r).then(y=>{var E;if((y||r)&&a.isPrimaryClient){const A=y?!y.fromCache:(E=r==null?void 0:r.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){l.push(y);const A=lp.Yi(p.targetId,y);u.push(A)}}))}),await Promise.all(f),a.La.p_(l),await async function(p,y){const E=Rt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(y,R=>W.forEach(R.Hi,D=>E.persistence.referenceDelegate.addReference(A,R.targetId,D)).next(()=>W.forEach(R.Ji,D=>E.persistence.referenceDelegate.removeReference(A,R.targetId,D)))))}catch(A){if(!sl(A))throw A;ut(op,"Failed to update sequence numbers: "+A)}for(const A of y){const R=A.targetId;if(!A.fromCache){const D=E.Ts.get(R),N=D.snapshotVersion,q=D.withLastLimboFreeSnapshotVersion(N);E.Ts=E.Ts.insert(R,q)}}}(a.localStore,u))}async function UD(i,t){const r=Rt(i);if(!r.currentUser.isEqual(t)){ut(gp,"User change. New user:",t.toKey());const a=await tT(r.localStore,t);r.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new gt(nt.CANCELLED,f))})}),u.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xo(r,a.Rs)}}function LD(i,t){const r=Rt(i),a=r.Ka.get(t);if(a&&a.Ba)return Mt().add(a.key);{let l=Mt();const u=r.qa.get(t);if(!u)return l;for(const f of u){const m=r.ka.get(f);l=l.unionWith(m.view.ba)}return l}}function ET(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=gT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ID.bind(null,t),t.La.p_=_D.bind(null,t.eventManager),t.La.Ja=ED.bind(null,t.eventManager),t}function PD(i){const t=Rt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ND.bind(null,t),t}class rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return BC(this.persistence,new zC,t.initialUser,this.serializer)}Xa(t){return new JE(sp.ri,this.serializer)}Za(t){return new KC}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rh.provider={build:()=>new rh};class zD extends rh{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){Yt(this.persistence.referenceDelegate instanceof eh);const a=this.persistence.referenceDelegate.garbageCollector;return new AC(a,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new JE(a=>eh.ri(a,r),this.serializer)}}class wm{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Y_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UD.bind(null,this.syncEngine),await gD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vD}()}createDatastore(t){const r=Sh(t.databaseInfo.databaseId),a=function(u){return new JC(u)}(t.databaseInfo);return function(u,f,m,p){return new rD(u,f,m,p)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,l,u,f,m){return new aD(a,l,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,r=>Y_(this.syncEngine,r,0),function(){return H_.D()?new H_:new YC}())}createSyncEngine(t,r){return function(l,u,f,m,p,y,E){const A=new bD(l,u,f,m,p,y);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(l){const u=Rt(l);ut(Ba,"RemoteStore shutting down."),u.W_.add(5),await Yo(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}wm.provider={build:()=>new wm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Zr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="FirestoreClient";class kD{constructor(t,r,a,l,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{ut(Xi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ut(Xi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=mp(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Xd(i,t){i.asyncQueue.verifyOperationInProgress(),ut(Xi,"Initializing OfflineComponentProvider");const r=i.configuration;await t.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(async l=>{a.isEqual(l)||(await tT(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function Z_(i,t){i.asyncQueue.verifyOperationInProgress();const r=await jD(i);ut(Xi,"Initializing OnlineComponentProvider"),await t.initialize(r,i.configuration),i.setCredentialChangeListener(a=>G_(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,l)=>G_(t.remoteStore,l)),i._onlineComponents=t}async function jD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ut(Xi,"Using user provided OfflineComponentProvider");try{await Xd(i,i._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(l){return l.name==="FirebaseError"?l.code===nt.FAILED_PRECONDITION||l.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(r))throw r;qs("Error using user provided cache. Falling back to memory cache: "+r),await Xd(i,new rh)}}else ut(Xi,"Using default OfflineComponentProvider"),await Xd(i,new zD(void 0));return i._offlineComponents}async function ST(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ut(Xi,"Using user provided OnlineComponentProvider"),await Z_(i,i._uninitializedComponentsProvider._online)):(ut(Xi,"Using default OnlineComponentProvider"),await Z_(i,new wm))),i._onlineComponents}function BD(i){return ST(i).then(t=>t.syncEngine)}async function Cm(i){const t=await ST(i),r=t.eventManager;return r.onListen=RD.bind(null,t.syncEngine),r.onUnlisten=DD.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=wD.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=xD.bind(null,t.syncEngine),r}function qD(i,t,r={}){const a=new qi;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new TT({next:R=>{E.su(),f.enqueueAndForget(()=>hT(u,A));const D=R.docs.has(m);!D&&R.fromCache?y.reject(new gt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&R.fromCache&&p&&p.source==="server"?y.reject(new gt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),A=new fT(gh(m.path),E,{includeMetadataChanges:!0,Ta:!0});return cT(u,A)}(await Cm(i),i.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(i,t,r){if(!r)throw new gt(nt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function FD(i,t,r,a){if(t===!0&&a===!0)throw new gt(nt.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function J_(i){if(!vt.isDocumentKey(i))throw new gt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Et()}function yr(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new gt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=vp(i);throw new gt(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firestore.googleapis.com",t0=!0;class e0{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new gt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bT,this.ssl=t0}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:t0;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TC)throw new gt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}FD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new gt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _p{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new ZR;switch(a.type){case"firstParty":return new ew(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new gt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=W_.get(r);a&&(ut("ComponentProvider","Removing Datastore"),W_.delete(r),a.terminate())}(this),Promise.resolve()}}function GD(i,t,r,a={}){var l;const u=(i=yr(i,_p))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${t}:${r}`;u.host!==bT&&u.host!==m&&qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:a});if(!Fc(p,f)&&(i._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=tn.MOCK_USER;else{y=Db(a.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new gt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(A)}i._authCredentials=new WR(new hE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class mn{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mn(this.firestore,t,this._key)}}class Bo extends Rh{constructor(t,r,a){super(t,r,gh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mn(this.firestore,null,new vt(t))}withConverter(t){return new Bo(this.firestore,t,this._path)}}function Dm(i,t,...r){if(i=Fi(i),arguments.length===1&&(t=fE.newId()),HD("doc","path",t),i instanceof _p){const a=de.fromString(t,...r);return J_(a),new mn(i,null,new vt(a))}{if(!(i instanceof mn||i instanceof Bo))throw new gt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(de.fromString(t,...r));return J_(a),new mn(i.firestore,i instanceof Bo?i.converter:null,new vt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nT(this,"async_queue_retry"),this.bu=()=>{const a=Yd();a&&ut(n0,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=t;const r=Yd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=Yd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new qi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!sl(t))throw t;ut(n0,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.Su.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw Zr("INTERNAL UNHANDLED ERROR: ",l),a}).then(a=>(this.pu=!1,a))));return this.Su=r,r}enqueueAfterDelay(t,r,a){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const l=dp.createAndSchedule(this,t,r,a,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Et()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function i0(i){return function(r,a){if(typeof r!="object"||r===null)return!1;const l=r;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1}(i,["next","error","complete"])}class Ks extends _p{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new r0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function $D(i,t){const r=typeof i=="object"?i:zR(),a=typeof i=="string"?i:Kc,l=NR(r,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=wb("firestore");u&&GD(l,...u)}return l}function Ep(i){if(i._terminated)throw new gt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||QD(i),i._firestoreClient}function QD(i){var t,r,a;const l=i._freezeSettings(),u=function(m,p,y,E){return new pw(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,AT(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((r=l.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new kD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ys(Ye.fromBase64String(t))}catch(r){throw new gt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Ys(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new gt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new gt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new gt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=/^__.*__$/;class YD{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new Ji(t,this.data,this.fieldMask,r,this.fieldTransforms):new Qo(t,this.data,r,this.fieldTransforms)}}class RT{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new Ji(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function wT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et()}}class bp{constructor(t,r,a,l,u,f){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new bp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:a,Qu:!1});return l.$u(t),l}Ku(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),l=this.ku({path:a,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return ih(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(wT(this.Lu)&&KD.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class XD{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||Sh(t)}ju(t,r,a,l=!1){return new bp({Lu:t,methodName:r,zu:a,path:Ke.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CT(i){const t=i._freezeSettings(),r=Sh(i._databaseId);return new XD(i._databaseId,!!t.ignoreUndefinedProperties,r)}function ZD(i,t,r,a,l,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,t,r,l);Rp("Data must be an object, but it was:",f,a);const m=DT(a,f);let p,y;if(u.merge)p=new An(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=xm(t,A,r);if(!f.contains(R))throw new gt(nt.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);VT(E,R)||E.push(R)}p=new An(E),y=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,y=f.fieldTransforms;return new YD(new fn(m),p,y)}class Ch extends Tp{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ch}}function WD(i,t,r,a){const l=i.ju(1,t,r);Rp("Data must be an object, but it was:",l,a);const u=[],f=fn.empty();Wi(a,(p,y)=>{const E=wp(t,p,r);y=Fi(y);const A=l.Ku(E);if(y instanceof Ch)u.push(E);else{const R=Dh(y,A);R!=null&&(u.push(E),f.set(E,R))}});const m=new An(u);return new RT(f,m,l.fieldTransforms)}function JD(i,t,r,a,l,u){const f=i.ju(1,t,r),m=[xm(t,a,r)],p=[l];if(u.length%2!=0)throw new gt(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(xm(t,u[R])),p.push(u[R+1]);const y=[],E=fn.empty();for(let R=m.length-1;R>=0;--R)if(!VT(y,m[R])){const D=m[R];let N=p[R];N=Fi(N);const q=f.Ku(D);if(N instanceof Ch)y.push(D);else{const P=Dh(N,q);P!=null&&(y.push(D),E.set(D,P))}}const A=new An(y);return new RT(E,A,f.fieldTransforms)}function Dh(i,t){if(xT(i=Fi(i)))return Rp("Unsupported field value:",t,i),DT(i,t);if(i instanceof Tp)return function(a,l){if(!wT(l.Lu))throw l.Wu(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,l){const u=[];let f=0;for(const m of a){let p=Dh(m,l.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,t)}return function(a,l){if((a=Fi(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kw(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Ie.fromDate(a);return{timestampValue:th(l.serializer,u)}}if(a instanceof Ie){const u=new Ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:th(l.serializer,u)}}if(a instanceof Sp)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ys)return{bytesValue:GE(l.serializer,a._byteString)};if(a instanceof mn){const u=l.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ip(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ap)return function(f,m){return{mapValue:{fields:{[EE]:{stringValue:TE},[Yc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return ep(m.serializer,y)})}}}}}}(a,l);throw l.Wu(`Unsupported field value: ${vp(a)}`)}(i,t)}function DT(i,t){const r={};return mE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wi(i,(a,l)=>{const u=Dh(l,t.qu(a));u!=null&&(r[a]=u)}),{mapValue:{fields:r}}}function xT(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ie||i instanceof Sp||i instanceof Ys||i instanceof mn||i instanceof Tp||i instanceof Ap)}function Rp(i,t,r){if(!xT(r)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(r)){const a=vp(r);throw a==="an object"?t.Wu(i+" a custom object"):t.Wu(i+" "+a)}}function xm(i,t,r){if((t=Fi(t))instanceof wh)return t._internalPath;if(typeof t=="string")return wp(i,t);throw ih("Field path arguments must be of type string or ",i,!1,void 0,r)}const t2=new RegExp("[~\\*/\\[\\]]");function wp(i,t,r){if(t.search(t2)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new wh(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ih(i,t,r,a,l){const u=a&&!a.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;r&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${l}`),p+=")"),new gt(nt.INVALID_ARGUMENT,m+i+p)}function VT(i,t){return i.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,r,a,l,u){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new e2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(OT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class e2 extends IT{data(){return super.data()}}function OT(i,t){return typeof t=="string"?wp(i,t):t instanceof wh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new gt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r2{convertValue(t,r="none"){switch(Ki(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Qi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Et()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return Wi(t,(l,u)=>{a[l]=this.convertValue(u,r)}),a}convertVectorValue(t){var r,a,l;const u=(l=(a=(r=t.fields)===null||r===void 0?void 0:r[Yc].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(f=>ye(f.doubleValue));return new Ap(u)}convertGeoPoint(t){return new Sp(ye(t.latitude),ye(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Lo(t));default:return null}}convertTimestamp(t){const r=$i(t);return new Ie(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=de.fromString(t);Yt(ZE(a));const l=new Po(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return l.isEqual(r)||Zr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(i,t,r){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class NT extends IT{constructor(t,r,a,l,u,f){super(t,r,a,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(OT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class Lc extends NT{data(t={}){return super.data(t)}}class a2{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new bo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new Lc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new gt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const p=new Lc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Lc(l._firestore,l._userDataWriter,m.doc.key,m.doc,new bo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:s2(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function s2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(i){i=yr(i,mn);const t=yr(i.firestore,Ks);return qD(Ep(t),i._key).then(r=>PT(t,i,r))}class MT extends r2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ys(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new mn(this.firestore,null,r)}}function UT(i,t,r){i=yr(i,mn);const a=yr(i.firestore,Ks),l=i2(i.converter,t);return LT(a,[ZD(CT(a),"setDoc",i._key,l,i.converter!==null,r).toMutation(i._key,pr.none())])}function o2(i,t,r,...a){i=yr(i,mn);const l=yr(i.firestore,Ks),u=CT(l);let f;return f=typeof(t=Fi(t))=="string"||t instanceof wh?JD(u,"updateDoc",i._key,t,r,a):WD(u,"updateDoc",i._key,t),LT(l,[f.toMutation(i._key,pr.exists(!0))])}function u2(i,...t){var r,a,l;i=Fi(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||i0(t[f])||(u=t[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(i0(t[f])){const A=t[f];t[f]=(r=A.next)===null||r===void 0?void 0:r.bind(A),t[f+1]=(a=A.error)===null||a===void 0?void 0:a.bind(A),t[f+2]=(l=A.complete)===null||l===void 0?void 0:l.bind(A)}let p,y,E;if(i instanceof mn)y=yr(i.firestore,Ks),E=gh(i._key.path),p={next:A=>{t[f]&&t[f](PT(y,i,A))},error:t[f+1],complete:t[f+2]};else{const A=yr(i,Rh);y=yr(A.firestore,Ks),E=A._query;const R=new MT(y);p={next:D=>{t[f]&&t[f](new a2(y,R,A,D))},error:t[f+1],complete:t[f+2]},n2(i._query)}return function(R,D,N,q){const P=new TT(q),$=new fT(D,P,N);return R.asyncQueue.enqueueAndForget(async()=>cT(await Cm(R),$)),()=>{P.su(),R.asyncQueue.enqueueAndForget(async()=>hT(await Cm(R),$))}}(Ep(y),E,m,p)}function LT(i,t){return function(a,l){const u=new qi;return a.asyncQueue.enqueueAndForget(async()=>VD(await BD(a),l,u)),u.promise}(Ep(i),t)}function PT(i,t,r){const a=r.docs.get(t._key),l=new MT(i);return new NT(i,l,t._key,a,new bo(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(l){il=l})(PR),$c(new No("firestore",(a,{instanceIdentifier:l,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new Ks(new JR(a.getProvider("auth-internal")),new nw(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new gt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Po(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:r},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),js(h_,f_,t),js(h_,f_,"esm2017")})();const zT=i=>{const[t,r]=K.useState(null),a=ka.useMemo(()=>Dm(Vm,Im,i),[i]);return K.useEffect(()=>u2(a,f=>{f.exists()&&r(Om(f.data()))}),[a]),{state:t,setter:r,put:()=>UT(a,ah(t)),update:(...f)=>{const m=f.join(".");o2(a,{[m]:ah(kT(t,f))})}}},c2=async(i,t)=>{const r=Dm(Vm,Im,i),a=Dm(Vm,Im,t),l=await l2(r);await UT(a,l.data()),alert("")},h2={apiKey:"AIzaSyDoz5GN1Ahoy4jhqIa03qzZ4G6NPwdiJBY",authDomain:"mj-contest.firebaseapp.com",projectId:"mj-contest",storageBucket:"mj-contest.firebasestorage.app",messagingSenderId:"598367005786",appId:"1:598367005786:web:472eb70031347d5363fc63"},f2=nE(h2),Vm=$D(f2),Im="prod",Om=i=>{if(i==null||typeof i=="number"||typeof i=="string"||typeof i=="boolean")return i;const t=Object.keys(i);return t.every(r=>!isNaN(Number(r)))?t.map(r=>Om(i[r])):Object.fromEntries(t.map(r=>[r,Om(i[r])]))},ah=i=>i==null||typeof i=="number"||typeof i=="string"||typeof i=="boolean"?i:Array.isArray(i)?Object.fromEntries(i.map((t,r)=>[r,ah(t)])):Object.fromEntries(Object.entries(i).map(([t,r])=>[t,ah(r)])),kT=(i,t)=>t.length===0?i:kT(i[t[0]],t.slice(1)),Cp=i=>{const{state:t,setter:r,put:a,update:l}=zT(i);return{contest:t,mutateContest:p=>{r(y=>{if(y===null)return null;const E=structuredClone(y);return p(E),E})},saveContest:()=>{a(),window.alert("")},saveScores:(p,y)=>{l("results",p,y,"scores"),l("results",p,y,"players"),window.alert("")}}},Dp=()=>{const{state:i}=zT("master");return{nameByID:i===null?null:new Map(i.players.map(({id:r,name:a})=>[r,a]))}};var dn=function(){return dn=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},dn.apply(this,arguments)};function sh(i,t,r){if(r||arguments.length===2)for(var a=0,l=t.length,u;a<l;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return i.concat(u||Array.prototype.slice.call(t))}var ne="-ms-",Vo="-moz-",Kt="-webkit-",jT="comm",xh="rule",xp="decl",d2="@import",BT="@keyframes",m2="@layer",qT=Math.abs,Vp=String.fromCharCode,Nm=Object.assign;function p2(i,t){return qe(i,0)^45?(((t<<2^qe(i,0))<<2^qe(i,1))<<2^qe(i,2))<<2^qe(i,3):0}function HT(i){return i.trim()}function Kr(i,t){return(i=t.exec(i))?i[0]:i}function xt(i,t,r){return i.replace(t,r)}function Pc(i,t,r){return i.indexOf(t,r)}function qe(i,t){return i.charCodeAt(t)|0}function Xs(i,t,r){return i.slice(t,r)}function dr(i){return i.length}function FT(i){return i.length}function Ro(i,t){return t.push(i),i}function g2(i,t){return i.map(t).join("")}function a0(i,t){return i.filter(function(r){return!Kr(r,t)})}var Vh=1,Zs=1,GT=0,Bn=0,Ae=0,ol="";function Ih(i,t,r,a,l,u,f,m){return{value:i,root:t,parent:r,type:a,props:l,children:u,line:Vh,column:Zs,length:f,return:"",siblings:m}}function Li(i,t){return Nm(Ih("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},t)}function Ms(i){for(;i.root;)i=Li(i.root,{children:[i]});Ro(i,i.siblings)}function y2(){return Ae}function v2(){return Ae=Bn>0?qe(ol,--Bn):0,Zs--,Ae===10&&(Zs=1,Vh--),Ae}function Kn(){return Ae=Bn<GT?qe(ol,Bn++):0,Zs++,Ae===10&&(Zs=1,Vh++),Ae}function Pa(){return qe(ol,Bn)}function zc(){return Bn}function Oh(i,t){return Xs(ol,i,t)}function Mm(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _2(i){return Vh=Zs=1,GT=dr(ol=i),Bn=0,[]}function E2(i){return ol="",i}function Zd(i){return HT(Oh(Bn-1,Um(i===91?i+2:i===40?i+1:i)))}function T2(i){for(;(Ae=Pa())&&Ae<33;)Kn();return Mm(i)>2||Mm(Ae)>3?"":" "}function S2(i,t){for(;--t&&Kn()&&!(Ae<48||Ae>102||Ae>57&&Ae<65||Ae>70&&Ae<97););return Oh(i,zc()+(t<6&&Pa()==32&&Kn()==32))}function Um(i){for(;Kn();)switch(Ae){case i:return Bn;case 34:case 39:i!==34&&i!==39&&Um(Ae);break;case 40:i===41&&Um(i);break;case 92:Kn();break}return Bn}function A2(i,t){for(;Kn()&&i+Ae!==57;)if(i+Ae===84&&Pa()===47)break;return"/*"+Oh(t,Bn-1)+"*"+Vp(i===47?i:Kn())}function b2(i){for(;!Mm(Pa());)Kn();return Oh(i,Bn)}function R2(i){return E2(kc("",null,null,null,[""],i=_2(i),0,[0],i))}function kc(i,t,r,a,l,u,f,m,p){for(var y=0,E=0,A=f,R=0,D=0,N=0,q=1,P=1,$=1,J=0,X="",ot=l,at=u,ct=a,V=X;P;)switch(N=J,J=Kn()){case 40:if(N!=108&&qe(V,A-1)==58){Pc(V+=xt(Zd(J),"&","&\f"),"&\f",qT(y?m[y-1]:0))!=-1&&($=-1);break}case 34:case 39:case 91:V+=Zd(J);break;case 9:case 10:case 13:case 32:V+=T2(N);break;case 92:V+=S2(zc()-1,7);continue;case 47:switch(Pa()){case 42:case 47:Ro(w2(A2(Kn(),zc()),t,r,p),p);break;default:V+="/"}break;case 123*q:m[y++]=dr(V)*$;case 125*q:case 59:case 0:switch(J){case 0:case 125:P=0;case 59+E:$==-1&&(V=xt(V,/\f/g,"")),D>0&&dr(V)-A&&Ro(D>32?l0(V+";",a,r,A-1,p):l0(xt(V," ","")+";",a,r,A-2,p),p);break;case 59:V+=";";default:if(Ro(ct=s0(V,t,r,y,E,l,m,X,ot=[],at=[],A,u),u),J===123)if(E===0)kc(V,t,ct,ct,ot,u,A,m,at);else switch(R===99&&qe(V,3)===110?100:R){case 100:case 108:case 109:case 115:kc(i,ct,ct,a&&Ro(s0(i,ct,ct,0,0,l,m,X,l,ot=[],A,at),at),l,at,A,m,a?ot:at);break;default:kc(V,ct,ct,ct,[""],at,0,m,at)}}y=E=D=0,q=$=1,X=V="",A=f;break;case 58:A=1+dr(V),D=N;default:if(q<1){if(J==123)--q;else if(J==125&&q++==0&&v2()==125)continue}switch(V+=Vp(J),J*q){case 38:$=E>0?1:(V+="\f",-1);break;case 44:m[y++]=(dr(V)-1)*$,$=1;break;case 64:Pa()===45&&(V+=Zd(Kn())),R=Pa(),E=A=dr(X=V+=b2(zc())),J++;break;case 45:N===45&&dr(V)==2&&(q=0)}}return u}function s0(i,t,r,a,l,u,f,m,p,y,E,A){for(var R=l-1,D=l===0?u:[""],N=FT(D),q=0,P=0,$=0;q<a;++q)for(var J=0,X=Xs(i,R+1,R=qT(P=f[q])),ot=i;J<N;++J)(ot=HT(P>0?D[J]+" "+X:xt(X,/&\f/g,D[J])))&&(p[$++]=ot);return Ih(i,t,r,l===0?xh:m,p,y,E,A)}function w2(i,t,r,a){return Ih(i,t,r,jT,Vp(y2()),Xs(i,2,-2),0,a)}function l0(i,t,r,a,l){return Ih(i,t,r,xp,Xs(i,0,a),Xs(i,a+1,-1),a,l)}function $T(i,t,r){switch(p2(i,t)){case 5103:return Kt+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Kt+i+i;case 4789:return Vo+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Kt+i+Vo+i+ne+i+i;case 5936:switch(qe(i,t+11)){case 114:return Kt+i+ne+xt(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Kt+i+ne+xt(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Kt+i+ne+xt(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return Kt+i+ne+i+i;case 6165:return Kt+i+ne+"flex-"+i+i;case 5187:return Kt+i+xt(i,/(\w+).+(:[^]+)/,Kt+"box-$1$2"+ne+"flex-$1$2")+i;case 5443:return Kt+i+ne+"flex-item-"+xt(i,/flex-|-self/g,"")+(Kr(i,/flex-|baseline/)?"":ne+"grid-row-"+xt(i,/flex-|-self/g,""))+i;case 4675:return Kt+i+ne+"flex-line-pack"+xt(i,/align-content|flex-|-self/g,"")+i;case 5548:return Kt+i+ne+xt(i,"shrink","negative")+i;case 5292:return Kt+i+ne+xt(i,"basis","preferred-size")+i;case 6060:return Kt+"box-"+xt(i,"-grow","")+Kt+i+ne+xt(i,"grow","positive")+i;case 4554:return Kt+xt(i,/([^-])(transform)/g,"$1"+Kt+"$2")+i;case 6187:return xt(xt(xt(i,/(zoom-|grab)/,Kt+"$1"),/(image-set)/,Kt+"$1"),i,"")+i;case 5495:case 3959:return xt(i,/(image-set\([^]*)/,Kt+"$1$`$1");case 4968:return xt(xt(i,/(.+:)(flex-)?(.*)/,Kt+"box-pack:$3"+ne+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Kt+i+i;case 4200:if(!Kr(i,/flex-|baseline/))return ne+"grid-column-align"+Xs(i,t)+i;break;case 2592:case 3360:return ne+xt(i,"template-","")+i;case 4384:case 3616:return r&&r.some(function(a,l){return t=l,Kr(a.props,/grid-\w+-end/)})?~Pc(i+(r=r[t].value),"span",0)?i:ne+xt(i,"-start","")+i+ne+"grid-row-span:"+(~Pc(r,"span",0)?Kr(r,/\d+/):+Kr(r,/\d+/)-+Kr(i,/\d+/))+";":ne+xt(i,"-start","")+i;case 4896:case 4128:return r&&r.some(function(a){return Kr(a.props,/grid-\w+-start/)})?i:ne+xt(xt(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return xt(i,/(.+)-inline(.+)/,Kt+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dr(i)-1-t>6)switch(qe(i,t+1)){case 109:if(qe(i,t+4)!==45)break;case 102:return xt(i,/(.+:)(.+)-([^]+)/,"$1"+Kt+"$2-$3$1"+Vo+(qe(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~Pc(i,"stretch",0)?$T(xt(i,"stretch","fill-available"),t,r)+i:i}break;case 5152:case 5920:return xt(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,l,u,f,m,p,y){return ne+l+":"+u+y+(f?ne+l+"-span:"+(m?p:+p-+u)+y:"")+i});case 4949:if(qe(i,t+6)===121)return xt(i,":",":"+Kt)+i;break;case 6444:switch(qe(i,qe(i,14)===45?18:11)){case 120:return xt(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Kt+(qe(i,14)===45?"inline-":"")+"box$3$1"+Kt+"$2$3$1"+ne+"$2box$3")+i;case 100:return xt(i,":",":"+ne)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return xt(i,"scroll-","scroll-snap-")+i}return i}function lh(i,t){for(var r="",a=0;a<i.length;a++)r+=t(i[a],a,i,t)||"";return r}function C2(i,t,r,a){switch(i.type){case m2:if(i.children.length)break;case d2:case xp:return i.return=i.return||i.value;case jT:return"";case BT:return i.return=i.value+"{"+lh(i.children,a)+"}";case xh:if(!dr(i.value=i.props.join(",")))return""}return dr(r=lh(i.children,a))?i.return=i.value+"{"+r+"}":""}function D2(i){var t=FT(i);return function(r,a,l,u){for(var f="",m=0;m<t;m++)f+=i[m](r,a,l,u)||"";return f}}function x2(i){return function(t){t.root||(t=t.return)&&i(t)}}function V2(i,t,r,a){if(i.length>-1&&!i.return)switch(i.type){case xp:i.return=$T(i.value,i.length,r);return;case BT:return lh([Li(i,{value:xt(i.value,"@","@"+Kt)})],a);case xh:if(i.length)return g2(r=i.props,function(l){switch(Kr(l,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ms(Li(i,{props:[xt(l,/:(read-\w+)/,":"+Vo+"$1")]})),Ms(Li(i,{props:[l]})),Nm(i,{props:a0(r,a)});break;case"::placeholder":Ms(Li(i,{props:[xt(l,/:(plac\w+)/,":"+Kt+"input-$1")]})),Ms(Li(i,{props:[xt(l,/:(plac\w+)/,":"+Vo+"$1")]})),Ms(Li(i,{props:[xt(l,/:(plac\w+)/,ne+"input-$1")]})),Ms(Li(i,{props:[l]})),Nm(i,{props:a0(r,a)});break}return""})}}var I2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sn={},Ws=typeof process<"u"&&Sn!==void 0&&(Sn.REACT_APP_SC_ATTR||Sn.SC_ATTR)||"data-styled",QT="active",KT="data-styled-version",Nh="6.1.15",Ip=`/*!sc*/
`,oh=typeof window<"u"&&"HTMLElement"in window,O2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==""?Sn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Sn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.SC_DISABLE_SPEEDY!==void 0&&Sn.SC_DISABLE_SPEEDY!==""&&Sn.SC_DISABLE_SPEEDY!=="false"&&Sn.SC_DISABLE_SPEEDY),Mh=Object.freeze([]),Js=Object.freeze({});function N2(i,t,r){return r===void 0&&(r=Js),i.theme!==r.theme&&i.theme||t||r.theme}var YT=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),M2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,U2=/(^-|-$)/g;function o0(i){return i.replace(M2,"-").replace(U2,"")}var L2=/(a)(d)/gi,Rc=52,u0=function(i){return String.fromCharCode(i+(i>25?39:97))};function Lm(i){var t,r="";for(t=Math.abs(i);t>Rc;t=t/Rc|0)r=u0(t%Rc)+r;return(u0(t%Rc)+r).replace(L2,"$1-$2")}var Wd,XT=5381,ks=function(i,t){for(var r=t.length;r;)i=33*i^t.charCodeAt(--r);return i},ZT=function(i){return ks(XT,i)};function P2(i){return Lm(ZT(i)>>>0)}function z2(i){return i.displayName||i.name||"Component"}function Jd(i){return typeof i=="string"&&!0}var WT=typeof Symbol=="function"&&Symbol.for,JT=WT?Symbol.for("react.memo"):60115,k2=WT?Symbol.for("react.forward_ref"):60112,j2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},B2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},t1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q2=((Wd={})[k2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wd[JT]=t1,Wd);function c0(i){return("type"in(t=i)&&t.type.$$typeof)===JT?t1:"$$typeof"in i?q2[i.$$typeof]:j2;var t}var H2=Object.defineProperty,F2=Object.getOwnPropertyNames,h0=Object.getOwnPropertySymbols,G2=Object.getOwnPropertyDescriptor,$2=Object.getPrototypeOf,f0=Object.prototype;function e1(i,t,r){if(typeof t!="string"){if(f0){var a=$2(t);a&&a!==f0&&e1(i,a,r)}var l=F2(t);h0&&(l=l.concat(h0(t)));for(var u=c0(i),f=c0(t),m=0;m<l.length;++m){var p=l[m];if(!(p in B2||r&&r[p]||f&&p in f||u&&p in u)){var y=G2(t,p);try{H2(i,p,y)}catch{}}}}return i}function tl(i){return typeof i=="function"}function Op(i){return typeof i=="object"&&"styledComponentId"in i}function Ua(i,t){return i&&t?"".concat(i," ").concat(t):i||t||""}function d0(i,t){if(i.length===0)return"";for(var r=i[0],a=1;a<i.length;a++)r+=i[a];return r}function qo(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function Pm(i,t,r){if(r===void 0&&(r=!1),!r&&!qo(i)&&!Array.isArray(i))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)i[a]=Pm(i[a],t[a]);else if(qo(t))for(var a in t)i[a]=Pm(i[a],t[a]);return i}function Np(i,t){Object.defineProperty(i,"toString",{value:t})}function Zo(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var Q2=function(){function i(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return i.prototype.indexOfGroup=function(t){for(var r=0,a=0;a<t;a++)r+=this.groupSizes[a];return r},i.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var a=this.groupSizes,l=a.length,u=l;t>=u;)if((u<<=1)<0)throw Zo(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var f=l;f<u;f++)this.groupSizes[f]=0}for(var m=this.indexOfGroup(t+1),p=(f=0,r.length);f<p;f++)this.tag.insertRule(m,r[f])&&(this.groupSizes[t]++,m++)},i.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],a=this.indexOfGroup(t),l=a+r;this.groupSizes[t]=0;for(var u=a;u<l;u++)this.tag.deleteRule(a)}},i.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var a=this.groupSizes[t],l=this.indexOfGroup(t),u=l+a,f=l;f<u;f++)r+="".concat(this.tag.getRule(f)).concat(Ip);return r},i}(),jc=new Map,uh=new Map,Bc=1,wc=function(i){if(jc.has(i))return jc.get(i);for(;uh.has(Bc);)Bc++;var t=Bc++;return jc.set(i,t),uh.set(t,i),t},K2=function(i,t){Bc=t+1,jc.set(i,t),uh.set(t,i)},Y2="style[".concat(Ws,"][").concat(KT,'="').concat(Nh,'"]'),X2=new RegExp("^".concat(Ws,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Z2=function(i,t,r){for(var a,l=r.split(","),u=0,f=l.length;u<f;u++)(a=l[u])&&i.registerName(t,a)},W2=function(i,t){for(var r,a=((r=t.textContent)!==null&&r!==void 0?r:"").split(Ip),l=[],u=0,f=a.length;u<f;u++){var m=a[u].trim();if(m){var p=m.match(X2);if(p){var y=0|parseInt(p[1],10),E=p[2];y!==0&&(K2(E,y),Z2(i,E,p[3]),i.getTag().insertRules(y,l)),l.length=0}else l.push(m)}}},m0=function(i){for(var t=document.querySelectorAll(Y2),r=0,a=t.length;r<a;r++){var l=t[r];l&&l.getAttribute(Ws)!==QT&&(W2(i,l),l.parentNode&&l.parentNode.removeChild(l))}};function J2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var n1=function(i){var t=document.head,r=i||t,a=document.createElement("style"),l=function(m){var p=Array.from(m.querySelectorAll("style[".concat(Ws,"]")));return p[p.length-1]}(r),u=l!==void 0?l.nextSibling:null;a.setAttribute(Ws,QT),a.setAttribute(KT,Nh);var f=J2();return f&&a.setAttribute("nonce",f),r.insertBefore(a,u),a},tx=function(){function i(t){this.element=n1(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,l=0,u=a.length;l<u;l++){var f=a[l];if(f.ownerNode===r)return f}throw Zo(17)}(this.element),this.length=0}return i.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},i.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},i}(),ex=function(){function i(t){this.element=n1(t),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},i.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},i}(),nx=function(){function i(t){this.rules=[],this.length=0}return i.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},i.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},i.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},i}(),p0=oh,rx={isServer:!oh,useCSSOMInjection:!O2},r1=function(){function i(t,r,a){t===void 0&&(t=Js),r===void 0&&(r={});var l=this;this.options=dn(dn({},rx),t),this.gs=r,this.names=new Map(a),this.server=!!t.isServer,!this.server&&oh&&p0&&(p0=!1,m0(this)),Np(this,function(){return function(u){for(var f=u.getTag(),m=f.length,p="",y=function(A){var R=function($){return uh.get($)}(A);if(R===void 0)return"continue";var D=u.names.get(R),N=f.getGroup(A);if(D===void 0||!D.size||N.length===0)return"continue";var q="".concat(Ws,".g").concat(A,'[id="').concat(R,'"]'),P="";D!==void 0&&D.forEach(function($){$.length>0&&(P+="".concat($,","))}),p+="".concat(N).concat(q,'{content:"').concat(P,'"}').concat(Ip)},E=0;E<m;E++)y(E);return p}(l)})}return i.registerId=function(t){return wc(t)},i.prototype.rehydrate=function(){!this.server&&oh&&m0(this)},i.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new i(dn(dn({},this.options),t),this.gs,r&&this.names||void 0)},i.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(t=function(r){var a=r.useCSSOMInjection,l=r.target;return r.isServer?new nx(l):a?new tx(l):new ex(l)}(this.options),new Q2(t)));var t},i.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},i.prototype.registerName=function(t,r){if(wc(t),this.names.has(t))this.names.get(t).add(r);else{var a=new Set;a.add(r),this.names.set(t,a)}},i.prototype.insertRules=function(t,r,a){this.registerName(t,r),this.getTag().insertRules(wc(t),a)},i.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},i.prototype.clearRules=function(t){this.getTag().clearGroup(wc(t)),this.clearNames(t)},i.prototype.clearTag=function(){this.tag=void 0},i}(),ix=/&/g,ax=/^\s*\/\/.*$/gm;function i1(i,t){return i.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=i1(r.children,t)),r})}function sx(i){var t,r,a,l=Js,u=l.options,f=u===void 0?Js:u,m=l.plugins,p=m===void 0?Mh:m,y=function(R,D,N){return N.startsWith(r)&&N.endsWith(r)&&N.replaceAll(r,"").length>0?".".concat(t):R},E=p.slice();E.push(function(R){R.type===xh&&R.value.includes("&")&&(R.props[0]=R.props[0].replace(ix,r).replace(a,y))}),f.prefix&&E.push(V2),E.push(C2);var A=function(R,D,N,q){D===void 0&&(D=""),N===void 0&&(N=""),q===void 0&&(q="&"),t=q,r=D,a=new RegExp("\\".concat(r,"\\b"),"g");var P=R.replace(ax,""),$=R2(N||D?"".concat(N," ").concat(D," { ").concat(P," }"):P);f.namespace&&($=i1($,f.namespace));var J=[];return lh($,D2(E.concat(x2(function(X){return J.push(X)})))),J};return A.hash=p.length?p.reduce(function(R,D){return D.name||Zo(15),ks(R,D.name)},XT).toString():"",A}var lx=new r1,zm=sx(),a1=ka.createContext({shouldForwardProp:void 0,styleSheet:lx,stylis:zm});a1.Consumer;ka.createContext(void 0);function g0(){return K.useContext(a1)}var ox=function(){function i(t,r){var a=this;this.inject=function(l,u){u===void 0&&(u=zm);var f=a.name+u.hash;l.hasNameForId(a.id,f)||l.insertRules(a.id,f,u(a.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Np(this,function(){throw Zo(12,String(a.name))})}return i.prototype.getName=function(t){return t===void 0&&(t=zm),this.name+t.hash},i}(),ux=function(i){return i>="A"&&i<="Z"};function y0(i){for(var t="",r=0;r<i.length;r++){var a=i[r];if(r===1&&a==="-"&&i[0]==="-")return i;ux(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var s1=function(i){return i==null||i===!1||i===""},l1=function(i){var t,r,a=[];for(var l in i){var u=i[l];i.hasOwnProperty(l)&&!s1(u)&&(Array.isArray(u)&&u.isCss||tl(u)?a.push("".concat(y0(l),":"),u,";"):qo(u)?a.push.apply(a,sh(sh(["".concat(l," {")],l1(u),!1),["}"],!1)):a.push("".concat(y0(l),": ").concat((t=l,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in I2||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function za(i,t,r,a){if(s1(i))return[];if(Op(i))return[".".concat(i.styledComponentId)];if(tl(i)){if(!tl(u=i)||u.prototype&&u.prototype.isReactComponent||!t)return[i];var l=i(t);return za(l,t,r,a)}var u;return i instanceof ox?r?(i.inject(r,a),[i.getName(a)]):[i]:qo(i)?l1(i):Array.isArray(i)?Array.prototype.concat.apply(Mh,i.map(function(f){return za(f,t,r,a)})):[i.toString()]}function cx(i){for(var t=0;t<i.length;t+=1){var r=i[t];if(tl(r)&&!Op(r))return!1}return!0}var hx=ZT(Nh),fx=function(){function i(t,r,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&cx(t),this.componentId=r,this.baseHash=ks(hx,r),this.baseStyle=a,r1.registerId(r)}return i.prototype.generateAndInjectStyles=function(t,r,a){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=Ua(l,this.staticRulesId);else{var u=d0(za(this.rules,t,r,a)),f=Lm(ks(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,f)){var m=a(u,".".concat(f),void 0,this.componentId);r.insertRules(this.componentId,f,m)}l=Ua(l,f),this.staticRulesId=f}else{for(var p=ks(this.baseHash,a.hash),y="",E=0;E<this.rules.length;E++){var A=this.rules[E];if(typeof A=="string")y+=A;else if(A){var R=d0(za(A,t,r,a));p=ks(p,R+E),y+=R}}if(y){var D=Lm(p>>>0);r.hasNameForId(this.componentId,D)||r.insertRules(this.componentId,D,a(y,".".concat(D),void 0,this.componentId)),l=Ua(l,D)}}return l},i}(),o1=ka.createContext(void 0);o1.Consumer;var tm={};function dx(i,t,r){var a=Op(i),l=i,u=!Jd(i),f=t.attrs,m=f===void 0?Mh:f,p=t.componentId,y=p===void 0?function(ot,at){var ct=typeof ot!="string"?"sc":o0(ot);tm[ct]=(tm[ct]||0)+1;var V="".concat(ct,"-").concat(P2(Nh+ct+tm[ct]));return at?"".concat(at,"-").concat(V):V}(t.displayName,t.parentComponentId):p,E=t.displayName,A=E===void 0?function(ot){return Jd(ot)?"styled.".concat(ot):"Styled(".concat(z2(ot),")")}(i):E,R=t.displayName&&t.componentId?"".concat(o0(t.displayName),"-").concat(t.componentId):t.componentId||y,D=a&&l.attrs?l.attrs.concat(m).filter(Boolean):m,N=t.shouldForwardProp;if(a&&l.shouldForwardProp){var q=l.shouldForwardProp;if(t.shouldForwardProp){var P=t.shouldForwardProp;N=function(ot,at){return q(ot,at)&&P(ot,at)}}else N=q}var $=new fx(r,R,a?l.componentStyle:void 0);function J(ot,at){return function(ct,V,w){var b=ct.attrs,I=ct.componentStyle,U=ct.defaultProps,k=ct.foldedComponentIds,x=ct.styledComponentId,me=ct.target,oe=ka.useContext(o1),it=g0(),yt=ct.shouldForwardProp||it.shouldForwardProp,mt=N2(V,oe,U)||Js,Dt=function(St,Tt,ee){for(var It,$t=dn(dn({},Tt),{className:void 0,theme:ee}),qt=0;qt<St.length;qt+=1){var ve=tl(It=St[qt])?It($t):It;for(var Ne in ve)$t[Ne]=Ne==="className"?Ua($t[Ne],ve[Ne]):Ne==="style"?dn(dn({},$t[Ne]),ve[Ne]):ve[Ne]}return Tt.className&&($t.className=Ua($t.className,Tt.className)),$t}(b,V,mt),O=Dt.as||me,et={};for(var ht in Dt)Dt[ht]===void 0||ht[0]==="$"||ht==="as"||ht==="theme"&&Dt.theme===mt||(ht==="forwardedAs"?et.as=Dt.forwardedAs:yt&&!yt(ht,O)||(et[ht]=Dt[ht]));var lt=function(St,Tt){var ee=g0(),It=St.generateAndInjectStyles(Tt,ee.styleSheet,ee.stylis);return It}(I,Dt),st=Ua(k,x);return lt&&(st+=" "+lt),Dt.className&&(st+=" "+Dt.className),et[Jd(O)&&!YT.has(O)?"class":"className"]=st,w&&(et.ref=w),K.createElement(O,et)}(X,ot,at)}J.displayName=A;var X=ka.forwardRef(J);return X.attrs=D,X.componentStyle=$,X.displayName=A,X.shouldForwardProp=N,X.foldedComponentIds=a?Ua(l.foldedComponentIds,l.styledComponentId):"",X.styledComponentId=R,X.target=a?l.target:i,Object.defineProperty(X,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ot){this._foldedDefaultProps=a?function(at){for(var ct=[],V=1;V<arguments.length;V++)ct[V-1]=arguments[V];for(var w=0,b=ct;w<b.length;w++)Pm(at,b[w],!0);return at}({},l.defaultProps,ot):ot}}),Np(X,function(){return".".concat(X.styledComponentId)}),u&&e1(X,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),X}function v0(i,t){for(var r=[i[0]],a=0,l=t.length;a<l;a+=1)r.push(t[a],i[a+1]);return r}var _0=function(i){return Object.assign(i,{isCss:!0})};function mx(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(tl(i)||qo(i))return _0(za(v0(Mh,sh([i],t,!0))));var a=i;return t.length===0&&a.length===1&&typeof a[0]=="string"?za(a):_0(za(v0(a,t)))}function km(i,t,r){if(r===void 0&&(r=Js),!t)throw Zo(1,t);var a=function(l){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return i(t,r,mx.apply(void 0,sh([l],u,!1)))};return a.attrs=function(l){return km(i,t,dn(dn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},a.withConfig=function(l){return km(i,t,dn(dn({},r),l))},a}var u1=function(i){return km(dx,i)},Ct=u1;YT.forEach(function(i){Ct[i]=u1(i)});const px=({id:i,rank:t,name:r,total:a,points:l})=>B.jsxs(gx,{children:[B.jsx(yx,{$rank:t,children:t}),B.jsx(vx,{children:r}),B.jsx(_x,{children:B.jsx(em,{$negative:a<0,children:a.toFixed(1)})}),l.map((u,f)=>typeof u=="string"?B.jsx(Ho,{children:B.jsx(em,{children:u})},f):B.jsx(Ho,{children:B.jsx(em,{$negative:u<0,children:u.toFixed(1)})},f))]},i),gx=Ct.tr`
  &:nth-child(even) {
    background-color: #f2f2f2;
  }

  &:nth-child(odd) {
    background-color: #fff;
  }
`,Ho=Ct.td`
  color: #434343;
`,yx=Ct(Ho)`
  font-weight: bold;
  color: ${({$rank:i})=>["#d4af37","#a9a9a9","#8b5a2b"].at(i-1)};
`,vx=Ct(Ho)`
  background-color: #d0e0e3;
  border-bottom: 1px solid #f2f2f2;
`,_x=Ct(Ho)`
  font-weight: bold;
  background-color: #fff2cc;
  border-bottom: 1px solid #f8e09b;
`,em=Ct.div`
  padding-right: 33%;
  color: ${({$negative:i})=>i?"#ff0000":void 0};
  text-align: right;
`,Ex=({nameByID:i,players:t,pointsByID:r})=>{const a=t.map(l=>{const u=r.get(l);return{id:l,name:i.get(l),total:(u==null?void 0:u.filter(f=>typeof f=="number").reduce((f,m)=>m+f,0))??0,points:u??[]}}).sort((l,u)=>(u.total??0)-(l.total??0)).reduce((l,u,f)=>{const m=l.at(-1);return l.concat([{...u,rank:m==null?1:u.total===m.total?m.rank:f+1}])},[]);return B.jsxs(Tx,{children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx(Cc,{children:""}),B.jsx(Cc,{children:""}),B.jsx(Cc,{children:""}),a[0].points.map((l,u)=>B.jsxs(Cc,{children:[u+1,""]},u))]})}),B.jsx("tbody",{children:a.map(l=>B.jsx(px,{id:l.id,rank:l.rank,name:l.name,total:l.total,points:l.points},l.id))})]})},Tx=Ct.table`
  width: 95vw;
  height: 95vh;
  font-size: 1.5vw;
  border-radius: 10px;
`,Cc=Ct.th`
  color: #fff;
  background-color: #356854;
`,Sx=({rank:i,names:t,total:r,points:a})=>B.jsxs(B.Fragment,{children:[B.jsxs(E0,{children:[B.jsx(Ax,{$rank:i,rowSpan:2,children:i}),B.jsx(T0,{children:t[0]}),B.jsx(bx,{rowSpan:2,children:B.jsx(_o,{$negative:r<0,children:r.toFixed(1)})}),a[0].map((l,u)=>typeof l=="string"?B.jsx(La,{children:B.jsx(_o,{children:l})},u):B.jsx(La,{children:B.jsx(_o,{$negative:l<0,children:l.toFixed(1)})},u))]}),B.jsxs(E0,{children:[B.jsx(T0,{children:t[1]}),a[1].map((l,u)=>typeof l=="string"?B.jsx(La,{children:B.jsx(_o,{children:l})},u):B.jsx(La,{children:B.jsx(_o,{$negative:l<0,children:l.toFixed(1)})},u))]})]}),E0=Ct.tr`
  &:nth-child(even) {
    background-color: #f2f2f2;
  }

  &:nth-child(odd) {
    background-color: #fff;
  }
`,La=Ct.td`
  color: #434343;
`,Ax=Ct(La)`
  font-weight: bold;
  color: ${({$rank:i})=>["#d4af37","#a9a9a9","#8b5a2b"].at(i-1)};
`,T0=Ct(La)`
  background-color: #d0e0e3;
  border-bottom: 1px solid #f2f2f2;
`,bx=Ct(La)`
  font-weight: bold;
  background-color: #fff2cc;
  border-bottom: 1px solid #f8e09b;
`,_o=Ct.div`
  padding-right: 33%;
  color: ${({$negative:i})=>i?"#ff0000":void 0};
  text-align: right;
`,Rx=({nameByID:i,pairs:t,pointsByID:r})=>{const a=t.map(({players:[l,u]})=>{var m;const f=[r.get(l),r.get(u)];return{names:[i.get(l),i.get(u)],total:((m=f.flat())==null?void 0:m.filter(p=>typeof p=="number").reduce((p,y)=>y+p,0))??0,points:f??[]}}).sort((l,u)=>(u.total??0)-(l.total??0)).reduce((l,u,f)=>{const m=l.at(-1);return l.concat([{...u,rank:m==null?1:u.total===m.total?m.rank:f+1}])},[]);return B.jsxs(wx,{children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx(Dc,{children:""}),B.jsx(Dc,{children:""}),B.jsx(Dc,{children:""}),a[0].points[0].map((l,u)=>B.jsxs(Dc,{children:[u+1,""]},u))]})}),B.jsx("tbody",{children:a.map((l,u)=>B.jsx(Sx,{rank:l.rank,names:l.names,total:l.total,points:l.points},`${t[u].players[0]}-${t[u].players[1]}`))})]})},wx=Ct.table`
  width: 95vw;
  height: 95vh;
  font-size: 1.5vw;
  border-radius: 10px;
`,Dc=Ct.th`
  color: #fff;
  background-color: #356854;
`,Cx=({team:i,names:t,total:r,subtotal:a,points:l})=>B.jsxs(B.Fragment,{children:[B.jsxs(S0,{children:[B.jsx(Dx,{rowSpan:2,children:i}),B.jsx(A0,{children:t[0]}),B.jsx(xx,{rowSpan:2,children:B.jsx(Oa,{$negative:r<0,children:r.toFixed(1)})}),B.jsx(b0,{children:B.jsx(Oa,{$negative:a[0]<0,children:a[0].toFixed(1)})}),l[0].map((u,f)=>typeof u=="string"?B.jsx(zi,{children:B.jsx(Oa,{children:u})},f):B.jsx(zi,{children:B.jsx(Oa,{$negative:u<0,children:u.toFixed(1)})},f))]}),B.jsxs(S0,{children:[B.jsx(A0,{children:t[1]}),B.jsx(b0,{children:B.jsx(Oa,{$negative:a[1]<0,children:a[1].toFixed(1)})}),l[1].map((u,f)=>typeof u=="string"?B.jsx(zi,{children:B.jsx(Oa,{children:u})},f):B.jsx(zi,{children:B.jsx(Oa,{$negative:u<0,children:u.toFixed(1)})},f))]})]}),S0=Ct.tr`
  &:nth-child(even) {
    background-color: #f2f2f2;
  }

  &:nth-child(odd) {
    background-color: #fff;
  }
`,zi=Ct.td`
  color: #434343;
`,Dx=Ct(zi)`
  font-weight: bold;
`,A0=Ct(zi)`
  background-color: #d0e0e3;
  border-bottom: 1px solid #f2f2f2;
`,xx=Ct(zi)`
  font-weight: bold;
  background-color: #fff2cc;
  border-bottom: 1px solid #f8e09b;
`,b0=Ct(zi)`
  background-color: #fafad2;
  border-bottom: 1px solid #f8e09b;
`,Oa=Ct.div`
  padding-right: 33%;
  color: ${({$negative:i})=>i?"#ff0000":void 0};
  text-align: right;
`,Vx=({nameByID:i,pairs:t,pointsByID:r})=>{const a=t.map(l=>{var p;const[u,f]=l.players,m=[r.get(u),r.get(f)];return{team:l.team,names:[i.get(u),i.get(f)],total:((p=m.flat())==null?void 0:p.filter(y=>typeof y=="number").reduce((y,E)=>E+y,0))??0,subtotal:[m[0].filter(y=>typeof y=="number").reduce((y,E)=>E+y,0)??0,m[1].filter(y=>typeof y=="number").reduce((y,E)=>E+y,0)??0],points:m??[]}}).sort((l,u)=>(u.total??0)-(l.total??0));return B.jsxs(Ix,{children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx(Ox,{children:""}),B.jsx(Nx,{children:""}),B.jsx(Io,{children:""}),B.jsx(Io,{children:""}),a[0].points[0].map((l,u)=>B.jsxs(Io,{children:[u+1,""]},u))]})}),B.jsx("tbody",{children:a.map(l=>B.jsx(Cx,{team:l.team,names:l.names,total:l.total,subtotal:l.subtotal,points:l.points},`${l.team}`))})]})},Ix=Ct.table`
  width: 95vw;
  height: 95vh;
  font-size: 1.5vw;
  border-radius: 10px;
`,Io=Ct.th`
  color: #fff;
  background-color: #356854;
`,Ox=Ct(Io)`
  width: 15vw;
`,Nx=Ct(Io)`
  width: 12.5vw;
`,Mx=()=>{var u;const{id:i}=qm(),[t]=G0(),{nameByID:r}=Dp(),{contest:a}=Cp(i??"");if(r===null||a===null)return null;const l=new Map(a.players.map(f=>[f,a.results.map(m=>{const p=m.find(({players:E})=>E.includes(f));return p===void 0?"":p.scores===null?p.table:$0(p.scores,a.rule)[p.players.indexOf(f)]})]));return((u=a.rule)==null?void 0:u.id)==="pair"?t.has("subtotal")?B.jsx(Vx,{nameByID:r,pairs:a.rule.pairs,pointsByID:l}):B.jsx(Rx,{nameByID:r,pairs:a.rule.pairs,pointsByID:l}):B.jsx(Ex,{nameByID:r,players:a.players,pointsByID:l})},Ux=({score:i,commit:t})=>B.jsx(Lx,{type:"number",placeholder:"",defaultValue:i??"",onBlur:r=>t(parseInt(r.target.value))}),Lx=Ct.input`
  width: 100%;
  height: 100%;
  font-size: 24px;
  color: #434343;
  text-align: center;
  background-color: #fff;
  border: none;

  &::placeholder {
    color: #ccc;
  }
`,Px=({wind:i,setWind:t})=>B.jsx("div",{children:B.jsx(zx,{value:i,onChange:r=>t(parseInt(r.target.value)),"aria-label":"wind",children:kx.map((r,a)=>B.jsx("option",{value:a,children:r},a))})}),zx=Ct.select`
  width: 60px;
  font-size: 24px;
`,kx=["","","",""],jx=({nameByID:i,result:t,rule:r,setPlayers:a,setScores:l,saveScores:u})=>{const[f,m]=K.useState(t.players),[p,y]=K.useState(t.scores??t.players.map(()=>null));K.useEffect(()=>{R0(f,t.players)&&a(f),p.every(q=>q!==null)&&p.every(q=>!isNaN(q))&&(t.scores===null||R0(p,t.scores))&&l(p)},[f,p,t.players,t.scores,a,l]);const E=q=>P=>y(p.map(($,J)=>J===q?P:$)),A=q=>P=>{m(w0(f,q,P)),y(w0(p,q,P))},R=p.every(q=>q!==null&&!isNaN(q)),D=R?$0(p.filter(q=>q!==null),r):p.map(()=>null),N=p.filter(q=>q!==null).reduce((q,P)=>q+P,0);return B.jsxs(Bx,{children:[B.jsxs("table",{children:[B.jsx("thead",{children:B.jsx("tr",{children:f.map(q=>B.jsx(qx,{children:i.get(q)??""},q))})}),B.jsxs("tbody",{children:[B.jsx(nm,{children:f.map((q,P)=>B.jsx(rm,{children:B.jsx(Px,{wind:P,setWind:A(P)})},P))}),B.jsx(nm,{children:p.map((q,P)=>B.jsx(rm,{children:B.jsx(Ux,{score:q,commit:E(P)})},`${P} ${f[P]}`))}),B.jsx(nm,{children:D.map((q,P)=>B.jsx(rm,{children:B.jsx(Hx,{$negative:(q??0)<0,children:(q==null?void 0:q.toFixed(1))??""})},P))})]})]}),R&&N!==Q0(p.length)&&B.jsxs("div",{children:["  ",N.toLocaleString()," "]}),B.jsx("button",{type:"button",disabled:!R,onClick:u,children:""})]})},Bx=Ct.div`
  font-size: 24px;
`,qx=Ct.th`
  width: 150px;
  height: 50px;
  color: #fff;
  background-color: #356854;
`,nm=Ct.tr`
  height: 50px;
  background-color: #fff;
`,rm=Ct.td`
  color: #434343;
  background-color: #fff;
  border: #f2f2f2 solid 1px;
`,Hx=Ct.div`
  color: ${({$negative:i})=>i?"#ff0000":void 0};
`,R0=(i,t)=>i.length!==t.length||i.some((r,a)=>r!==t[a]),w0=(i,t,r)=>i.map((a,l)=>l===t?i[r]:l===r?i[t]:i[l]),C0=({name:i,options:t,current:r,set:a})=>B.jsx("div",{children:B.jsx(Fx,{value:r,onChange:l=>a(parseInt(l.target.value)),"aria-label":i,children:t.map((l,u)=>B.jsx("option",{value:u,children:l},u))})}),Fx=Ct.select`
  width: 120px;
  font-size: 24px;
`,Gx=({contest:i,round:t,table:r,setRound:a,setTable:l})=>B.jsxs($x,{children:[B.jsx(C0,{name:"round",options:i.results.map((u,f)=>`${f+1}`),current:t,set:u=>{a(u),l(0)}}),B.jsx(C0,{name:"table",options:i.results[t].map(u=>u.table),current:r,set:l})]}),$x=Ct.div`
  display: flex;
  column-gap: 24px;
`,Qx=()=>{var A;const{id:i}=qm(),[t,r]=G0(),a=parseInt(t.get("round")??"0"),l=parseInt(t.get("table")??"0"),{nameByID:u}=Dp(),{contest:f,mutateContest:m,saveScores:p}=Cp(i??"");if(u===null||f===null||isNaN(a)||isNaN(l))return null;const y=(A=f.results.at(a))==null?void 0:A.at(l);if(y===void 0)return null;const E=R=>D=>r(N=>(N.set(R,D.toString()),N));return B.jsxs(Kx,{children:[B.jsx(Gx,{contest:f,round:a,table:l,setRound:E("round"),setTable:E("table")}),B.jsx(jx,{nameByID:u,result:y,rule:f.rule,setPlayers:R=>m(D=>{D.results[a][l].players=R}),setScores:R=>m(D=>{D.results[a][l].scores=R}),saveScores:()=>p(a,l)},`${a} ${l}`)]})},Kx=Ct.div`
  display: flex;
  flex-direction: column;
  row-gap: 32px;
  align-items: center;
`,Yx=i=>{i.results=Zx.map(t=>t.map((r,a)=>({table:Xx[a],players:r.map(l=>i.players[l-1]),scores:null})))},Xx=["A","B","C","D"],Zx=[[[1,2,7,12],[4,5,8,11],[9,10,13,16],[3,6,14,15]],[[5,6,7,9],[1,3,8,13],[10,11,12,14],[2,4,15,16]],[[7,11,13,15],[2,6,8,10],[1,4,9,14],[3,5,12,16]],[[4,6,12,13],[2,3,9,11],[7,8,14,16],[1,5,10,15]],[[1,6,11,16],[3,4,7,10],[8,9,12,15],[2,5,13,14]]],Uh=({text:i,setText:t,size:r})=>B.jsx("div",{children:B.jsx("input",{type:"text",value:i,size:r,onChange:a=>t(a.target.value)})}),Mp=({nameByID:i,current:t,set:r})=>B.jsx("div",{children:B.jsx(Wx,{value:t,onChange:a=>r(parseInt(a.target.value)),children:Array.from(i.entries()).map(([a,l])=>B.jsx("option",{value:a,children:l},a))})}),Wx=Ct.select`
  width: 120px;
  font-size: 24px;
`,Jx=({nameByID:i,result:t,setResult:r})=>B.jsxs("div",{children:[B.jsx(Uh,{text:t.table,setText:a=>r({...t,table:a}),size:10}),t.players.map((a,l)=>B.jsx(Mp,{nameByID:i,current:a,set:u=>r({...t,players:t.players.map((f,m)=>l===m?u:f)})},l))]}),tV=({srcID:i})=>{const[t,r]=K.useState("");return B.jsxs("div",{children:[B.jsx(Uh,{text:t,setText:r,size:25}),B.jsx("button",{type:"button",onClick:()=>c2(i,t),children:""})]})},eV=({date:i,setDate:t})=>B.jsx(Uh,{text:i,setText:t,size:20}),nV=({rule:i,setRule:t})=>B.jsxs("div",{children:[B.jsxs("label",{children:[B.jsx("input",{type:"radio",name:"rule",value:"normal",checked:i===void 0||i.id==="normal",onChange:()=>t({id:"normal",uma:i.uma})}),""]}),B.jsxs("label",{children:[B.jsx("input",{type:"radio",name:"rule",value:"pair",checked:i.id==="pair",onChange:()=>t({id:"pair",pairs:[],uma:i.uma})}),""]})]}),rV=({nameByID:i,players:t,setPlayers:r})=>{const a=t.length>0?t:Array.from({length:16},(l,u)=>u);return B.jsx(iV,{children:a.map((l,u)=>B.jsx(Mp,{nameByID:i,current:l,set:f=>r(a.map((m,p)=>u===p?f:m))},u))})},iV=Ct.div`
  display: flex;
  flex-direction: column;
  row-gap: 8px;
`,aV=({nameByID:i,rule:t,setRule:r,setPlayers:a})=>{const l=t.pairs.length>0?t.pairs:Array.from({length:8},()=>({team:"",players:[1,1]})),u=p=>lV.map(([y,E])=>p[y].players[E]),f=(p,y)=>{const E=structuredClone(t);E.pairs=l,E.pairs[y].team=p,r(E)},m=(p,y,E)=>{const A=structuredClone(t);A.pairs=l,A.pairs[y].players[E]=p,r(A),a(u(A.pairs))};return B.jsx(sV,{children:l.map((p,y)=>B.jsxs(ka.Fragment,{children:[B.jsx(Uh,{text:p.team,setText:E=>f(E,y)}),p.players.map((E,A)=>B.jsx(Mp,{nameByID:i,current:E,set:R=>m(R,y,A)},`${y}-${A}`))]},y))})},sV=Ct.div`
  display: grid;
  grid-template-columns: auto auto auto;
  gap: 8px;
`,lV=[[0,0],[1,0],[2,0],[0,1],[2,1],[1,1],[3,0],[4,0],[5,0],[4,1],[3,1],[6,0],[7,0],[5,1],[7,1],[6,1]],oV=({nameByID:i,players:t,setPlayers:r,rule:a,setRule:l})=>(a==null?void 0:a.id)==="pair"?B.jsx(aV,{nameByID:i,setPlayers:r,rule:a,setRule:l}):B.jsx(rV,{nameByID:i,players:t,setPlayers:r}),uV=({uma:i,setUma:t})=>B.jsx("div",{children:i==null?void 0:i.map((r,a)=>B.jsx("input",{type:"number",value:r,onChange:l=>t(i.map((u,f)=>f===a?Number(l.target.value):u))},a))}),cV=()=>{const{id:i}=qm(),{contest:t,mutateContest:r,saveContest:a}=Cp(i??""),{nameByID:l}=Dp();return i===void 0||t===null||l===null?null:B.jsxs("div",{children:[B.jsx(eV,{date:t.date,setDate:u=>r(f=>f.date=u)}),B.jsx(uV,{uma:t.rule.uma,setUma:u=>r(f=>f.rule.uma=u)}),B.jsx(nV,{rule:t.rule,setRule:u=>r(f=>f.rule=u)}),B.jsx(oV,{nameByID:l,players:t.players,setPlayers:u=>r(f=>{f.players=u}),rule:t.rule,setRule:u=>r(f=>f.rule=u)}),t.results.map((u,f)=>B.jsxs("div",{children:[B.jsxs("div",{children:[f+1,""]}),u.map((m,p)=>B.jsx(Jx,{nameByID:l,result:m,setResult:y=>{r(E=>{E.results[f][p]=y})}},p)),B.jsx("button",{type:"button",onClick:()=>r(m=>m.results[f].push({table:"",players:[0,0,0,0],scores:null})),children:""})]},f)),B.jsx("button",{type:"button",onClick:()=>r(u=>u.results.push([])),children:""}),B.jsx("button",{type:"button",onClick:()=>r(Yx),children:""}),B.jsx("button",{type:"button",onClick:()=>a(),children:""}),B.jsx(tV,{srcID:i})]})};FS.createRoot(document.getElementById("root")).render(B.jsx(K.StrictMode,{children:B.jsx(sb,{basename:"/mj-contest",children:B.jsxs(UA,{children:[B.jsx(Eo,{path:"/",element:B.jsx(GS,{})}),B.jsx(Eo,{path:"/result/:id",element:B.jsx(Mx,{})}),B.jsx(Eo,{path:"/form/:id",element:B.jsx(Qx,{})}),B.jsx(Eo,{path:"/edit_contest/:id",element:B.jsx(cV,{})})]})})}));
